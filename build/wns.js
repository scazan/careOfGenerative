!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("WNS",[],t):"object"==typeof exports?exports.WNS=t():e.WNS=t()}(window,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(e,t,n){(function(n){var r;
/*!
 *  howler.js v2.1.2
 *  howlerjs.com
 *
 *  (c) 2013-2019, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */
/*!
 *  howler.js v2.1.2
 *  howlerjs.com
 *
 *  (c) 2013-2019, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */
!function(){"use strict";var i=function(){this.init()};i.prototype={init:function(){var e=this||o;return e._counter=1e3,e._html5AudioPool=[],e.html5PoolSize=10,e._codecs={},e._howls=[],e._muted=!1,e._volume=1,e._canPlayEvent="canplaythrough",e._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,e.masterGain=null,e.noAudio=!1,e.usingWebAudio=!0,e.autoSuspend=!0,e.ctx=null,e.autoUnlock=!0,e._setup(),e},volume:function(e){var t=this||o;if(e=parseFloat(e),t.ctx||_(),void 0!==e&&e>=0&&e<=1){if(t._volume=e,t._muted)return t;t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e,o.ctx.currentTime);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var r=t._howls[n]._getSoundIds(),i=0;i<r.length;i++){var a=t._howls[n]._soundById(r[i]);a&&a._node&&(a._node.volume=a._volume*e)}return t}return t._volume},mute:function(e){var t=this||o;t.ctx||_(),t._muted=e,t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e?0:t._volume,o.ctx.currentTime);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var r=t._howls[n]._getSoundIds(),i=0;i<r.length;i++){var a=t._howls[n]._soundById(r[i]);a&&a._node&&(a._node.muted=!!e||a._muted)}return t},unload:function(){for(var e=this||o,t=e._howls.length-1;t>=0;t--)e._howls[t].unload();return e.usingWebAudio&&e.ctx&&void 0!==e.ctx.close&&(e.ctx.close(),e.ctx=null,_()),e},codecs:function(e){return(this||o)._codecs[e.replace(/^x-/,"")]},_setup:function(){var e=this||o;if(e.state=e.ctx&&e.ctx.state||"suspended",e._autoSuspend(),!e.usingWebAudio)if("undefined"!=typeof Audio)try{void 0===(new Audio).oncanplaythrough&&(e._canPlayEvent="canplay")}catch(t){e.noAudio=!0}else e.noAudio=!0;try{(new Audio).muted&&(e.noAudio=!0)}catch(e){}return e.noAudio||e._setupCodecs(),e},_setupCodecs:function(){var e=this||o,t=null;try{t="undefined"!=typeof Audio?new Audio:null}catch(t){return e}if(!t||"function"!=typeof t.canPlayType)return e;var n=t.canPlayType("audio/mpeg;").replace(/^no$/,""),r=e._navigator&&e._navigator.userAgent.match(/OPR\/([0-6].)/g),i=r&&parseInt(r[0].split("/")[1],10)<33;return e._codecs={mp3:!(i||!n&&!t.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!n,opus:!!t.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!t.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),aac:!!t.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!t.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/m4a;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(t.canPlayType("audio/x-mp4;")||t.canPlayType("audio/mp4;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),webm:!!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),dolby:!!t.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(t.canPlayType("audio/x-flac;")||t.canPlayType("audio/flac;")).replace(/^no$/,"")},e},_unlockAudio:function(){var e=this||o;if(!e._audioUnlocked&&e.ctx){e._audioUnlocked=!1,e.autoUnlock=!1,e._mobileUnloaded||44100===e.ctx.sampleRate||(e._mobileUnloaded=!0,e.unload()),e._scratchBuffer=e.ctx.createBuffer(1,1,22050);var t=function(n){for(var r=0;r<e.html5PoolSize;r++)try{var i=new Audio;i._unlocked=!0,e._releaseHtml5Audio(i)}catch(n){e.noAudio=!0}for(r=0;r<e._howls.length;r++)if(!e._howls[r]._webAudio)for(var o=e._howls[r]._getSoundIds(),a=0;a<o.length;a++){var s=e._howls[r]._soundById(o[a]);s&&s._node&&!s._node._unlocked&&(s._node._unlocked=!0,s._node.load())}e._autoResume();var u=e.ctx.createBufferSource();u.buffer=e._scratchBuffer,u.connect(e.ctx.destination),void 0===u.start?u.noteOn(0):u.start(0),"function"==typeof e.ctx.resume&&e.ctx.resume(),u.onended=function(){u.disconnect(0),e._audioUnlocked=!0,document.removeEventListener("touchstart",t,!0),document.removeEventListener("touchend",t,!0),document.removeEventListener("click",t,!0);for(var n=0;n<e._howls.length;n++)e._howls[n]._emit("unlock")}};return document.addEventListener("touchstart",t,!0),document.addEventListener("touchend",t,!0),document.addEventListener("click",t,!0),e}},_obtainHtml5Audio:function(){var e=this||o;if(e._html5AudioPool.length)return e._html5AudioPool.pop();var t=(new Audio).play();return t&&"undefined"!=typeof Promise&&(t instanceof Promise||"function"==typeof t.then)&&t.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(e){var t=this||o;return e._unlocked&&t._html5AudioPool.push(e),t},_autoSuspend:function(){var e=this;if(e.autoSuspend&&e.ctx&&void 0!==e.ctx.suspend&&o.usingWebAudio){for(var t=0;t<e._howls.length;t++)if(e._howls[t]._webAudio)for(var n=0;n<e._howls[t]._sounds.length;n++)if(!e._howls[t]._sounds[n]._paused)return e;return e._suspendTimer&&clearTimeout(e._suspendTimer),e._suspendTimer=setTimeout(function(){e.autoSuspend&&(e._suspendTimer=null,e.state="suspending",e.ctx.suspend().then(function(){e.state="suspended",e._resumeAfterSuspend&&(delete e._resumeAfterSuspend,e._autoResume())}))},3e4),e}},_autoResume:function(){var e=this;if(e.ctx&&void 0!==e.ctx.resume&&o.usingWebAudio)return"running"===e.state&&e._suspendTimer?(clearTimeout(e._suspendTimer),e._suspendTimer=null):"suspended"===e.state?(e.ctx.resume().then(function(){e.state="running";for(var t=0;t<e._howls.length;t++)e._howls[t]._emit("resume")}),e._suspendTimer&&(clearTimeout(e._suspendTimer),e._suspendTimer=null)):"suspending"===e.state&&(e._resumeAfterSuspend=!0),e}};var o=new i,a=function(e){e.src&&0!==e.src.length?this.init(e):console.error("An array of source files must be passed with any new Howl.")};a.prototype={init:function(e){var t=this;return o.ctx||_(),t._autoplay=e.autoplay||!1,t._format="string"!=typeof e.format?e.format:[e.format],t._html5=e.html5||!1,t._muted=e.mute||!1,t._loop=e.loop||!1,t._pool=e.pool||5,t._preload="boolean"!=typeof e.preload||e.preload,t._rate=e.rate||1,t._sprite=e.sprite||{},t._src="string"!=typeof e.src?e.src:[e.src],t._volume=void 0!==e.volume?e.volume:1,t._xhrWithCredentials=e.xhrWithCredentials||!1,t._duration=0,t._state="unloaded",t._sounds=[],t._endTimers={},t._queue=[],t._playLock=!1,t._onend=e.onend?[{fn:e.onend}]:[],t._onfade=e.onfade?[{fn:e.onfade}]:[],t._onload=e.onload?[{fn:e.onload}]:[],t._onloaderror=e.onloaderror?[{fn:e.onloaderror}]:[],t._onplayerror=e.onplayerror?[{fn:e.onplayerror}]:[],t._onpause=e.onpause?[{fn:e.onpause}]:[],t._onplay=e.onplay?[{fn:e.onplay}]:[],t._onstop=e.onstop?[{fn:e.onstop}]:[],t._onmute=e.onmute?[{fn:e.onmute}]:[],t._onvolume=e.onvolume?[{fn:e.onvolume}]:[],t._onrate=e.onrate?[{fn:e.onrate}]:[],t._onseek=e.onseek?[{fn:e.onseek}]:[],t._onunlock=e.onunlock?[{fn:e.onunlock}]:[],t._onresume=[],t._webAudio=o.usingWebAudio&&!t._html5,void 0!==o.ctx&&o.ctx&&o.autoUnlock&&o._unlockAudio(),o._howls.push(t),t._autoplay&&t._queue.push({event:"play",action:function(){t.play()}}),t._preload&&t.load(),t},load:function(){var e=null;if(o.noAudio)this._emit("loaderror",null,"No audio support.");else{"string"==typeof this._src&&(this._src=[this._src]);for(var t=0;t<this._src.length;t++){var n,r;if(this._format&&this._format[t])n=this._format[t];else{if("string"!=typeof(r=this._src[t])){this._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(n=/^data:audio\/([^;,]+);/i.exec(r))||(n=/\.([^.]+)$/.exec(r.split("?",1)[0])),n&&(n=n[1].toLowerCase())}if(n||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),n&&o.codecs(n)){e=this._src[t];break}}if(e)return this._src=e,this._state="loading","https:"===window.location.protocol&&"http:"===e.slice(0,5)&&(this._html5=!0,this._webAudio=!1),new s(this),this._webAudio&&d(this),this;this._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(e,t){var n=this,r=null;if("number"==typeof e)r=e,e=null;else{if("string"==typeof e&&"loaded"===n._state&&!n._sprite[e])return null;if(void 0===e&&(e="__default",!n._playLock)){for(var i=0,a=0;a<n._sounds.length;a++)n._sounds[a]._paused&&!n._sounds[a]._ended&&(i++,r=n._sounds[a]._id);1===i?e=null:r=null}}var s=r?n._soundById(r):n._inactiveSound();if(!s)return null;if(r&&!e&&(e=s._sprite||"__default"),"loaded"!==n._state){s._sprite=e,s._ended=!1;var u=s._id;return n._queue.push({event:"play",action:function(){n.play(u)}}),u}if(r&&!s._paused)return t||n._loadQueue("play"),s._id;n._webAudio&&o._autoResume();var d=Math.max(0,s._seek>0?s._seek:n._sprite[e][0]/1e3),l=Math.max(0,(n._sprite[e][0]+n._sprite[e][1])/1e3-d),c=1e3*l/Math.abs(s._rate),f=n._sprite[e][0]/1e3,_=(n._sprite[e][0]+n._sprite[e][1])/1e3,p=!(!s._loop&&!n._sprite[e][2]);s._sprite=e,s._ended=!1;var m=function(){s._paused=!1,s._seek=d,s._start=f,s._stop=_,s._loop=p};if(!(d>=_)){var h=s._node;if(n._webAudio){var g=function(){n._playLock=!1,m(),n._refreshBuffer(s);var e=s._muted||n._muted?0:s._volume;h.gain.setValueAtTime(e,o.ctx.currentTime),s._playStart=o.ctx.currentTime,void 0===h.bufferSource.start?s._loop?h.bufferSource.noteGrainOn(0,d,86400):h.bufferSource.noteGrainOn(0,d,l):s._loop?h.bufferSource.start(0,d,86400):h.bufferSource.start(0,d,l),c!==1/0&&(n._endTimers[s._id]=setTimeout(n._ended.bind(n,s),c)),t||setTimeout(function(){n._emit("play",s._id),n._loadQueue()},0)};"running"===o.state?g():(n._playLock=!0,n.once("resume",g),n._clearTimer(s._id))}else{var v=function(){h.currentTime=d,h.muted=s._muted||n._muted||o._muted||h.muted,h.volume=s._volume*o.volume(),h.playbackRate=s._rate;try{var r=h.play();if(r&&"undefined"!=typeof Promise&&(r instanceof Promise||"function"==typeof r.then)?(n._playLock=!0,m(),r.then(function(){n._playLock=!1,h._unlocked=!0,t||(n._emit("play",s._id),n._loadQueue())}).catch(function(){n._playLock=!1,n._emit("playerror",s._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),s._ended=!0,s._paused=!0})):t||(n._playLock=!1,m(),n._emit("play",s._id),n._loadQueue()),h.playbackRate=s._rate,h.paused)return void n._emit("playerror",s._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==e||s._loop?n._endTimers[s._id]=setTimeout(n._ended.bind(n,s),c):(n._endTimers[s._id]=function(){n._ended(s),h.removeEventListener("ended",n._endTimers[s._id],!1)},h.addEventListener("ended",n._endTimers[s._id],!1))}catch(e){n._emit("playerror",s._id,e)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===h.src&&(h.src=n._src,h.load());var y=window&&window.ejecta||!h.readyState&&o._navigator.isCocoonJS;if(h.readyState>=3||y)v();else{n._playLock=!0;var A=function(){v(),h.removeEventListener(o._canPlayEvent,A,!1)};h.addEventListener(o._canPlayEvent,A,!1),n._clearTimer(s._id)}}return s._id}n._ended(s)},pause:function(e){var t=this;if("loaded"!==t._state||t._playLock)return t._queue.push({event:"pause",action:function(){t.pause(e)}}),t;for(var n=t._getSoundIds(e),r=0;r<n.length;r++){t._clearTimer(n[r]);var i=t._soundById(n[r]);if(i&&!i._paused&&(i._seek=t.seek(n[r]),i._rateSeek=0,i._paused=!0,t._stopFade(n[r]),i._node))if(t._webAudio){if(!i._node.bufferSource)continue;void 0===i._node.bufferSource.stop?i._node.bufferSource.noteOff(0):i._node.bufferSource.stop(0),t._cleanBuffer(i._node)}else isNaN(i._node.duration)&&i._node.duration!==1/0||i._node.pause();arguments[1]||t._emit("pause",i?i._id:null)}return t},stop:function(e,t){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"stop",action:function(){n.stop(e)}}),n;for(var r=n._getSoundIds(e),i=0;i<r.length;i++){n._clearTimer(r[i]);var o=n._soundById(r[i]);o&&(o._seek=o._start||0,o._rateSeek=0,o._paused=!0,o._ended=!0,n._stopFade(r[i]),o._node&&(n._webAudio?o._node.bufferSource&&(void 0===o._node.bufferSource.stop?o._node.bufferSource.noteOff(0):o._node.bufferSource.stop(0),n._cleanBuffer(o._node)):isNaN(o._node.duration)&&o._node.duration!==1/0||(o._node.currentTime=o._start||0,o._node.pause(),o._node.duration===1/0&&n._clearSound(o._node))),t||n._emit("stop",o._id))}return n},mute:function(e,t){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"mute",action:function(){n.mute(e,t)}}),n;if(void 0===t){if("boolean"!=typeof e)return n._muted;n._muted=e}for(var r=n._getSoundIds(t),i=0;i<r.length;i++){var a=n._soundById(r[i]);a&&(a._muted=e,a._interval&&n._stopFade(a._id),n._webAudio&&a._node?a._node.gain.setValueAtTime(e?0:a._volume,o.ctx.currentTime):a._node&&(a._node.muted=!!o._muted||e),n._emit("mute",a._id))}return n},volume:function(){var e,t,n,r=this,i=arguments;if(0===i.length)return r._volume;if(1===i.length||2===i.length&&void 0===i[1]?r._getSoundIds().indexOf(i[0])>=0?t=parseInt(i[0],10):e=parseFloat(i[0]):i.length>=2&&(e=parseFloat(i[0]),t=parseInt(i[1],10)),!(void 0!==e&&e>=0&&e<=1))return(n=t?r._soundById(t):r._sounds[0])?n._volume:0;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"volume",action:function(){r.volume.apply(r,i)}}),r;void 0===t&&(r._volume=e),t=r._getSoundIds(t);for(var a=0;a<t.length;a++)(n=r._soundById(t[a]))&&(n._volume=e,i[2]||r._stopFade(t[a]),r._webAudio&&n._node&&!n._muted?n._node.gain.setValueAtTime(e,o.ctx.currentTime):n._node&&!n._muted&&(n._node.volume=e*o.volume()),r._emit("volume",n._id));return r},fade:function(e,t,n,r){var i=this;if("loaded"!==i._state||i._playLock)return i._queue.push({event:"fade",action:function(){i.fade(e,t,n,r)}}),i;e=parseFloat(e),t=parseFloat(t),n=parseFloat(n),i.volume(e,r);for(var a=i._getSoundIds(r),s=0;s<a.length;s++){var u=i._soundById(a[s]);if(u){if(r||i._stopFade(a[s]),i._webAudio&&!u._muted){var d=o.ctx.currentTime,l=d+n/1e3;u._volume=e,u._node.gain.setValueAtTime(e,d),u._node.gain.linearRampToValueAtTime(t,l)}i._startFadeInterval(u,e,t,n,a[s],void 0===r)}}return i},_startFadeInterval:function(e,t,n,r,i,o){var a=this,s=t,u=n-t,d=Math.abs(u/.01),l=Math.max(4,d>0?r/d:r),c=Date.now();e._fadeTo=n,e._interval=setInterval(function(){var i=(Date.now()-c)/r;c=Date.now(),s+=u*i,s=Math.max(0,s),s=Math.min(1,s),s=Math.round(100*s)/100,a._webAudio?e._volume=s:a.volume(s,e._id,!0),o&&(a._volume=s),(n<t&&s<=n||n>t&&s>=n)&&(clearInterval(e._interval),e._interval=null,e._fadeTo=null,a.volume(n,e._id),a._emit("fade",e._id))},l)},_stopFade:function(e){var t=this._soundById(e);return t&&t._interval&&(this._webAudio&&t._node.gain.cancelScheduledValues(o.ctx.currentTime),clearInterval(t._interval),t._interval=null,this.volume(t._fadeTo,e),t._fadeTo=null,this._emit("fade",e)),this},loop:function(){var e,t,n,r=arguments;if(0===r.length)return this._loop;if(1===r.length){if("boolean"!=typeof r[0])return!!(n=this._soundById(parseInt(r[0],10)))&&n._loop;e=r[0],this._loop=e}else 2===r.length&&(e=r[0],t=parseInt(r[1],10));for(var i=this._getSoundIds(t),o=0;o<i.length;o++)(n=this._soundById(i[o]))&&(n._loop=e,this._webAudio&&n._node&&n._node.bufferSource&&(n._node.bufferSource.loop=e,e&&(n._node.bufferSource.loopStart=n._start||0,n._node.bufferSource.loopEnd=n._stop)));return this},rate:function(){var e,t,n,r=this,i=arguments;if(0===i.length)t=r._sounds[0]._id;else if(1===i.length){r._getSoundIds().indexOf(i[0])>=0?t=parseInt(i[0],10):e=parseFloat(i[0])}else 2===i.length&&(e=parseFloat(i[0]),t=parseInt(i[1],10));if("number"!=typeof e)return(n=r._soundById(t))?n._rate:r._rate;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"rate",action:function(){r.rate.apply(r,i)}}),r;void 0===t&&(r._rate=e),t=r._getSoundIds(t);for(var a=0;a<t.length;a++)if(n=r._soundById(t[a])){r.playing(t[a])&&(n._rateSeek=r.seek(t[a]),n._playStart=r._webAudio?o.ctx.currentTime:n._playStart),n._rate=e,r._webAudio&&n._node&&n._node.bufferSource?n._node.bufferSource.playbackRate.setValueAtTime(e,o.ctx.currentTime):n._node&&(n._node.playbackRate=e);var s=r.seek(t[a]),u=1e3*((r._sprite[n._sprite][0]+r._sprite[n._sprite][1])/1e3-s)/Math.abs(n._rate);!r._endTimers[t[a]]&&n._paused||(r._clearTimer(t[a]),r._endTimers[t[a]]=setTimeout(r._ended.bind(r,n),u)),r._emit("rate",n._id)}return r},seek:function(){var e,t,n=this,r=arguments;if(0===r.length)t=n._sounds[0]._id;else if(1===r.length){n._getSoundIds().indexOf(r[0])>=0?t=parseInt(r[0],10):n._sounds.length&&(t=n._sounds[0]._id,e=parseFloat(r[0]))}else 2===r.length&&(e=parseFloat(r[0]),t=parseInt(r[1],10));if(void 0===t)return n;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"seek",action:function(){n.seek.apply(n,r)}}),n;var i=n._soundById(t);if(i){if(!("number"==typeof e&&e>=0)){if(n._webAudio){var a=n.playing(t)?o.ctx.currentTime-i._playStart:0,s=i._rateSeek?i._rateSeek-i._seek:0;return i._seek+(s+a*Math.abs(i._rate))}return i._node.currentTime}var u=n.playing(t);u&&n.pause(t,!0),i._seek=e,i._ended=!1,n._clearTimer(t),n._webAudio||!i._node||isNaN(i._node.duration)||(i._node.currentTime=e);var d=function(){n._emit("seek",t),u&&n.play(t,!0)};if(u&&!n._webAudio){var l=function(){n._playLock?setTimeout(l,0):d()};setTimeout(l,0)}else d()}return n},playing:function(e){if("number"==typeof e){var t=this._soundById(e);return!!t&&!t._paused}for(var n=0;n<this._sounds.length;n++)if(!this._sounds[n]._paused)return!0;return!1},duration:function(e){var t=this._duration,n=this._soundById(e);return n&&(t=this._sprite[n._sprite][1]/1e3),t},state:function(){return this._state},unload:function(){for(var e=this,t=e._sounds,n=0;n<t.length;n++)t[n]._paused||e.stop(t[n]._id),e._webAudio||(e._clearSound(t[n]._node),t[n]._node.removeEventListener("error",t[n]._errorFn,!1),t[n]._node.removeEventListener(o._canPlayEvent,t[n]._loadFn,!1),o._releaseHtml5Audio(t[n]._node)),delete t[n]._node,e._clearTimer(t[n]._id);var r=o._howls.indexOf(e);r>=0&&o._howls.splice(r,1);var i=!0;for(n=0;n<o._howls.length;n++)if(o._howls[n]._src===e._src||e._src.indexOf(o._howls[n]._src)>=0){i=!1;break}return u&&i&&delete u[e._src],o.noAudio=!1,e._state="unloaded",e._sounds=[],e=null,null},on:function(e,t,n,r){var i=this["_on"+e];return"function"==typeof t&&i.push(r?{id:n,fn:t,once:r}:{id:n,fn:t}),this},off:function(e,t,n){var r=this["_on"+e],i=0;if("number"==typeof t&&(n=t,t=null),t||n)for(i=0;i<r.length;i++){var o=n===r[i].id;if(t===r[i].fn&&o||!t&&o){r.splice(i,1);break}}else if(e)this["_on"+e]=[];else{var a=Object.keys(this);for(i=0;i<a.length;i++)0===a[i].indexOf("_on")&&Array.isArray(this[a[i]])&&(this[a[i]]=[])}return this},once:function(e,t,n){return this.on(e,t,n,1),this},_emit:function(e,t,n){for(var r=this["_on"+e],i=r.length-1;i>=0;i--)r[i].id&&r[i].id!==t&&"load"!==e||(setTimeout(function(e){e.call(this,t,n)}.bind(this,r[i].fn),0),r[i].once&&this.off(e,r[i].fn,r[i].id));return this._loadQueue(e),this},_loadQueue:function(e){if(this._queue.length>0){var t=this._queue[0];t.event===e&&(this._queue.shift(),this._loadQueue()),e||t.action()}return this},_ended:function(e){var t=e._sprite;if(!this._webAudio&&e._node&&!e._node.paused&&!e._node.ended&&e._node.currentTime<e._stop)return setTimeout(this._ended.bind(this,e),100),this;var n=!(!e._loop&&!this._sprite[t][2]);if(this._emit("end",e._id),!this._webAudio&&n&&this.stop(e._id,!0).play(e._id),this._webAudio&&n){this._emit("play",e._id),e._seek=e._start||0,e._rateSeek=0,e._playStart=o.ctx.currentTime;var r=1e3*(e._stop-e._start)/Math.abs(e._rate);this._endTimers[e._id]=setTimeout(this._ended.bind(this,e),r)}return this._webAudio&&!n&&(e._paused=!0,e._ended=!0,e._seek=e._start||0,e._rateSeek=0,this._clearTimer(e._id),this._cleanBuffer(e._node),o._autoSuspend()),this._webAudio||n||this.stop(e._id,!0),this},_clearTimer:function(e){if(this._endTimers[e]){if("function"!=typeof this._endTimers[e])clearTimeout(this._endTimers[e]);else{var t=this._soundById(e);t&&t._node&&t._node.removeEventListener("ended",this._endTimers[e],!1)}delete this._endTimers[e]}return this},_soundById:function(e){for(var t=0;t<this._sounds.length;t++)if(e===this._sounds[t]._id)return this._sounds[t];return null},_inactiveSound:function(){this._drain();for(var e=0;e<this._sounds.length;e++)if(this._sounds[e]._ended)return this._sounds[e].reset();return new s(this)},_drain:function(){var e=this._pool,t=0,n=0;if(!(this._sounds.length<e)){for(n=0;n<this._sounds.length;n++)this._sounds[n]._ended&&t++;for(n=this._sounds.length-1;n>=0;n--){if(t<=e)return;this._sounds[n]._ended&&(this._webAudio&&this._sounds[n]._node&&this._sounds[n]._node.disconnect(0),this._sounds.splice(n,1),t--)}}},_getSoundIds:function(e){if(void 0===e){for(var t=[],n=0;n<this._sounds.length;n++)t.push(this._sounds[n]._id);return t}return[e]},_refreshBuffer:function(e){return e._node.bufferSource=o.ctx.createBufferSource(),e._node.bufferSource.buffer=u[this._src],e._panner?e._node.bufferSource.connect(e._panner):e._node.bufferSource.connect(e._node),e._node.bufferSource.loop=e._loop,e._loop&&(e._node.bufferSource.loopStart=e._start||0,e._node.bufferSource.loopEnd=e._stop||0),e._node.bufferSource.playbackRate.setValueAtTime(e._rate,o.ctx.currentTime),this},_cleanBuffer:function(e){var t=o._navigator&&o._navigator.vendor.indexOf("Apple")>=0;if(o._scratchBuffer&&e.bufferSource&&(e.bufferSource.onended=null,e.bufferSource.disconnect(0),t))try{e.bufferSource.buffer=o._scratchBuffer}catch(e){}return e.bufferSource=null,this},_clearSound:function(e){/MSIE |Trident\//.test(o._navigator&&o._navigator.userAgent)||(e.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var s=function(e){this._parent=e,this.init()};s.prototype={init:function(){var e=this._parent;return this._muted=e._muted,this._loop=e._loop,this._volume=e._volume,this._rate=e._rate,this._seek=0,this._paused=!0,this._ended=!0,this._sprite="__default",this._id=++o._counter,e._sounds.push(this),this.create(),this},create:function(){var e=this._parent,t=o._muted||this._muted||this._parent._muted?0:this._volume;return e._webAudio?(this._node=void 0===o.ctx.createGain?o.ctx.createGainNode():o.ctx.createGain(),this._node.gain.setValueAtTime(t,o.ctx.currentTime),this._node.paused=!0,this._node.connect(o.masterGain)):(this._node=o._obtainHtml5Audio(),this._errorFn=this._errorListener.bind(this),this._node.addEventListener("error",this._errorFn,!1),this._loadFn=this._loadListener.bind(this),this._node.addEventListener(o._canPlayEvent,this._loadFn,!1),this._node.src=e._src,this._node.preload="auto",this._node.volume=t*o.volume(),this._node.load()),this},reset:function(){var e=this._parent;return this._muted=e._muted,this._loop=e._loop,this._volume=e._volume,this._rate=e._rate,this._seek=0,this._rateSeek=0,this._paused=!0,this._ended=!0,this._sprite="__default",this._id=++o._counter,this},_errorListener:function(){this._parent._emit("loaderror",this._id,this._node.error?this._node.error.code:0),this._node.removeEventListener("error",this._errorFn,!1)},_loadListener:function(){var e=this._parent;e._duration=Math.ceil(10*this._node.duration)/10,0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue()),this._node.removeEventListener(o._canPlayEvent,this._loadFn,!1)}};var u={},d=function(e){var t=e._src;if(u[t])return e._duration=u[t].duration,void f(e);if(/^data:[^;]+;base64,/.test(t)){for(var n=atob(t.split(",")[1]),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);c(r.buffer,e)}else{var o=new XMLHttpRequest;o.open("GET",t,!0),o.withCredentials=e._xhrWithCredentials,o.responseType="arraybuffer",o.onload=function(){var t=(o.status+"")[0];"0"===t||"2"===t||"3"===t?c(o.response,e):e._emit("loaderror",null,"Failed loading audio file with status: "+o.status+".")},o.onerror=function(){e._webAudio&&(e._html5=!0,e._webAudio=!1,e._sounds=[],delete u[t],e.load())},l(o)}},l=function(e){try{e.send()}catch(t){e.onerror()}},c=function(e,t){var n=function(){t._emit("loaderror",null,"Decoding audio data failed.")},r=function(e){e&&t._sounds.length>0?(u[t._src]=e,f(t,e)):n()};"undefined"!=typeof Promise&&1===o.ctx.decodeAudioData.length?o.ctx.decodeAudioData(e).then(r).catch(n):o.ctx.decodeAudioData(e,r,n)},f=function(e,t){t&&!e._duration&&(e._duration=t.duration),0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue())},_=function(){if(o.usingWebAudio){try{"undefined"!=typeof AudioContext?o.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?o.ctx=new webkitAudioContext:o.usingWebAudio=!1}catch(e){o.usingWebAudio=!1}o.ctx||(o.usingWebAudio=!1);var e=/iP(hone|od|ad)/.test(o._navigator&&o._navigator.platform),t=o._navigator&&o._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),n=t?parseInt(t[1],10):null;if(e&&n&&n<9){var r=/safari/.test(o._navigator&&o._navigator.userAgent.toLowerCase());(o._navigator&&o._navigator.standalone&&!r||o._navigator&&!o._navigator.standalone&&!r)&&(o.usingWebAudio=!1)}o.usingWebAudio&&(o.masterGain=void 0===o.ctx.createGain?o.ctx.createGainNode():o.ctx.createGain(),o.masterGain.gain.setValueAtTime(o._muted?0:1,o.ctx.currentTime),o.masterGain.connect(o.ctx.destination)),o._setup()}};void 0===(r=function(){return{Howler:o,Howl:a}}.apply(t,[]))||(e.exports=r),t.Howler=o,t.Howl=a,"undefined"!=typeof window?(window.HowlerGlobal=i,window.Howler=o,window.Howl=a,window.Sound=s):void 0!==n&&(n.HowlerGlobal=i,n.Howler=o,n.Howl=a,n.Sound=s)}(),
/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.1.2
 *  howlerjs.com
 *
 *  (c) 2013-2019, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */
function(){"use strict";var e;HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(e){if(!this.ctx||!this.ctx.listener)return this;for(var t=this._howls.length-1;t>=0;t--)this._howls[t].stereo(e);return this},HowlerGlobal.prototype.pos=function(e,t,n){return this.ctx&&this.ctx.listener?(t="number"!=typeof t?this._pos[1]:t,n="number"!=typeof n?this._pos[2]:n,"number"!=typeof e?this._pos:(this._pos=[e,t,n],void 0!==this.ctx.listener.positionX?(this.ctx.listener.positionX.setTargetAtTime(this._pos[0],Howler.ctx.currentTime,.1),this.ctx.listener.positionY.setTargetAtTime(this._pos[1],Howler.ctx.currentTime,.1),this.ctx.listener.positionZ.setTargetAtTime(this._pos[2],Howler.ctx.currentTime,.1)):this.ctx.listener.setPosition(this._pos[0],this._pos[1],this._pos[2]),this)):this},HowlerGlobal.prototype.orientation=function(e,t,n,r,i,o){if(!this.ctx||!this.ctx.listener)return this;var a=this._orientation;return t="number"!=typeof t?a[1]:t,n="number"!=typeof n?a[2]:n,r="number"!=typeof r?a[3]:r,i="number"!=typeof i?a[4]:i,o="number"!=typeof o?a[5]:o,"number"!=typeof e?a:(this._orientation=[e,t,n,r,i,o],void 0!==this.ctx.listener.forwardX?(this.ctx.listener.forwardX.setTargetAtTime(e,Howler.ctx.currentTime,.1),this.ctx.listener.forwardY.setTargetAtTime(t,Howler.ctx.currentTime,.1),this.ctx.listener.forwardZ.setTargetAtTime(n,Howler.ctx.currentTime,.1),this.ctx.listener.upX.setTargetAtTime(e,Howler.ctx.currentTime,.1),this.ctx.listener.upY.setTargetAtTime(t,Howler.ctx.currentTime,.1),this.ctx.listener.upZ.setTargetAtTime(n,Howler.ctx.currentTime,.1)):this.ctx.listener.setOrientation(e,t,n,r,i,o),this)},Howl.prototype.init=(e=Howl.prototype.init,function(t){return this._orientation=t.orientation||[1,0,0],this._stereo=t.stereo||null,this._pos=t.pos||null,this._pannerAttr={coneInnerAngle:void 0!==t.coneInnerAngle?t.coneInnerAngle:360,coneOuterAngle:void 0!==t.coneOuterAngle?t.coneOuterAngle:360,coneOuterGain:void 0!==t.coneOuterGain?t.coneOuterGain:0,distanceModel:void 0!==t.distanceModel?t.distanceModel:"inverse",maxDistance:void 0!==t.maxDistance?t.maxDistance:1e4,panningModel:void 0!==t.panningModel?t.panningModel:"HRTF",refDistance:void 0!==t.refDistance?t.refDistance:1,rolloffFactor:void 0!==t.rolloffFactor?t.rolloffFactor:1},this._onstereo=t.onstereo?[{fn:t.onstereo}]:[],this._onpos=t.onpos?[{fn:t.onpos}]:[],this._onorientation=t.onorientation?[{fn:t.onorientation}]:[],e.call(this,t)}),Howl.prototype.stereo=function(e,n){var r=this;if(!r._webAudio)return r;if("loaded"!==r._state)return r._queue.push({event:"stereo",action:function(){r.stereo(e,n)}}),r;var i=void 0===Howler.ctx.createStereoPanner?"spatial":"stereo";if(void 0===n){if("number"!=typeof e)return r._stereo;r._stereo=e,r._pos=[e,0,0]}for(var o=r._getSoundIds(n),a=0;a<o.length;a++){var s=r._soundById(o[a]);if(s){if("number"!=typeof e)return s._stereo;s._stereo=e,s._pos=[e,0,0],s._node&&(s._pannerAttr.panningModel="equalpower",s._panner&&s._panner.pan||t(s,i),"spatial"===i?void 0!==s._panner.positionX?(s._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),s._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),s._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):s._panner.setPosition(e,0,0):s._panner.pan.setValueAtTime(e,Howler.ctx.currentTime)),r._emit("stereo",s._id)}}return r},Howl.prototype.pos=function(e,n,r,i){var o=this;if(!o._webAudio)return o;if("loaded"!==o._state)return o._queue.push({event:"pos",action:function(){o.pos(e,n,r,i)}}),o;if(n="number"!=typeof n?0:n,r="number"!=typeof r?-.5:r,void 0===i){if("number"!=typeof e)return o._pos;o._pos=[e,n,r]}for(var a=o._getSoundIds(i),s=0;s<a.length;s++){var u=o._soundById(a[s]);if(u){if("number"!=typeof e)return u._pos;u._pos=[e,n,r],u._node&&(u._panner&&!u._panner.pan||t(u,"spatial"),void 0!==u._panner.positionX?(u._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),u._panner.positionY.setValueAtTime(n,Howler.ctx.currentTime),u._panner.positionZ.setValueAtTime(r,Howler.ctx.currentTime)):u._panner.setPosition(e,n,r)),o._emit("pos",u._id)}}return o},Howl.prototype.orientation=function(e,n,r,i){var o=this;if(!o._webAudio)return o;if("loaded"!==o._state)return o._queue.push({event:"orientation",action:function(){o.orientation(e,n,r,i)}}),o;if(n="number"!=typeof n?o._orientation[1]:n,r="number"!=typeof r?o._orientation[2]:r,void 0===i){if("number"!=typeof e)return o._orientation;o._orientation=[e,n,r]}for(var a=o._getSoundIds(i),s=0;s<a.length;s++){var u=o._soundById(a[s]);if(u){if("number"!=typeof e)return u._orientation;u._orientation=[e,n,r],u._node&&(u._panner||(u._pos||(u._pos=o._pos||[0,0,-.5]),t(u,"spatial")),void 0!==u._panner.orientationX?(u._panner.orientationX.setValueAtTime(e,Howler.ctx.currentTime),u._panner.orientationY.setValueAtTime(n,Howler.ctx.currentTime),u._panner.orientationZ.setValueAtTime(r,Howler.ctx.currentTime)):u._panner.setOrientation(e,n,r)),o._emit("orientation",u._id)}}return o},Howl.prototype.pannerAttr=function(){var e,n,r,i=arguments;if(!this._webAudio)return this;if(0===i.length)return this._pannerAttr;if(1===i.length){if("object"!=typeof i[0])return(r=this._soundById(parseInt(i[0],10)))?r._pannerAttr:this._pannerAttr;e=i[0],void 0===n&&(e.pannerAttr||(e.pannerAttr={coneInnerAngle:e.coneInnerAngle,coneOuterAngle:e.coneOuterAngle,coneOuterGain:e.coneOuterGain,distanceModel:e.distanceModel,maxDistance:e.maxDistance,refDistance:e.refDistance,rolloffFactor:e.rolloffFactor,panningModel:e.panningModel}),this._pannerAttr={coneInnerAngle:void 0!==e.pannerAttr.coneInnerAngle?e.pannerAttr.coneInnerAngle:this._coneInnerAngle,coneOuterAngle:void 0!==e.pannerAttr.coneOuterAngle?e.pannerAttr.coneOuterAngle:this._coneOuterAngle,coneOuterGain:void 0!==e.pannerAttr.coneOuterGain?e.pannerAttr.coneOuterGain:this._coneOuterGain,distanceModel:void 0!==e.pannerAttr.distanceModel?e.pannerAttr.distanceModel:this._distanceModel,maxDistance:void 0!==e.pannerAttr.maxDistance?e.pannerAttr.maxDistance:this._maxDistance,refDistance:void 0!==e.pannerAttr.refDistance?e.pannerAttr.refDistance:this._refDistance,rolloffFactor:void 0!==e.pannerAttr.rolloffFactor?e.pannerAttr.rolloffFactor:this._rolloffFactor,panningModel:void 0!==e.pannerAttr.panningModel?e.pannerAttr.panningModel:this._panningModel})}else 2===i.length&&(e=i[0],n=parseInt(i[1],10));for(var o=this._getSoundIds(n),a=0;a<o.length;a++)if(r=this._soundById(o[a])){var s=r._pannerAttr;s={coneInnerAngle:void 0!==e.coneInnerAngle?e.coneInnerAngle:s.coneInnerAngle,coneOuterAngle:void 0!==e.coneOuterAngle?e.coneOuterAngle:s.coneOuterAngle,coneOuterGain:void 0!==e.coneOuterGain?e.coneOuterGain:s.coneOuterGain,distanceModel:void 0!==e.distanceModel?e.distanceModel:s.distanceModel,maxDistance:void 0!==e.maxDistance?e.maxDistance:s.maxDistance,refDistance:void 0!==e.refDistance?e.refDistance:s.refDistance,rolloffFactor:void 0!==e.rolloffFactor?e.rolloffFactor:s.rolloffFactor,panningModel:void 0!==e.panningModel?e.panningModel:s.panningModel};var u=r._panner;u?(u.coneInnerAngle=s.coneInnerAngle,u.coneOuterAngle=s.coneOuterAngle,u.coneOuterGain=s.coneOuterGain,u.distanceModel=s.distanceModel,u.maxDistance=s.maxDistance,u.refDistance=s.refDistance,u.rolloffFactor=s.rolloffFactor,u.panningModel=s.panningModel):(r._pos||(r._pos=this._pos||[0,0,-.5]),t(r,"spatial"))}return this},Sound.prototype.init=function(e){return function(){var t=this._parent;this._orientation=t._orientation,this._stereo=t._stereo,this._pos=t._pos,this._pannerAttr=t._pannerAttr,e.call(this),this._stereo?t.stereo(this._stereo):this._pos&&t.pos(this._pos[0],this._pos[1],this._pos[2],this._id)}}(Sound.prototype.init),Sound.prototype.reset=function(e){return function(){var t=this._parent;return this._orientation=t._orientation,this._stereo=t._stereo,this._pos=t._pos,this._pannerAttr=t._pannerAttr,this._stereo?t.stereo(this._stereo):this._pos?t.pos(this._pos[0],this._pos[1],this._pos[2],this._id):this._panner&&(this._panner.disconnect(0),this._panner=void 0,t._refreshBuffer(this)),e.call(this)}}(Sound.prototype.reset);var t=function(e,t){"spatial"===(t=t||"spatial")?(e._panner=Howler.ctx.createPanner(),e._panner.coneInnerAngle=e._pannerAttr.coneInnerAngle,e._panner.coneOuterAngle=e._pannerAttr.coneOuterAngle,e._panner.coneOuterGain=e._pannerAttr.coneOuterGain,e._panner.distanceModel=e._pannerAttr.distanceModel,e._panner.maxDistance=e._pannerAttr.maxDistance,e._panner.refDistance=e._pannerAttr.refDistance,e._panner.rolloffFactor=e._pannerAttr.rolloffFactor,e._panner.panningModel=e._pannerAttr.panningModel,void 0!==e._panner.positionX?(e._panner.positionX.setValueAtTime(e._pos[0],Howler.ctx.currentTime),e._panner.positionY.setValueAtTime(e._pos[1],Howler.ctx.currentTime),e._panner.positionZ.setValueAtTime(e._pos[2],Howler.ctx.currentTime)):e._panner.setPosition(e._pos[0],e._pos[1],e._pos[2]),void 0!==e._panner.orientationX?(e._panner.orientationX.setValueAtTime(e._orientation[0],Howler.ctx.currentTime),e._panner.orientationY.setValueAtTime(e._orientation[1],Howler.ctx.currentTime),e._panner.orientationZ.setValueAtTime(e._orientation[2],Howler.ctx.currentTime)):e._panner.setOrientation(e._orientation[0],e._orientation[1],e._orientation[2])):(e._panner=Howler.ctx.createStereoPanner(),e._panner.pan.setValueAtTime(e._stereo,Howler.ctx.currentTime)),e._panner.connect(e._node),e._paused||e._parent.pause(e._id,!0).play(e._id,!0)}}()}).call(this,n(3))},function(e){e.exports=[{audioFile:"bollnasBus.mp3",spectrum:[{freq:172.265625,magnitude:-17.399746},{freq:64.599609,magnitude:-21.96829},{freq:366.064453,magnitude:-32.528049},{freq:516.796875,magnitude:-38.542358},{freq:689.0625,magnitude:-39.038445},{freq:861.328125,magnitude:-39.638317},{freq:775.195312,magnitude:-39.66655},{freq:990.527344,magnitude:-40.016201},{freq:925.927734,magnitude:-40.517895},{freq:1098.193359,magnitude:-41.060593},{freq:1356.591797,magnitude:-41.274876},{freq:1270.458984,magnitude:-43.702244},{freq:1873.388672,magnitude:-44.169426},{freq:1528.857422,magnitude:-45.135281},{freq:1636.523438,magnitude:-45.653736},{freq:1744.189453,magnitude:-45.790058}]},{audioFile:"coop.mp3",spectrum:[{freq:86.132812,magnitude:-28.932537},{freq:236.865234,magnitude:-32.327995},{freq:452.197266,magnitude:-36.28949},{freq:344.53125,magnitude:-36.789261},{freq:559.863281,magnitude:-38.61684},{freq:732.128906,magnitude:-39.494778},{freq:796.728516,magnitude:-39.511993},{freq:1076.660156,magnitude:-48.423088},{freq:1184.326172,magnitude:-50.484188},{freq:1248.925781,magnitude:-50.664841},{freq:1464.257812,magnitude:-51.075733},{freq:1399.658203,magnitude:-51.329906},{freq:1658.056641,magnitude:-51.729897},{freq:1851.855469,magnitude:-53.016678},{freq:2110.253906,magnitude:-55.621365},{freq:2024.121094,magnitude:-57.550549}]},{audioFile:"counting1.mp3",spectrum:[{freq:193.798828,magnitude:-26.017561},{freq:409.130859,magnitude:-35.475403},{freq:602.929688,magnitude:-43.021927},{freq:796.728516,magnitude:-46.480598},{freq:7192.089844,magnitude:-52.308483},{freq:7235.15625,magnitude:-52.633369},{freq:8290.283203,magnitude:-52.669678},{freq:7105.957031,magnitude:-52.945122},{freq:6567.626953,magnitude:-52.98806},{freq:6503.027344,magnitude:-53.184967},{freq:6416.894531,magnitude:-53.473446},{freq:8182.617188,magnitude:-53.531357},{freq:5684.765625,magnitude:-53.602531},{freq:8139.550781,magnitude:-54.062778},{freq:6653.759766,magnitude:-54.157398},{freq:5577.099609,magnitude:-54.469383}]},{audioFile:"countingSvenska.mp3",spectrum:[{freq:215.332031,magnitude:-18.976727},{freq:430.664062,magnitude:-23.805183},{freq:473.730469,magnitude:-23.937403},{freq:667.529297,magnitude:-36.477356},{freq:9776.074219,magnitude:-46.779316},{freq:9883.740234,magnitude:-46.87299},{freq:9948.339844,magnitude:-47.843761},{freq:818.261719,magnitude:-47.975559},{freq:9108.544922,magnitude:-50.064014},{freq:8656.347656,magnitude:-50.149624},{freq:2002.587891,magnitude:-50.343147},{freq:9711.474609,magnitude:-50.482002},{freq:7385.888672,magnitude:-50.554905},{freq:9173.144531,magnitude:-50.921734},{freq:9646.875,magnitude:-51.072002},{freq:1765.722656,magnitude:-51.101601}]},{audioFile:"crosswalk.mp3",spectrum:[{freq:257.8125,magnitude:-37.666729},{freq:820.3125,magnitude:-41.777088},{freq:750,magnitude:-43.647976},{freq:539.0625,magnitude:-47.038448},{freq:1382.8125,magnitude:-47.713871},{freq:960.9375,magnitude:-47.815086},{freq:1453.125,magnitude:-49.521015},{freq:1218.75,magnitude:-49.886189},{freq:2906.25,magnitude:-50.243725},{freq:1289.0625,magnitude:-50.455692},{freq:2625,magnitude:-51.801075},{freq:1593.75,magnitude:-51.846096},{freq:3023.4375,magnitude:-52.134571},{freq:2039.0625,magnitude:-52.144482},{freq:2320.3125,magnitude:-52.657024},{freq:1921.875,magnitude:-53.338219}]},{audioFile:"emptyWordsNea.mp3",spectrum:[{freq:215.332031,magnitude:-19.520159},{freq:430.664062,magnitude:-25.219025},{freq:602.929688,magnitude:-31.175522},{freq:64.599609,magnitude:-35.193279},{freq:796.728516,magnitude:-39.868279},{freq:1787.255859,magnitude:-41.391182},{freq:882.861328,magnitude:-42.827045},{freq:1055.126953,magnitude:-45.009171},{freq:1679.589844,magnitude:-45.019444},{freq:1119.726562,magnitude:-45.374962},{freq:1571.923828,magnitude:-45.392387},{freq:1421.191406,magnitude:-46.156982},{freq:1270.458984,magnitude:-46.377228},{freq:1894.921875,magnitude:-46.470295},{freq:1485.791016,magnitude:-47.266369},{freq:8613.28125,magnitude:-47.489655}]},{audioFile:"flightLanding.mp3",spectrum:[{freq:150.732422,magnitude:-23.22921},{freq:322.998047,magnitude:-27.817633},{freq:86.132812,magnitude:-28.757832},{freq:882.861328,magnitude:-36.045925},{freq:452.197266,magnitude:-36.165146},{freq:516.796875,magnitude:-38.192909},{freq:645.996094,magnitude:-39.4725},{freq:1055.126953,magnitude:-40.918613},{freq:990.527344,magnitude:-40.968189},{freq:732.128906,magnitude:-41.37928},{freq:796.728516,magnitude:-41.518967},{freq:1485.791016,magnitude:-42.438782},{freq:1248.925781,magnitude:-44.283665},{freq:1765.722656,magnitude:-44.834751},{freq:1162.792969,magnitude:-45.961536},{freq:1356.591797,magnitude:-46.540531}]},{audioFile:"fromBerlin.mp3",spectrum:[{freq:129.199219,magnitude:-19.337328},{freq:172.265625,magnitude:-20.061157},{freq:236.865234,magnitude:-21.243382},{freq:366.064453,magnitude:-25.249617},{freq:409.130859,magnitude:-25.250202},{freq:322.998047,magnitude:-25.32493},{freq:473.730469,magnitude:-25.473864},{freq:645.996094,magnitude:-26.291237},{freq:602.929688,magnitude:-26.820797},{freq:968.994141,magnitude:-28.423075},{freq:796.728516,magnitude:-28.616865},{freq:904.394531,magnitude:-30.327291},{freq:1464.257812,magnitude:-32.71851},{freq:1184.326172,magnitude:-33.538372},{freq:1119.726562,magnitude:-33.638268},{freq:1270.458984,magnitude:-34.200172}]},{audioFile:"kitchen1.mp3",spectrum:[{freq:107.666016,magnitude:-23.018032},{freq:150.732422,magnitude:-23.063093},{freq:107.666016,magnitude:-23.683832},{freq:150.732422,magnitude:-23.870668},{freq:236.865234,magnitude:-27.578087},{freq:236.865234,magnitude:-28.458439},{freq:301.464844,magnitude:-28.528795},{freq:301.464844,magnitude:-29.146461},{freq:430.664062,magnitude:-31.122925},{freq:430.664062,magnitude:-31.620726},{freq:538.330078,magnitude:-32.279846},{freq:538.330078,magnitude:-32.766731},{freq:495.263672,magnitude:-32.782124},{freq:495.263672,magnitude:-32.833862},{freq:645.996094,magnitude:-33.121647},{freq:645.996094,magnitude:-33.218231}]},{audioFile:"pendelTag.mp3",spectrum:[{freq:236.865234,magnitude:-16.221592},{freq:64.599609,magnitude:-18.688091},{freq:409.130859,magnitude:-20.336178},{freq:559.863281,magnitude:-21.620527},{freq:624.462891,magnitude:-23.685429},{freq:861.328125,magnitude:-25.067635},{freq:925.927734,magnitude:-25.832678},{freq:1722.65625,magnitude:-27.109802},{freq:1873.388672,magnitude:-27.189735},{freq:1055.126953,magnitude:-29.507767},{freq:1248.925781,magnitude:-29.806211},{freq:1141.259766,magnitude:-30.065187},{freq:1313.525391,magnitude:-30.253767},{freq:1916.455078,magnitude:-30.367163},{freq:1421.191406,magnitude:-31.539719},{freq:1528.857422,magnitude:-31.722507}]},{audioFile:"pendelTag2.mp3",spectrum:[{freq:301.464844,magnitude:-28.588257},{freq:150.732422,magnitude:-29.29398},{freq:366.064453,magnitude:-31.429947},{freq:86.132812,magnitude:-31.997349},{freq:689.0625,magnitude:-32.262497},{freq:775.195312,magnitude:-33.855614},{freq:559.863281,magnitude:-34.162552},{freq:947.460938,magnitude:-35.370667},{freq:861.328125,magnitude:-36.640476},{freq:1076.660156,magnitude:-39.055378},{freq:1248.925781,magnitude:-40.740498},{freq:1313.525391,magnitude:-41.248177},{freq:1442.724609,magnitude:-43.415245},{freq:1550.390625,magnitude:-44.174026},{freq:1658.056641,magnitude:-44.426029},{freq:2002.587891,magnitude:-45.137405}]},{audioFile:"sirenBirds.mp3",spectrum:[{freq:2906.982422,magnitude:-23.156624},{freq:732.128906,magnitude:-26.645731},{freq:322.998047,magnitude:-27.420908},{freq:968.994141,magnitude:-27.515535},{freq:172.265625,magnitude:-27.680265},{freq:129.199219,magnitude:-27.757851},{freq:1937.988281,magnitude:-29.04484},{freq:882.861328,magnitude:-29.5805},{freq:602.929688,magnitude:-29.844624},{freq:452.197266,magnitude:-30.23547},{freq:538.330078,magnitude:-30.711304},{freq:1098.193359,magnitude:-31.065268},{freq:1313.525391,magnitude:-33.923553},{freq:2196.386719,magnitude:-33.927032},{freq:2131.787109,magnitude:-35.18816},{freq:2304.052734,magnitude:-35.270332}]},{audioFile:"snow.mp3",spectrum:[{freq:64.599609,magnitude:-29.677166},{freq:344.53125,magnitude:-40.347485},{freq:602.929688,magnitude:-44.040558},{freq:689.0625,magnitude:-44.897915},{freq:925.927734,magnitude:-48.870106},{freq:1205.859375,magnitude:-49.086319},{freq:1098.193359,magnitude:-50.976013},{freq:1291.992188,magnitude:-52.224236},{freq:1421.191406,magnitude:-53.330524},{freq:1485.791016,magnitude:-53.476215},{freq:1378.125,magnitude:-53.615837},{freq:1636.523438,magnitude:-54.583996},{freq:1744.189453,magnitude:-55.241005},{freq:1808.789062,magnitude:-55.726116},{freq:1937.988281,magnitude:-57.665276},{freq:2024.121094,magnitude:-59.252815}]},{audioFile:"walkingInStreet.mp3",spectrum:[{freq:129.199219,magnitude:-24.899473},{freq:258.398438,magnitude:-30.800665},{freq:215.332031,magnitude:-31.003553},{freq:64.599609,magnitude:-32.746632},{freq:904.394531,magnitude:-35.545536},{freq:602.929688,magnitude:-35.755497},{freq:366.064453,magnitude:-35.907131},{freq:839.794922,magnitude:-36.146004},{freq:452.197266,magnitude:-36.174366},{freq:689.0625,magnitude:-36.796539},{freq:968.994141,magnitude:-37.352345},{freq:1098.193359,magnitude:-38.130184},{freq:1184.326172,magnitude:-38.222878},{freq:1141.259766,magnitude:-38.283627},{freq:1399.658203,magnitude:-41.17009},{freq:1787.255859,magnitude:-43.650486}]}]},function(e,t,n){"undefined"!=typeof self&&self,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);const r=e=>{let t=e.reduce((e,t)=>e+t),n=Math.random()*t,r=0;for(let t=0;t<e.length;t++)if(n<=(r=+(r+=e[t]).toFixed(2)))return t},i=e=>{let t=e.reduce((e,t)=>e+t);return t>0?e.map(e=>e/t):e.map(()=>0)},o=(e,t)=>{var n=Object.getOwnPropertyNames(e),r=Object.getOwnPropertyNames(t);if(n.length!=r.length)return!1;for(var i=0;i<n.length;i++){var o=n[i];if(e[o]!==t[o])return!1}return!0},a=(e,t)=>(e%t+t)%t;n.d(t,"getAllTransitions",function(){return s}),n.d(t,"MarkovN",function(){return d});const s=(e,t)=>e.reduce((n,r,i)=>{const o=[];for(let n=t;n>=0;n--)o.push(e[a(i-n,e.length)]);return n.push(o),n},[]),u=(e,t)=>{const n=[...e];return n.shift(),n.push(t),n};class d{constructor(e,t){this.dictionary=[],this.combinations=[],this.lastState=[];for(let n=0;n<t;n++)this.lastState.push(e[n]);this.transitionMatrix=this.createTransitionMatrix(e,t)}createTransitionMatrix(e,t){this.dictionary=Array.from(new Set(e)),this.combinations=s(e,t);let n=[];for(let e=0;e<this.combinations.length;e++){let e=[];for(let t=0;t<this.dictionary.length;t++)e.push(0);n.push(e)}for(let r=0;r<e.length;r++){let i=[];for(let n=t;n>=0;n--)i.push(e[a(r-n,e.length)]);let s=this.combinations.findIndex(e=>o(i,e)),u=e[(r+1)%e.length],d=this.dictionary.indexOf(u);n[s][d]++}return n=n.map(i)}getNextState(e){const t=this.transitionMatrix[this.combinations.findIndex(t=>o(e,t))],n=r(t);return this.dictionary[n]}*asPattern(e){for(this.lastState=e;;){let e=this.getNextState(this.lastState);this.lastState=u(this.lastState,e),yield e}}}t.default=d}])},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";n.r(t);const r=e=>e[Math.floor(Math.random()*e.length)],i=(e,t)=>e/t,o=(e,t)=>t.reduce((t,n)=>{const r=t-e,i=n-e;return Math.abs(i)<Math.abs(r)?n:t},t[0]),a=(e,t)=>e.reduce((e,n)=>t(n)?n:e),s=(e,t)=>{const n=Math.min(...t)-Math.min(...e),r=Math.max(...t)-Math.min(...t),i=Math.max(...e)-Math.min(...e);return e.map(a=>o((a-Math.min(...e))/i*r+n,t))},u=(e=.5)=>!(Math.random()<e),d=e=>"function"==typeof e?e:()=>e,l=(e,t)=>(e%t+t)%t;class c{constructor(e,t){this.population=e,this.scores=Array(e.length).fill(0),this.goal=t,this.lastState=e[Math.floor(Math.random()*(e.length-1))]}getTotalFitnessRating(e,t){let n=0,r=e.map(t=>t-Math.min.apply(null,e));for(let e=r.length-1;e>=0;e--)n+=this.getDistance(r[e],t[e]);return n}getTopTwoGenerations(e,t){let n=0;for(let t=e.length-1;t>=0;t--)if(e[n]<e[t]&&(n=t),e[n]===e[t]){n=Math.random()>.5?n:t}let r=0;const i=e[n];if(u(.25))r=Math.floor(Math.random()*e.length);else for(let t=e.length-1;t>=0;t--)if(e[t]!==i&&(e[r]<e[t]&&(r=t),e[r]===e[t])){r=Math.random()>.5?r:t}return[t[n],t[r]]}mateGenerations(e){return[this.getSplicedOffspring(e[0],e[1]),this.getInterlacedOffspring(e[0],e[1])]}getInterlacedOffspring(e,t){const n=Array(e.length);for(let r=n.length-1;r>=0;r--)n[r]=r%2==0?e[r]:t[r];return n}getSplicedOffspring(e,t){const n=0==(Math.random()>.5?1:0)?[e,t]:[t,e],r=Math.floor(e.length/2);return[...n[0].slice(0,r),...n[1].slice(r-1,n[1].length-1)]}getDistance(e,t){return t-e}getPopulationScores(e,t){let n=Array(e.length).fill(0);for(let r=e.length-1;r>=0;r--)n[r]=this.getTotalFitnessRating(e[r],t);return n}getNextGeneration(e,t){const n=this.getPopulationScores(e,t),r=this.getTopTwoGenerations(n,e),i=this.mateGenerations(r);for(let e=0;e<i.length-1;e++)this.population.splice(Math.floor(Math.random()*(this.population.length-1)),1);return this.population=[...this.population,...i],i[Math.floor(Math.random()*(.999*i.length))]}getNextState(e){return this.getNextGeneration(this.population,this.goal)}asPattern(){const e=this;return function*(t){for(e.lastState=t;;){const t=e.getNextState(e.lastState);e.lastState=t,yield t}}}}const f=n(2).default,_=function(e,t,n){return new f(e,t).asPattern(n)},p=function*(e,t){let n=new c(e,t),r=t;for(;;){let e=n.getNextState(r);r=[r[r.length-1],e],yield e}};class m{constructor(e){this.config=e,this.config.timeBetweenEvents=d(this.config.timeBetweenEvents),this.config.gapBetweenEvents=d(this.config.gapBetweenEvents),this.notes=p(e.initialPopulation,e.target),this.config.maxGenerations=e.maxGenerations,this.currentGeneration=0,this.config.onFinish=e.onFinish}play(){const e=this.notes.next().value;let t=0,n=Math.random()>.5?0:1;return this.config.chordOscillators.map(r=>{const i=Math.ceil(5*Math.random());r.play({freq:e[t]/i,time:this.config.timeBetweenEvents(),pan:n%2*2-1,vol:.45}),t++,n++}),this.playMelody(e,this.currentGeneration),this.currentGeneration<=this.config.maxGenerations-1?window.setTimeout(()=>{this.currentGeneration++,this.play()},1e3*(this.config.timeBetweenEvents()+this.config.gapBetweenEvents())):(this.currentGeneration++,this.endOfScene()),this}playMelody(e,t){const n=s([0,4,2,0,7,4,2,7,7,4,2,2,4,4,2,0],e),i=[.5,.5,.5,.5,.5,1,2,.25,.5,1,1,.5,.5,.5,.25,2].map((e,t)=>[n[t],e]),o=Math.floor(Math.random()*n.length),a=[];for(let e=3;e>=0;e--)a.push(n[l(o-e,n.length)]);const d=_(n,3,a);let c=0;const f=e=>{const t=Math.ceil(3*Math.random())+Math.ceil(3*Math.random())+2,n=d.next().value,o=i.filter(e=>e[0]===n);void 0!==n&&u(.55)&&this.config.melodyOscillators[c%this.config.melodyOscillators.length].play({freq:n/t,time:1+6*Math.random(),pan:1*Math.random()-.5,vol:.35}),c++,window.setTimeout(()=>{e===this.currentGeneration&&this.currentGeneration<=this.config.maxGenerations&&f(e)},1e3*(2*r(o)[1]+.5))};f(t)}endOfScene(){const e=this.config.onFinish;this.config.chordOscillators.map(e=>e.stop(1)),window.setTimeout(e,1e3)}}const h=e=>{for(var t,n="number"==typeof e?e:50,r=new Float32Array(44100),i=Math.PI/180,o=0;o<44100;++o)t=2*o/44100-1,r[o]=(3+n)*t*20*i/(Math.PI+n*Math.abs(t));return r};var g=class{constructor(e,t){this.context=e,this.config=t||{}}init(){const e=this.context,t=e.createOscillator();this.config.waveformType&&(t.type=this.config.waveformType);const n=e.createGain(),r=e.createStereoPanner(),i=e.createWaveShaper();i.curve=h(800),i.oversample="4x",t.connect(n),n.connect(r),r.connect(i),i.connect(e.destination),t.type=this.config.waveformType?this.config.waveformType:u()?"triangle":"sine",n.gain.value=0,this.synthNodes={oscillator:t,gainNode:n,waveShaper:i,panner:r}}play(e){const{freq:t=220,time:n=1,pan:r=0,vol:i=1}=e;this.init();const{oscillator:o,gainNode:a,waveShaper:s,panner:u}=this.synthNodes;let d=.01;o.frequency.value=t,e.distortion&&(s.curve=h(e.distortion)),t>200&&(d*=.12),t>6e3&&(d*=.08),u.pan.value=r,o.start(0),a.gain.setTargetAtTime(i*d*(.55-.01*Math.random()),this.context.currentTime,.85*n);var l=this;return window.setTimeout(function(){l.stop(.25*n)},1e3*(n-.25*n)),this}stop(e){const t=this.context,{oscillator:n,gainNode:r}=this.synthNodes;return r.gain.setTargetAtTime(0,t.currentTime,.9*e),n.stop(t.currentTime+4*e),this}};const v=e=>{for(var t,n="number"==typeof e?e:50,r=new Float32Array(44100),i=Math.PI/180,o=0;o<44100;++o)t=2*o/44100-1,r[o]=(3+n)*t*20*i/(Math.PI+n*Math.abs(t));return r},y=e=>{var t=0,n=e.createScriptProcessor(4096,1,1);return n.onaudioprocess=function(e){for(var n=e.outputBuffer.getChannelData(0),r=0;r<4096;r++){var i=2*Math.random()-1;n[r]=(t+.02*i)/1.02,t=n[r],n[r]*=3.5}},n};class A{constructor(e,t){this.context=e,this.config=t||{}}init(){this.oscillator=y(this.context),this.gainNode=this.context.createGain(),this.panner=this.context.createStereoPanner(),this.filter=this.context.createBiquadFilter(),this.filter.type="peaking",this.filter2=this.context.createBiquadFilter(),this.filter2.type="bandpass",this.waveShaper=this.context.createWaveShaper(),this.waveShaper.curve=v(80),this.waveShaper.oversample="4x",this.oscillator.connect(this.waveShaper),this.waveShaper.connect(this.filter),this.filter.connect(this.filter2),this.filter2.connect(this.panner),this.panner.connect(this.gainNode),this.gainNode.connect(this.context.destination),this.gainNode.gain.value=0}play(e){const{freq:t=220,time:n=1,pan:r=0,vol:i=1}=e;this.init();let o=1;return this.filter.frequency.value=t,this.filter.Q.value=50.901,this.filter.gain.value=20,this.filter2.frequency.value=t,this.filter2.Q.value=15.901,this.filter2.gain.value=60,e.distortion&&(this.waveShaper.curve=v(e.distortion)),t>200&&(o*=.12),this.panner.pan.value=r,this.gainNode.gain.value=.001,this.gainNode.gain.exponentialRampToValueAtTime(i*o,this.context.currentTime+n),setTimeout(this.stop.bind(this),1e3*(n+1)),this}stop(){return this.gainNode.gain.setTargetAtTime(0,this.context.currentTime,.01),this}}var q=n(0);var w=class{constructor(e,t){this.context=e,this.players=t.samples.map(e=>({player:new q.Howl({src:e.files}),baseFreq:e.freq}))}play(e){const{freq:t=220,time:n=1,pan:r=0,vol:o=1}=e;let a=1;const s=this.findClosestSamplePlayer(t),u=s.player.play();return s.player.loop(!1,u),s.player.rate(i(t,s.baseFreq),u),t>200&&(a*=.2),s.player.fade(0,a*o,200,u),s.player.stereo(r,u),window.setTimeout(function(){s.player.fade(a*o,0,200,u),this.stop(n,s,u)}.bind(this),1e3*n+200),this}stop(e,t,n){return window.setTimeout(function(){t.player.stop()}.bind(this),300),this}findClosestSamplePlayer(e){const t=o(e,this.players.map(e=>e.baseFreq));return a(this.players,e=>e===t)}},b=n(1);n.d(t,"WNS",function(){return x});const T={samplePath:"samples/"},x=e=>{e=e?Object.assign({},T,e):T;const t=b,n=new AudioContext,i=Array(16).fill(0).map(()=>new g(n)),o={samples:[{files:[e.samplePath+"pipeA.mp3"],freq:445},{files:[e.samplePath+"pipeE.mp3"],freq:666},{files:[e.samplePath+"piano2-324.mp3"],freq:324},{files:[e.samplePath+"piano3-814.mp3"],freq:814}]},a=Array(16).fill(0).map(()=>u()?new w(n,o):new g(n)),s=t.map(t=>new w(n,{samples:[{files:[e.samplePath+t.audioFile],freq:1}]})),d=new w(n,{samples:[{files:[e.samplePath+"lowDrone.mp3"],freq:1}]}),l=Array(2).fill(0).map(()=>new A(n)),c=()=>{l.forEach((e,t)=>{const n=.25*Math.random()+1;e.play({pan:2*t-1,freq:[2090,2393][t]*n,vol:7.8,time:45})}),setTimeout(h,57e3)};let f=0,_=!1,p=!1;const h=()=>{const e=u(.8),n=u(.85);if(e&&!_)return _=!0,c(),setTimeout(()=>{s.forEach(e=>e.stop(0,e.players[0])),i.forEach(e=>e.stop(0))},15e3),!1;n&&!p&&(p=!0,setTimeout(()=>{p=!1},33e4),d.play({freq:1,time:3e5,vol:1})),_=!1,f=((e,t)=>{const n=Array(t).fill(0).map((e,t)=>t).filter(t=>t!==e);return r(n)})(f,t.length);const o=t[f],l=Array(80).fill(o.spectrum.map(e=>e.freq)),g=(e=>e.reduce((e,t)=>e[0].magnitude<t.magnitude?[t]:e,[{freq:0,magnitude:-100}]).map(e=>e.freq).map(t=>Array(e.length).fill(0).map((e,n)=>{const r=t*(n+1);return r>7e3?r/Math.ceil(r/7e3):r}))[0])(o.spectrum),v={initialPopulation:l.map(e=>e.map(e=>Math.random()*(g[g.length-1]-g[0])+(g[0]-20))),populationSize:16,maxGenerations:2,target:g,timeBetweenEvents:()=>15*Math.random()+10,gapBetweenEvents:()=>r([25,10]),melodyOscillators:a,chordOscillators:i,onFinish:h};s[f].play({freq:1,time:18e4,vol:.28}),new m(v).play()};c()};t.default=x}])});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9XTlMvd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovL1dOUy93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9XTlMvLi9ub2RlX21vZHVsZXMvaG93bGVyL2Rpc3QvaG93bGVyLmpzIiwid2VicGFjazovL1dOUy8uL25vZGVfbW9kdWxlcy9tYXJrb3ZuL2J1aWxkL2luZGV4LmpzIiwid2VicGFjazovL1dOUy8od2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanMiLCJ3ZWJwYWNrOi8vV05TLy4vc3JjL3V0aWxzLnRzIiwid2VicGFjazovL1dOUy8uL3NyYy9HZW5ldGljLnRzIiwid2VicGFjazovL1dOUy8uL3NyYy9wYXR0ZXJucy50cyIsIndlYnBhY2s6Ly9XTlMvLi9zcmMvU2NlbmUudHMiLCJ3ZWJwYWNrOi8vV05TLy4vc3JjL1N5bnRoLnRzIiwid2VicGFjazovL1dOUy8uL3NyYy9Ob2lzZS50cyIsIndlYnBhY2s6Ly9XTlMvLi9zcmMvTXVsdGlTYW1wbGVyLnRzIiwid2VicGFjazovL1dOUy8uL3NyYy93bnMudHMiXSwibmFtZXMiOlsicm9vdCIsImZhY3RvcnkiLCJleHBvcnRzIiwibW9kdWxlIiwiZGVmaW5lIiwiYW1kIiwid2luZG93IiwiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsImdsb2JhbCIsIl9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fIiwiSG93bGVyR2xvYmFsIiwidGhpcyIsImluaXQiLCJzZWxmIiwiSG93bGVyIiwiX2NvdW50ZXIiLCJfaHRtbDVBdWRpb1Bvb2wiLCJodG1sNVBvb2xTaXplIiwiX2NvZGVjcyIsIl9ob3dscyIsIl9tdXRlZCIsIl92b2x1bWUiLCJfY2FuUGxheUV2ZW50IiwiX25hdmlnYXRvciIsIm5hdmlnYXRvciIsIm1hc3RlckdhaW4iLCJub0F1ZGlvIiwidXNpbmdXZWJBdWRpbyIsImF1dG9TdXNwZW5kIiwiY3R4IiwiYXV0b1VubG9jayIsIl9zZXR1cCIsInZvbHVtZSIsInZvbCIsInBhcnNlRmxvYXQiLCJzZXR1cEF1ZGlvQ29udGV4dCIsImdhaW4iLCJzZXRWYWx1ZUF0VGltZSIsImN1cnJlbnRUaW1lIiwibGVuZ3RoIiwiX3dlYkF1ZGlvIiwiaWRzIiwiX2dldFNvdW5kSWRzIiwiaiIsInNvdW5kIiwiX3NvdW5kQnlJZCIsIl9ub2RlIiwibXV0ZSIsIm11dGVkIiwidW5sb2FkIiwiY2xvc2UiLCJjb2RlY3MiLCJleHQiLCJyZXBsYWNlIiwic3RhdGUiLCJfYXV0b1N1c3BlbmQiLCJBdWRpbyIsIm9uY2FucGxheXRocm91Z2giLCJlIiwiX3NldHVwQ29kZWNzIiwiYXVkaW9UZXN0IiwiZXJyIiwiY2FuUGxheVR5cGUiLCJtcGVnVGVzdCIsImNoZWNrT3BlcmEiLCJ1c2VyQWdlbnQiLCJtYXRjaCIsImlzT2xkT3BlcmEiLCJwYXJzZUludCIsInNwbGl0IiwibXAzIiwibXBlZyIsIm9wdXMiLCJvZ2ciLCJvZ2EiLCJ3YXYiLCJhYWMiLCJjYWYiLCJtNGEiLCJtcDQiLCJ3ZWJhIiwid2VibSIsImRvbGJ5IiwiZmxhYyIsIl91bmxvY2tBdWRpbyIsIl9hdWRpb1VubG9ja2VkIiwiX21vYmlsZVVubG9hZGVkIiwic2FtcGxlUmF0ZSIsIl9zY3JhdGNoQnVmZmVyIiwiY3JlYXRlQnVmZmVyIiwidW5sb2NrIiwiYXVkaW9Ob2RlIiwiX3VubG9ja2VkIiwiX3JlbGVhc2VIdG1sNUF1ZGlvIiwibG9hZCIsIl9hdXRvUmVzdW1lIiwic291cmNlIiwiY3JlYXRlQnVmZmVyU291cmNlIiwiYnVmZmVyIiwiY29ubmVjdCIsImRlc3RpbmF0aW9uIiwic3RhcnQiLCJub3RlT24iLCJyZXN1bWUiLCJvbmVuZGVkIiwiZGlzY29ubmVjdCIsImRvY3VtZW50IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIl9lbWl0IiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9vYnRhaW5IdG1sNUF1ZGlvIiwicG9wIiwidGVzdFBsYXkiLCJwbGF5IiwiUHJvbWlzZSIsInRoZW4iLCJjYXRjaCIsImNvbnNvbGUiLCJ3YXJuIiwiYXVkaW8iLCJwdXNoIiwic3VzcGVuZCIsIl9zb3VuZHMiLCJfcGF1c2VkIiwiX3N1c3BlbmRUaW1lciIsImNsZWFyVGltZW91dCIsInNldFRpbWVvdXQiLCJfcmVzdW1lQWZ0ZXJTdXNwZW5kIiwiSG93bCIsInNyYyIsImVycm9yIiwiX2F1dG9wbGF5IiwiYXV0b3BsYXkiLCJfZm9ybWF0IiwiZm9ybWF0IiwiX2h0bWw1IiwiaHRtbDUiLCJfbG9vcCIsImxvb3AiLCJfcG9vbCIsInBvb2wiLCJfcHJlbG9hZCIsInByZWxvYWQiLCJfcmF0ZSIsInJhdGUiLCJfc3ByaXRlIiwic3ByaXRlIiwiX3NyYyIsInVuZGVmaW5lZCIsIl94aHJXaXRoQ3JlZGVudGlhbHMiLCJ4aHJXaXRoQ3JlZGVudGlhbHMiLCJfZHVyYXRpb24iLCJfc3RhdGUiLCJfZW5kVGltZXJzIiwiX3F1ZXVlIiwiX3BsYXlMb2NrIiwiX29uZW5kIiwib25lbmQiLCJmbiIsIl9vbmZhZGUiLCJvbmZhZGUiLCJfb25sb2FkIiwib25sb2FkIiwiX29ubG9hZGVycm9yIiwib25sb2FkZXJyb3IiLCJfb25wbGF5ZXJyb3IiLCJvbnBsYXllcnJvciIsIl9vbnBhdXNlIiwib25wYXVzZSIsIl9vbnBsYXkiLCJvbnBsYXkiLCJfb25zdG9wIiwib25zdG9wIiwiX29ubXV0ZSIsIm9ubXV0ZSIsIl9vbnZvbHVtZSIsIm9udm9sdW1lIiwiX29ucmF0ZSIsIm9ucmF0ZSIsIl9vbnNlZWsiLCJvbnNlZWsiLCJfb251bmxvY2siLCJvbnVubG9jayIsIl9vbnJlc3VtZSIsImV2ZW50IiwiYWN0aW9uIiwidXJsIiwic3RyIiwiZXhlYyIsInRvTG93ZXJDYXNlIiwibG9jYXRpb24iLCJwcm90b2NvbCIsInNsaWNlIiwiU291bmQiLCJsb2FkQnVmZmVyIiwiaW50ZXJuYWwiLCJpZCIsIm51bSIsIl9lbmRlZCIsIl9pZCIsIl9pbmFjdGl2ZVNvdW5kIiwic291bmRJZCIsIl9sb2FkUXVldWUiLCJzZWVrIiwiTWF0aCIsIm1heCIsIl9zZWVrIiwiZHVyYXRpb24iLCJ0aW1lb3V0IiwiYWJzIiwic3RvcCIsInNldFBhcmFtcyIsIl9zdGFydCIsIl9zdG9wIiwibm9kZSIsInBsYXlXZWJBdWRpbyIsIl9yZWZyZXNoQnVmZmVyIiwiX3BsYXlTdGFydCIsImJ1ZmZlclNvdXJjZSIsIm5vdGVHcmFpbk9uIiwiSW5maW5pdHkiLCJvbmNlIiwiX2NsZWFyVGltZXIiLCJwbGF5SHRtbDUiLCJwbGF5YmFja1JhdGUiLCJwYXVzZWQiLCJsb2FkZWROb1JlYWR5U3RhdGUiLCJlamVjdGEiLCJyZWFkeVN0YXRlIiwiaXNDb2Nvb25KUyIsImxpc3RlbmVyIiwicGF1c2UiLCJfcmF0ZVNlZWsiLCJfc3RvcEZhZGUiLCJub3RlT2ZmIiwiX2NsZWFuQnVmZmVyIiwiaXNOYU4iLCJhcmd1bWVudHMiLCJfY2xlYXJTb3VuZCIsIl9pbnRlcnZhbCIsImFyZ3MiLCJpbmRleE9mIiwiYXBwbHkiLCJmYWRlIiwiZnJvbSIsInRvIiwibGVuIiwiZW5kIiwibGluZWFyUmFtcFRvVmFsdWVBdFRpbWUiLCJfc3RhcnRGYWRlSW50ZXJ2YWwiLCJpc0dyb3VwIiwiZGlmZiIsInN0ZXBzIiwic3RlcExlbiIsImxhc3RUaWNrIiwiRGF0ZSIsIm5vdyIsIl9mYWRlVG8iLCJzZXRJbnRlcnZhbCIsInRpY2siLCJtaW4iLCJyb3VuZCIsImNsZWFySW50ZXJ2YWwiLCJjYW5jZWxTY2hlZHVsZWRWYWx1ZXMiLCJsb29wU3RhcnQiLCJsb29wRW5kIiwicGxheWluZyIsInJlYWxUaW1lIiwicmF0ZVNlZWsiLCJzZWVrQW5kRW1pdCIsImVtaXRTZWVrIiwic291bmRzIiwiX2Vycm9yRm4iLCJfbG9hZEZuIiwiaW5kZXgiLCJzcGxpY2UiLCJyZW1DYWNoZSIsImNhY2hlIiwib24iLCJldmVudHMiLCJvZmYiLCJpc0lkIiwia2V5cyIsIkFycmF5IiwiaXNBcnJheSIsIm1zZyIsInRhc2siLCJzaGlmdCIsImVuZGVkIiwiX2RyYWluIiwicmVzZXQiLCJsaW1pdCIsImNudCIsIl9wYW5uZXIiLCJpc0lPUyIsInZlbmRvciIsInRlc3QiLCJob3dsIiwiX3BhcmVudCIsInBhcmVudCIsImNyZWF0ZUdhaW4iLCJjcmVhdGVHYWluTm9kZSIsIl9lcnJvckxpc3RlbmVyIiwiX2xvYWRMaXN0ZW5lciIsImNvZGUiLCJjZWlsIiwiX19kZWZhdWx0IiwibG9hZFNvdW5kIiwiZGF0YSIsImF0b2IiLCJkYXRhVmlldyIsIlVpbnQ4QXJyYXkiLCJjaGFyQ29kZUF0IiwiZGVjb2RlQXVkaW9EYXRhIiwieGhyIiwiWE1MSHR0cFJlcXVlc3QiLCJvcGVuIiwid2l0aENyZWRlbnRpYWxzIiwicmVzcG9uc2VUeXBlIiwic3RhdHVzIiwicmVzcG9uc2UiLCJvbmVycm9yIiwic2FmZVhoclNlbmQiLCJzZW5kIiwiYXJyYXlidWZmZXIiLCJzdWNjZXNzIiwiQXVkaW9Db250ZXh0Iiwid2Via2l0QXVkaW9Db250ZXh0IiwiaU9TIiwicGxhdGZvcm0iLCJhcHBWZXJzaW9uIiwidmVyc2lvbiIsInNhZmFyaSIsInN0YW5kYWxvbmUiLCJfc3VwZXIiLCJfcG9zIiwiX29yaWVudGF0aW9uIiwic3RlcmVvIiwicGFuIiwicG9zIiwieCIsInkiLCJ6IiwicG9zaXRpb25YIiwic2V0VGFyZ2V0QXRUaW1lIiwicG9zaXRpb25ZIiwicG9zaXRpb25aIiwic2V0UG9zaXRpb24iLCJvcmllbnRhdGlvbiIsInhVcCIsInlVcCIsInpVcCIsIm9yIiwiZm9yd2FyZFgiLCJmb3J3YXJkWSIsImZvcndhcmRaIiwidXBYIiwidXBZIiwidXBaIiwic2V0T3JpZW50YXRpb24iLCJfc3RlcmVvIiwiX3Bhbm5lckF0dHIiLCJjb25lSW5uZXJBbmdsZSIsImNvbmVPdXRlckFuZ2xlIiwiY29uZU91dGVyR2FpbiIsImRpc3RhbmNlTW9kZWwiLCJtYXhEaXN0YW5jZSIsInBhbm5pbmdNb2RlbCIsInJlZkRpc3RhbmNlIiwicm9sbG9mZkZhY3RvciIsIl9vbnN0ZXJlbyIsIm9uc3RlcmVvIiwiX29ucG9zIiwib25wb3MiLCJfb25vcmllbnRhdGlvbiIsIm9ub3JpZW50YXRpb24iLCJwYW5uZXJUeXBlIiwiY3JlYXRlU3RlcmVvUGFubmVyIiwic2V0dXBQYW5uZXIiLCJvcmllbnRhdGlvblgiLCJvcmllbnRhdGlvblkiLCJvcmllbnRhdGlvbloiLCJwYW5uZXJBdHRyIiwiX2NvbmVJbm5lckFuZ2xlIiwiX2NvbmVPdXRlckFuZ2xlIiwiX2NvbmVPdXRlckdhaW4iLCJfZGlzdGFuY2VNb2RlbCIsIl9tYXhEaXN0YW5jZSIsIl9yZWZEaXN0YW5jZSIsIl9yb2xsb2ZmRmFjdG9yIiwiX3Bhbm5pbmdNb2RlbCIsInBhIiwicGFubmVyIiwidHlwZSIsImNyZWF0ZVBhbm5lciIsImRlZmF1bHQiLCJyZWR1Y2UiLCJyYW5kb20iLCJ0b0ZpeGVkIiwibWFwIiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsImEiLCJ1IiwiW29iamVjdCBPYmplY3RdIiwiZGljdGlvbmFyeSIsImNvbWJpbmF0aW9ucyIsImxhc3RTdGF0ZSIsInRyYW5zaXRpb25NYXRyaXgiLCJjcmVhdGVUcmFuc2l0aW9uTWF0cml4IiwiU2V0IiwiZmluZEluZGV4IiwiZ2V0TmV4dFN0YXRlIiwiZyIsIkZ1bmN0aW9uIiwiY2hvb3NlIiwiYXJyYXkiLCJmbG9vciIsImdldFJhdGVGcm9tRnJlcXVlbmNpZXMiLCJmcmVxIiwiYmFzZUZyZXEiLCJnZXRDbG9zZXN0TWVtYmVyIiwic3ViamVjdCIsInNldCIsImFjY3VtIiwibWVtYmVyIiwicHJldkRpc3RhbmNlIiwiY3VycmVudERpc3RhbmNlIiwiZmluZEluQ29sbGVjdGlvbiIsImNvbGxlY3Rpb24iLCJwcmVkaWNhdGVGdW5jdGlvbiIsIm1hcFRvRG9tYWluIiwiZG9tYWluIiwic2V0T2Zmc2V0IiwiZG9tYWluUmFuZ2UiLCJzZXRSYW5nZSIsImZsaXBDb2luIiwicHJvYmFiaWxpdHkiLCJtYWtlRnVuY3Rpb24iLCJtb2QiLCJtb2R1bG8iLCJHZW5ldGljX0dlbmV0aWMiLCJpbnB1dFBvcHVsYXRpb24iLCJnb2FsIiwicG9wdWxhdGlvbiIsInNjb3JlcyIsImZpbGwiLCJzY29yZSIsIm5vcm1hbGl6ZWRDb2xsZWN0aW9uIiwiZ2V0RGlzdGFuY2UiLCJpbmRleE9mSGlnaGVzdFNjb3JlIiwiaW5kZXhPZk5leHRIaWdoZXN0U2NvcmUiLCJ0b3BHZW5lcmF0aW9uU2NvcmUiLCJwYXJlbnRzIiwiZ2V0U3BsaWNlZE9mZnNwcmluZyIsImdldEludGVybGFjZWRPZmZzcHJpbmciLCJwYXJlbnRPbmUiLCJwYXJlbnRUd28iLCJpbnRlcmxhY2VkT2Zmc3ByaW5nIiwic3BsaXRQb2ludCIsImlucHV0IiwiZ2V0VG90YWxGaXRuZXNzUmF0aW5nIiwicG9wdWxhdGlvblNjb3JlcyIsImdldFBvcHVsYXRpb25TY29yZXMiLCJ0b3BUd29HZW5lcmF0aW9ucyIsImdldFRvcFR3b0dlbmVyYXRpb25zIiwibmV3R2VuZXJhdGlvbnMiLCJtYXRlR2VuZXJhdGlvbnMiLCJnZXROZXh0R2VuZXJhdGlvbiIsImluaXRpYWxTdGF0ZSIsIm5leHRTdGF0ZSIsIk1hcmtvdiIsIlBtYXJrb3YiLCJzZWVkIiwib3JkZXIiLCJhc1BhdHRlcm4iLCJwYXR0ZXJuc19QZ2VuZXRpYyIsImdlbmV0aWMiLCJTY2VuZV9TY2VuZSIsImNvbmZpZyIsInRpbWVCZXR3ZWVuRXZlbnRzIiwiZ2FwQmV0d2VlbkV2ZW50cyIsIm5vdGVzIiwiaW5pdGlhbFBvcHVsYXRpb24iLCJ0YXJnZXQiLCJtYXhHZW5lcmF0aW9ucyIsImN1cnJlbnRHZW5lcmF0aW9uIiwib25GaW5pc2giLCJuZXdOb3RlcyIsIm5leHQiLCJrIiwiY2hvcmRPc2NpbGxhdG9ycyIsIm9zYyIsIm9jdGF2ZSIsInRpbWUiLCJwbGF5TWVsb2R5IiwiZW5kT2ZTY2VuZSIsImdlbmVyYXRpb24iLCJpZGVhbE1lbG9keSIsInJoeXRobU1hcHBpbmdzIiwicmh5dGhtIiwicmFuZG9tU2hpZnRBbW91bnQiLCJvZmZzZXQiLCJtYXJrb3ZNZWxvZHkiLCJwbGF5TmV4dE5vdGUiLCJuZXh0Tm90ZSIsIm5leHRSaHl0aG0iLCJmaWx0ZXIiLCJub3RlUmh5dGhtIiwibWVsb2R5T3NjaWxsYXRvcnMiLCJvbkZpbmlzaENhbGxiYWNrIiwic3ludGgiLCJtYWtlRGlzdG9ydGlvbkN1cnZlIiwiYW1vdW50IiwiY3VydmUiLCJGbG9hdDMyQXJyYXkiLCJkZWciLCJQSSIsInNyY19TeW50aCIsImNvbnRleHQiLCJvc2NpbGxhdG9yIiwiY3JlYXRlT3NjaWxsYXRvciIsIndhdmVmb3JtVHlwZSIsImdhaW5Ob2RlIiwid2F2ZVNoYXBlciIsImNyZWF0ZVdhdmVTaGFwZXIiLCJvdmVyc2FtcGxlIiwic3ludGhOb2RlcyIsIm9wdCIsImZyZXF1ZW5jeSIsImRpc3RvcnRpb24iLCJOb2lzZV9tYWtlRGlzdG9ydGlvbkN1cnZlIiwiY3JlYXRlQnJvd25Ob2lzZSIsImF1ZGlvQ29udGV4dCIsImxhc3RPdXQiLCJjcmVhdGVTY3JpcHRQcm9jZXNzb3IiLCJvbmF1ZGlvcHJvY2VzcyIsIm91dHB1dCIsIm91dHB1dEJ1ZmZlciIsImdldENoYW5uZWxEYXRhIiwid2hpdGUiLCJOb2lzZSIsImNyZWF0ZUJpcXVhZEZpbHRlciIsImZpbHRlcjIiLCJRIiwiZXhwb25lbnRpYWxSYW1wVG9WYWx1ZUF0VGltZSIsInNyY19NdWx0aVNhbXBsZXIiLCJwbGF5ZXJzIiwic2FtcGxlcyIsInNhbXBsZUNvbmZpZyIsInBsYXllciIsImhvd2xlciIsImZpbGVzIiwic2FtcGxlUGxheWVyIiwiZmluZENsb3Nlc3RTYW1wbGVQbGF5ZXIiLCJjdXJyZW50bHlQbGF5aW5nU2FtcGxlSUQiLCJjbG9zZXN0UGxheWVyRnJlcXVlbmN5IiwiX193ZWJwYWNrX2V4cG9ydHNfXyIsIldOUyIsImRlZmF1bHRDb25maWciLCJzYW1wbGVQYXRoIiwiYXNzaWduIiwiYmFja2dyb3VuZFNhbXBsZXMiLCJzcGVjdHJhbERhdGEiLCJtdWx0aVNhbXBsZXJPcHRzIiwic291cmNlU2FtcGxlcyIsInNhbXBsZURhdGEiLCJhdWRpb0ZpbGUiLCJsb3dEcm9uZVBsYXllciIsImJlbGxzIiwicGxheUJlbGxzIiwiZm9yRWFjaCIsImJlbGwiLCJyYW5kb21NdWwiLCJwbGF5TmV3U2NlbmUiLCJzYW1wbGVJbmRleCIsImludGVybHVkZUp1c3RQbGF5ZWQiLCJsb3dEcm9uZUlzUGxheWluZyIsInBsYXlJbnRlcmx1ZGUiLCJwbGF5TG93RHJvbmUiLCJsYXN0SW5kZXgiLCJwb3NzaWJsZUluZGV4ZXMiLCJpdGVtIiwiZ2V0U2VxdWVudGlhbFJhbmRvbUluZGV4IiwiYmFja2dyb3VuZFNhbXBsZSIsInNwZWN0cnVtIiwiYmluIiwibWFnbml0dWRlIiwic3Ryb25nZXN0RnJlcSIsImhhcm1vbmljIiwiZ2V0UHJvbWluZW50RnJlcXVlbmNpZXMiLCJzY2VuZUNvbmZpZyIsIml0ZW0yIiwicG9wdWxhdGlvblNpemUiXSwibWFwcGluZ3MiOiJDQUFBLFNBQUFBLEVBQUFDLEdBQ0EsaUJBQUFDLFNBQUEsaUJBQUFDLE9BQ0FBLE9BQUFELFFBQUFELElBQ0EsbUJBQUFHLGVBQUFDLElBQ0FELE9BQUEsU0FBQUgsR0FDQSxpQkFBQUMsUUFDQUEsUUFBQSxJQUFBRCxJQUVBRCxFQUFBLElBQUFDLElBUkEsQ0FTQ0ssT0FBQSxXQUNELG1CQ1RBLElBQUFDLEVBQUEsR0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQVAsUUFHQSxJQUFBQyxFQUFBSSxFQUFBRSxHQUFBLENBQ0FDLEVBQUFELEVBQ0FF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LEVBQU8sQ0FBQyxHQUFHLEtBQ25DOEYsb0JBQ0FsQixtQkFDQUosU0FBVXVGLEdBR1pULEVBQWNVLEdBQWE3YyxLQUFLLENBQUNpVCxLQUFNLEVBQUcyRSxLQUFNLEtBQWU1YyxJQUFLLE1BR3BFLElBQUk0YixFQUFNaUgsR0FBYTdkLFFBSXpCd2MsS0FLYWIsRUFBQSIsImZpbGUiOiJ3bnMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShcIldOU1wiLCBbXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJXTlNcIl0gPSBmYWN0b3J5KCk7XG5cdGVsc2Vcblx0XHRyb290W1wiV05TXCJdID0gZmFjdG9yeSgpO1xufSkod2luZG93LCBmdW5jdGlvbigpIHtcbnJldHVybiAiLCIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gNCk7XG4iLCIvKiFcbiAqICBob3dsZXIuanMgdjIuMS4yXG4gKiAgaG93bGVyanMuY29tXG4gKlxuICogIChjKSAyMDEzLTIwMTksIEphbWVzIFNpbXBzb24gb2YgR29sZEZpcmUgU3R1ZGlvc1xuICogIGdvbGRmaXJlc3R1ZGlvcy5jb21cbiAqXG4gKiAgTUlUIExpY2Vuc2VcbiAqL1xuXG4oZnVuY3Rpb24oKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8qKiBHbG9iYWwgTWV0aG9kcyAqKi9cbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuICAvKipcbiAgICogQ3JlYXRlIHRoZSBnbG9iYWwgY29udHJvbGxlci4gQWxsIGNvbnRhaW5lZCBtZXRob2RzIGFuZCBwcm9wZXJ0aWVzIGFwcGx5XG4gICAqIHRvIGFsbCBzb3VuZHMgdGhhdCBhcmUgY3VycmVudGx5IHBsYXlpbmcgb3Igd2lsbCBiZSBpbiB0aGUgZnV0dXJlLlxuICAgKi9cbiAgdmFyIEhvd2xlckdsb2JhbCA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuaW5pdCgpO1xuICB9O1xuICBIb3dsZXJHbG9iYWwucHJvdG90eXBlID0ge1xuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemUgdGhlIGdsb2JhbCBIb3dsZXIgb2JqZWN0LlxuICAgICAqIEByZXR1cm4ge0hvd2xlcn1cbiAgICAgKi9cbiAgICBpbml0OiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcyB8fCBIb3dsZXI7XG5cbiAgICAgIC8vIENyZWF0ZSBhIGdsb2JhbCBJRCBjb3VudGVyLlxuICAgICAgc2VsZi5fY291bnRlciA9IDEwMDA7XG5cbiAgICAgIC8vIFBvb2wgb2YgdW5sb2NrZWQgSFRNTDUgQXVkaW8gb2JqZWN0cy5cbiAgICAgIHNlbGYuX2h0bWw1QXVkaW9Qb29sID0gW107XG4gICAgICBzZWxmLmh0bWw1UG9vbFNpemUgPSAxMDtcblxuICAgICAgLy8gSW50ZXJuYWwgcHJvcGVydGllcy5cbiAgICAgIHNlbGYuX2NvZGVjcyA9IHt9O1xuICAgICAgc2VsZi5faG93bHMgPSBbXTtcbiAgICAgIHNlbGYuX211dGVkID0gZmFsc2U7XG4gICAgICBzZWxmLl92b2x1bWUgPSAxO1xuICAgICAgc2VsZi5fY2FuUGxheUV2ZW50ID0gJ2NhbnBsYXl0aHJvdWdoJztcbiAgICAgIHNlbGYuX25hdmlnYXRvciA9ICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cubmF2aWdhdG9yKSA/IHdpbmRvdy5uYXZpZ2F0b3IgOiBudWxsO1xuXG4gICAgICAvLyBQdWJsaWMgcHJvcGVydGllcy5cbiAgICAgIHNlbGYubWFzdGVyR2FpbiA9IG51bGw7XG4gICAgICBzZWxmLm5vQXVkaW8gPSBmYWxzZTtcbiAgICAgIHNlbGYudXNpbmdXZWJBdWRpbyA9IHRydWU7XG4gICAgICBzZWxmLmF1dG9TdXNwZW5kID0gdHJ1ZTtcbiAgICAgIHNlbGYuY3R4ID0gbnVsbDtcblxuICAgICAgLy8gU2V0IHRvIGZhbHNlIHRvIGRpc2FibGUgdGhlIGF1dG8gYXVkaW8gdW5sb2NrZXIuXG4gICAgICBzZWxmLmF1dG9VbmxvY2sgPSB0cnVlO1xuXG4gICAgICAvLyBTZXR1cCB0aGUgdmFyaW91cyBzdGF0ZSB2YWx1ZXMgZm9yIGdsb2JhbCB0cmFja2luZy5cbiAgICAgIHNlbGYuX3NldHVwKCk7XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHZXQvc2V0IHRoZSBnbG9iYWwgdm9sdW1lIGZvciBhbGwgc291bmRzLlxuICAgICAqIEBwYXJhbSAge0Zsb2F0fSB2b2wgVm9sdW1lIGZyb20gMC4wIHRvIDEuMC5cbiAgICAgKiBAcmV0dXJuIHtIb3dsZXIvRmxvYXR9ICAgICBSZXR1cm5zIHNlbGYgb3IgY3VycmVudCB2b2x1bWUuXG4gICAgICovXG4gICAgdm9sdW1lOiBmdW5jdGlvbih2b2wpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcyB8fCBIb3dsZXI7XG4gICAgICB2b2wgPSBwYXJzZUZsb2F0KHZvbCk7XG5cbiAgICAgIC8vIElmIHdlIGRvbid0IGhhdmUgYW4gQXVkaW9Db250ZXh0IGNyZWF0ZWQgeWV0LCBydW4gdGhlIHNldHVwLlxuICAgICAgaWYgKCFzZWxmLmN0eCkge1xuICAgICAgICBzZXR1cEF1ZGlvQ29udGV4dCgpO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIHZvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgdm9sID49IDAgJiYgdm9sIDw9IDEpIHtcbiAgICAgICAgc2VsZi5fdm9sdW1lID0gdm9sO1xuXG4gICAgICAgIC8vIERvbid0IHVwZGF0ZSBhbnkgb2YgdGhlIG5vZGVzIGlmIHdlIGFyZSBtdXRlZC5cbiAgICAgICAgaWYgKHNlbGYuX211dGVkKSB7XG4gICAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBXaGVuIHVzaW5nIFdlYiBBdWRpbywgd2UganVzdCBuZWVkIHRvIGFkanVzdCB0aGUgbWFzdGVyIGdhaW4uXG4gICAgICAgIGlmIChzZWxmLnVzaW5nV2ViQXVkaW8pIHtcbiAgICAgICAgICBzZWxmLm1hc3RlckdhaW4uZ2Fpbi5zZXRWYWx1ZUF0VGltZSh2b2wsIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTG9vcCB0aHJvdWdoIGFuZCBjaGFuZ2Ugdm9sdW1lIGZvciBhbGwgSFRNTDUgYXVkaW8gbm9kZXMuXG4gICAgICAgIGZvciAodmFyIGk9MDsgaTxzZWxmLl9ob3dscy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlmICghc2VsZi5faG93bHNbaV0uX3dlYkF1ZGlvKSB7XG4gICAgICAgICAgICAvLyBHZXQgYWxsIG9mIHRoZSBzb3VuZHMgaW4gdGhpcyBIb3dsIGdyb3VwLlxuICAgICAgICAgICAgdmFyIGlkcyA9IHNlbGYuX2hvd2xzW2ldLl9nZXRTb3VuZElkcygpO1xuXG4gICAgICAgICAgICAvLyBMb29wIHRocm91Z2ggYWxsIHNvdW5kcyBhbmQgY2hhbmdlIHRoZSB2b2x1bWVzLlxuICAgICAgICAgICAgZm9yICh2YXIgaj0wOyBqPGlkcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICB2YXIgc291bmQgPSBzZWxmLl9ob3dsc1tpXS5fc291bmRCeUlkKGlkc1tqXSk7XG5cbiAgICAgICAgICAgICAgaWYgKHNvdW5kICYmIHNvdW5kLl9ub2RlKSB7XG4gICAgICAgICAgICAgICAgc291bmQuX25vZGUudm9sdW1lID0gc291bmQuX3ZvbHVtZSAqIHZvbDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2VsZi5fdm9sdW1lO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgbXV0aW5nIGFuZCB1bm11dGluZyBnbG9iYWxseS5cbiAgICAgKiBAcGFyYW0gIHtCb29sZWFufSBtdXRlZCBJcyBtdXRlZCBvciBub3QuXG4gICAgICovXG4gICAgbXV0ZTogZnVuY3Rpb24obXV0ZWQpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcyB8fCBIb3dsZXI7XG5cbiAgICAgIC8vIElmIHdlIGRvbid0IGhhdmUgYW4gQXVkaW9Db250ZXh0IGNyZWF0ZWQgeWV0LCBydW4gdGhlIHNldHVwLlxuICAgICAgaWYgKCFzZWxmLmN0eCkge1xuICAgICAgICBzZXR1cEF1ZGlvQ29udGV4dCgpO1xuICAgICAgfVxuXG4gICAgICBzZWxmLl9tdXRlZCA9IG11dGVkO1xuXG4gICAgICAvLyBXaXRoIFdlYiBBdWRpbywgd2UganVzdCBuZWVkIHRvIG11dGUgdGhlIG1hc3RlciBnYWluLlxuICAgICAgaWYgKHNlbGYudXNpbmdXZWJBdWRpbykge1xuICAgICAgICBzZWxmLm1hc3RlckdhaW4uZ2Fpbi5zZXRWYWx1ZUF0VGltZShtdXRlZCA/IDAgOiBzZWxmLl92b2x1bWUsIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xuICAgICAgfVxuXG4gICAgICAvLyBMb29wIHRocm91Z2ggYW5kIG11dGUgYWxsIEhUTUw1IEF1ZGlvIG5vZGVzLlxuICAgICAgZm9yICh2YXIgaT0wOyBpPHNlbGYuX2hvd2xzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmICghc2VsZi5faG93bHNbaV0uX3dlYkF1ZGlvKSB7XG4gICAgICAgICAgLy8gR2V0IGFsbCBvZiB0aGUgc291bmRzIGluIHRoaXMgSG93bCBncm91cC5cbiAgICAgICAgICB2YXIgaWRzID0gc2VsZi5faG93bHNbaV0uX2dldFNvdW5kSWRzKCk7XG5cbiAgICAgICAgICAvLyBMb29wIHRocm91Z2ggYWxsIHNvdW5kcyBhbmQgbWFyayB0aGUgYXVkaW8gbm9kZSBhcyBtdXRlZC5cbiAgICAgICAgICBmb3IgKHZhciBqPTA7IGo8aWRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICB2YXIgc291bmQgPSBzZWxmLl9ob3dsc1tpXS5fc291bmRCeUlkKGlkc1tqXSk7XG5cbiAgICAgICAgICAgIGlmIChzb3VuZCAmJiBzb3VuZC5fbm9kZSkge1xuICAgICAgICAgICAgICBzb3VuZC5fbm9kZS5tdXRlZCA9IChtdXRlZCkgPyB0cnVlIDogc291bmQuX211dGVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVW5sb2FkIGFuZCBkZXN0cm95IGFsbCBjdXJyZW50bHkgbG9hZGVkIEhvd2wgb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJuIHtIb3dsZXJ9XG4gICAgICovXG4gICAgdW5sb2FkOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcyB8fCBIb3dsZXI7XG5cbiAgICAgIGZvciAodmFyIGk9c2VsZi5faG93bHMubGVuZ3RoLTE7IGk+PTA7IGktLSkge1xuICAgICAgICBzZWxmLl9ob3dsc1tpXS51bmxvYWQoKTtcbiAgICAgIH1cblxuICAgICAgLy8gQ3JlYXRlIGEgbmV3IEF1ZGlvQ29udGV4dCB0byBtYWtlIHN1cmUgaXQgaXMgZnVsbHkgcmVzZXQuXG4gICAgICBpZiAoc2VsZi51c2luZ1dlYkF1ZGlvICYmIHNlbGYuY3R4ICYmIHR5cGVvZiBzZWxmLmN0eC5jbG9zZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgc2VsZi5jdHguY2xvc2UoKTtcbiAgICAgICAgc2VsZi5jdHggPSBudWxsO1xuICAgICAgICBzZXR1cEF1ZGlvQ29udGV4dCgpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgZm9yIGNvZGVjIHN1cHBvcnQgb2Ygc3BlY2lmaWMgZXh0ZW5zaW9uLlxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gZXh0IEF1ZGlvIGZpbGUgZXh0ZW50aW9uLlxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICAgICovXG4gICAgY29kZWNzOiBmdW5jdGlvbihleHQpIHtcbiAgICAgIHJldHVybiAodGhpcyB8fCBIb3dsZXIpLl9jb2RlY3NbZXh0LnJlcGxhY2UoL154LS8sICcnKV07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldHVwIHZhcmlvdXMgc3RhdGUgdmFsdWVzIGZvciBnbG9iYWwgdHJhY2tpbmcuXG4gICAgICogQHJldHVybiB7SG93bGVyfVxuICAgICAqL1xuICAgIF9zZXR1cDogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXMgfHwgSG93bGVyO1xuXG4gICAgICAvLyBLZWVwcyB0cmFjayBvZiB0aGUgc3VzcGVuZC9yZXN1bWUgc3RhdGUgb2YgdGhlIEF1ZGlvQ29udGV4dC5cbiAgICAgIHNlbGYuc3RhdGUgPSBzZWxmLmN0eCA/IHNlbGYuY3R4LnN0YXRlIHx8ICdzdXNwZW5kZWQnIDogJ3N1c3BlbmRlZCc7XG5cbiAgICAgIC8vIEF1dG9tYXRpY2FsbHkgYmVnaW4gdGhlIDMwLXNlY29uZCBzdXNwZW5kIHByb2Nlc3NcbiAgICAgIHNlbGYuX2F1dG9TdXNwZW5kKCk7XG5cbiAgICAgIC8vIENoZWNrIGlmIGF1ZGlvIGlzIGF2YWlsYWJsZS5cbiAgICAgIGlmICghc2VsZi51c2luZ1dlYkF1ZGlvKSB7XG4gICAgICAgIC8vIE5vIGF1ZGlvIGlzIGF2YWlsYWJsZSBvbiB0aGlzIHN5c3RlbSBpZiBub0F1ZGlvIGlzIHNldCB0byB0cnVlLlxuICAgICAgICBpZiAodHlwZW9mIEF1ZGlvICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YXIgdGVzdCA9IG5ldyBBdWRpbygpO1xuXG4gICAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgY2FucGxheXRocm91Z2ggZXZlbnQgaXMgYXZhaWxhYmxlLlxuICAgICAgICAgICAgaWYgKHR5cGVvZiB0ZXN0Lm9uY2FucGxheXRocm91Z2ggPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgIHNlbGYuX2NhblBsYXlFdmVudCA9ICdjYW5wbGF5JztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgICAgIHNlbGYubm9BdWRpbyA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlbGYubm9BdWRpbyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gVGVzdCB0byBtYWtlIHN1cmUgYXVkaW8gaXNuJ3QgZGlzYWJsZWQgaW4gSW50ZXJuZXQgRXhwbG9yZXIuXG4gICAgICB0cnkge1xuICAgICAgICB2YXIgdGVzdCA9IG5ldyBBdWRpbygpO1xuICAgICAgICBpZiAodGVzdC5tdXRlZCkge1xuICAgICAgICAgIHNlbGYubm9BdWRpbyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGUpIHt9XG5cbiAgICAgIC8vIENoZWNrIGZvciBzdXBwb3J0ZWQgY29kZWNzLlxuICAgICAgaWYgKCFzZWxmLm5vQXVkaW8pIHtcbiAgICAgICAgc2VsZi5fc2V0dXBDb2RlY3MoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENoZWNrIGZvciBicm93c2VyIHN1cHBvcnQgZm9yIHZhcmlvdXMgY29kZWNzIGFuZCBjYWNoZSB0aGUgcmVzdWx0cy5cbiAgICAgKiBAcmV0dXJuIHtIb3dsZXJ9XG4gICAgICovXG4gICAgX3NldHVwQ29kZWNzOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcyB8fCBIb3dsZXI7XG4gICAgICB2YXIgYXVkaW9UZXN0ID0gbnVsbDtcblxuICAgICAgLy8gTXVzdCB3cmFwIGluIGEgdHJ5L2NhdGNoIGJlY2F1c2UgSUUxMSBpbiBzZXJ2ZXIgbW9kZSB0aHJvd3MgYW4gZXJyb3IuXG4gICAgICB0cnkge1xuICAgICAgICBhdWRpb1Rlc3QgPSAodHlwZW9mIEF1ZGlvICE9PSAndW5kZWZpbmVkJykgPyBuZXcgQXVkaW8oKSA6IG51bGw7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgICB9XG5cbiAgICAgIGlmICghYXVkaW9UZXN0IHx8IHR5cGVvZiBhdWRpb1Rlc3QuY2FuUGxheVR5cGUgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgICB9XG5cbiAgICAgIHZhciBtcGVnVGVzdCA9IGF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8vbXBlZzsnKS5yZXBsYWNlKC9ebm8kLywgJycpO1xuXG4gICAgICAvLyBPcGVyYSB2ZXJzaW9uIDwzMyBoYXMgbWl4ZWQgTVAzIHN1cHBvcnQsIHNvIHdlIG5lZWQgdG8gY2hlY2sgZm9yIGFuZCBibG9jayBpdC5cbiAgICAgIHZhciBjaGVja09wZXJhID0gc2VsZi5fbmF2aWdhdG9yICYmIHNlbGYuX25hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL09QUlxcLyhbMC02XS4pL2cpO1xuICAgICAgdmFyIGlzT2xkT3BlcmEgPSAoY2hlY2tPcGVyYSAmJiBwYXJzZUludChjaGVja09wZXJhWzBdLnNwbGl0KCcvJylbMV0sIDEwKSA8IDMzKTtcblxuICAgICAgc2VsZi5fY29kZWNzID0ge1xuICAgICAgICBtcDM6ICEhKCFpc09sZE9wZXJhICYmIChtcGVnVGVzdCB8fCBhdWRpb1Rlc3QuY2FuUGxheVR5cGUoJ2F1ZGlvL21wMzsnKS5yZXBsYWNlKC9ebm8kLywgJycpKSksXG4gICAgICAgIG1wZWc6ICEhbXBlZ1Rlc3QsXG4gICAgICAgIG9wdXM6ICEhYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby9vZ2c7IGNvZGVjcz1cIm9wdXNcIicpLnJlcGxhY2UoL15ubyQvLCAnJyksXG4gICAgICAgIG9nZzogISFhdWRpb1Rlc3QuY2FuUGxheVR5cGUoJ2F1ZGlvL29nZzsgY29kZWNzPVwidm9yYmlzXCInKS5yZXBsYWNlKC9ebm8kLywgJycpLFxuICAgICAgICBvZ2E6ICEhYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby9vZ2c7IGNvZGVjcz1cInZvcmJpc1wiJykucmVwbGFjZSgvXm5vJC8sICcnKSxcbiAgICAgICAgd2F2OiAhIWF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8vd2F2OyBjb2RlY3M9XCIxXCInKS5yZXBsYWNlKC9ebm8kLywgJycpLFxuICAgICAgICBhYWM6ICEhYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby9hYWM7JykucmVwbGFjZSgvXm5vJC8sICcnKSxcbiAgICAgICAgY2FmOiAhIWF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8veC1jYWY7JykucmVwbGFjZSgvXm5vJC8sICcnKSxcbiAgICAgICAgbTRhOiAhIShhdWRpb1Rlc3QuY2FuUGxheVR5cGUoJ2F1ZGlvL3gtbTRhOycpIHx8IGF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8vbTRhOycpIHx8IGF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8vYWFjOycpKS5yZXBsYWNlKC9ebm8kLywgJycpLFxuICAgICAgICBtcDQ6ICEhKGF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8veC1tcDQ7JykgfHwgYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby9tcDQ7JykgfHwgYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby9hYWM7JykpLnJlcGxhY2UoL15ubyQvLCAnJyksXG4gICAgICAgIHdlYmE6ICEhYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby93ZWJtOyBjb2RlY3M9XCJ2b3JiaXNcIicpLnJlcGxhY2UoL15ubyQvLCAnJyksXG4gICAgICAgIHdlYm06ICEhYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby93ZWJtOyBjb2RlY3M9XCJ2b3JiaXNcIicpLnJlcGxhY2UoL15ubyQvLCAnJyksXG4gICAgICAgIGRvbGJ5OiAhIWF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8vbXA0OyBjb2RlY3M9XCJlYy0zXCInKS5yZXBsYWNlKC9ebm8kLywgJycpLFxuICAgICAgICBmbGFjOiAhIShhdWRpb1Rlc3QuY2FuUGxheVR5cGUoJ2F1ZGlvL3gtZmxhYzsnKSB8fCBhdWRpb1Rlc3QuY2FuUGxheVR5cGUoJ2F1ZGlvL2ZsYWM7JykpLnJlcGxhY2UoL15ubyQvLCAnJylcbiAgICAgIH07XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTb21lIGJyb3dzZXJzL2RldmljZXMgd2lsbCBvbmx5IGFsbG93IGF1ZGlvIHRvIGJlIHBsYXllZCBhZnRlciBhIHVzZXIgaW50ZXJhY3Rpb24uXG4gICAgICogQXR0ZW1wdCB0byBhdXRvbWF0aWNhbGx5IHVubG9jayBhdWRpbyBvbiB0aGUgZmlyc3QgdXNlciBpbnRlcmFjdGlvbi5cbiAgICAgKiBDb25jZXB0IGZyb206IGh0dHA6Ly9wYXVsYmFrYXVzLmNvbS90dXRvcmlhbHMvaHRtbDUvd2ViLWF1ZGlvLW9uLWlvcy9cbiAgICAgKiBAcmV0dXJuIHtIb3dsZXJ9XG4gICAgICovXG4gICAgX3VubG9ja0F1ZGlvOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcyB8fCBIb3dsZXI7XG5cbiAgICAgIC8vIE9ubHkgcnVuIHRoaXMgaWYgV2ViIEF1ZGlvIGlzIHN1cHBvcnRlZCBhbmQgaXQgaGFzbid0IGFscmVhZHkgYmVlbiB1bmxvY2tlZC5cbiAgICAgIGlmIChzZWxmLl9hdWRpb1VubG9ja2VkIHx8ICFzZWxmLmN0eCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHNlbGYuX2F1ZGlvVW5sb2NrZWQgPSBmYWxzZTtcbiAgICAgIHNlbGYuYXV0b1VubG9jayA9IGZhbHNlO1xuXG4gICAgICAvLyBTb21lIG1vYmlsZSBkZXZpY2VzL3BsYXRmb3JtcyBoYXZlIGRpc3RvcnRpb24gaXNzdWVzIHdoZW4gb3BlbmluZy9jbG9zaW5nIHRhYnMgYW5kL29yIHdlYiB2aWV3cy5cbiAgICAgIC8vIEJ1Z3MgaW4gdGhlIGJyb3dzZXIgKGVzcGVjaWFsbHkgTW9iaWxlIFNhZmFyaSkgY2FuIGNhdXNlIHRoZSBzYW1wbGVSYXRlIHRvIGNoYW5nZSBmcm9tIDQ0MTAwIHRvIDQ4MDAwLlxuICAgICAgLy8gQnkgY2FsbGluZyBIb3dsZXIudW5sb2FkKCksIHdlIGNyZWF0ZSBhIG5ldyBBdWRpb0NvbnRleHQgd2l0aCB0aGUgY29ycmVjdCBzYW1wbGVSYXRlLlxuICAgICAgaWYgKCFzZWxmLl9tb2JpbGVVbmxvYWRlZCAmJiBzZWxmLmN0eC5zYW1wbGVSYXRlICE9PSA0NDEwMCkge1xuICAgICAgICBzZWxmLl9tb2JpbGVVbmxvYWRlZCA9IHRydWU7XG4gICAgICAgIHNlbGYudW5sb2FkKCk7XG4gICAgICB9XG5cbiAgICAgIC8vIFNjcmF0Y2ggYnVmZmVyIGZvciBlbmFibGluZyBpT1MgdG8gZGlzcG9zZSBvZiB3ZWIgYXVkaW8gYnVmZmVycyBjb3JyZWN0bHksIGFzIHBlcjpcbiAgICAgIC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMjQxMTk2ODRcbiAgICAgIHNlbGYuX3NjcmF0Y2hCdWZmZXIgPSBzZWxmLmN0eC5jcmVhdGVCdWZmZXIoMSwgMSwgMjIwNTApO1xuXG4gICAgICAvLyBDYWxsIHRoaXMgbWV0aG9kIG9uIHRvdWNoIHN0YXJ0IHRvIGNyZWF0ZSBhbmQgcGxheSBhIGJ1ZmZlcixcbiAgICAgIC8vIHRoZW4gY2hlY2sgaWYgdGhlIGF1ZGlvIGFjdHVhbGx5IHBsYXllZCB0byBkZXRlcm1pbmUgaWZcbiAgICAgIC8vIGF1ZGlvIGhhcyBub3cgYmVlbiB1bmxvY2tlZCBvbiBpT1MsIEFuZHJvaWQsIGV0Yy5cbiAgICAgIHZhciB1bmxvY2sgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIC8vIENyZWF0ZSBhIHBvb2wgb2YgdW5sb2NrZWQgSFRNTDUgQXVkaW8gb2JqZWN0cyB0aGF0IGNhblxuICAgICAgICAvLyBiZSB1c2VkIGZvciBwbGF5aW5nIHNvdW5kcyB3aXRob3V0IHVzZXIgaW50ZXJhY3Rpb24uIEhUTUw1XG4gICAgICAgIC8vIEF1ZGlvIG9iamVjdHMgbXVzdCBiZSBpbmRpdmlkdWFsbHkgdW5sb2NrZWQsIGFzIG9wcG9zZWRcbiAgICAgICAgLy8gdG8gdGhlIFdlYkF1ZGlvIEFQSSB3aGljaCBvbmx5IG5lZWRzIGEgc2luZ2xlIGFjdGl2YXRpb24uXG4gICAgICAgIC8vIFRoaXMgbXVzdCBvY2N1ciBiZWZvcmUgV2ViQXVkaW8gc2V0dXAgb3IgdGhlIHNvdXJjZS5vbmVuZGVkXG4gICAgICAgIC8vIGV2ZW50IHdpbGwgbm90IGZpcmUuXG4gICAgICAgIGZvciAodmFyIGk9MDsgaTxzZWxmLmh0bWw1UG9vbFNpemU7IGkrKykge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YXIgYXVkaW9Ob2RlID0gbmV3IEF1ZGlvKCk7XG5cbiAgICAgICAgICAgIC8vIE1hcmsgdGhpcyBBdWRpbyBvYmplY3QgYXMgdW5sb2NrZWQgdG8gZW5zdXJlIGl0IGNhbiBnZXQgcmV0dXJuZWRcbiAgICAgICAgICAgIC8vIHRvIHRoZSB1bmxvY2tlZCBwb29sIHdoZW4gcmVsZWFzZWQuXG4gICAgICAgICAgICBhdWRpb05vZGUuX3VubG9ja2VkID0gdHJ1ZTtcblxuICAgICAgICAgICAgLy8gQWRkIHRoZSBhdWRpbyBub2RlIHRvIHRoZSBwb29sLlxuICAgICAgICAgICAgc2VsZi5fcmVsZWFzZUh0bWw1QXVkaW8oYXVkaW9Ob2RlKTtcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBzZWxmLm5vQXVkaW8gPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIExvb3AgdGhyb3VnaCBhbnkgYXNzaWduZWQgYXVkaW8gbm9kZXMgYW5kIHVubG9jayB0aGVtLlxuICAgICAgICBmb3IgKHZhciBpPTA7IGk8c2VsZi5faG93bHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZiAoIXNlbGYuX2hvd2xzW2ldLl93ZWJBdWRpbykge1xuICAgICAgICAgICAgLy8gR2V0IGFsbCBvZiB0aGUgc291bmRzIGluIHRoaXMgSG93bCBncm91cC5cbiAgICAgICAgICAgIHZhciBpZHMgPSBzZWxmLl9ob3dsc1tpXS5fZ2V0U291bmRJZHMoKTtcblxuICAgICAgICAgICAgLy8gTG9vcCB0aHJvdWdoIGFsbCBzb3VuZHMgYW5kIHVubG9jayB0aGUgYXVkaW8gbm9kZXMuXG4gICAgICAgICAgICBmb3IgKHZhciBqPTA7IGo8aWRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgIHZhciBzb3VuZCA9IHNlbGYuX2hvd2xzW2ldLl9zb3VuZEJ5SWQoaWRzW2pdKTtcblxuICAgICAgICAgICAgICBpZiAoc291bmQgJiYgc291bmQuX25vZGUgJiYgIXNvdW5kLl9ub2RlLl91bmxvY2tlZCkge1xuICAgICAgICAgICAgICAgIHNvdW5kLl9ub2RlLl91bmxvY2tlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgc291bmQuX25vZGUubG9hZCgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gRml4IEFuZHJvaWQgY2FuIG5vdCBwbGF5IGluIHN1c3BlbmQgc3RhdGUuXG4gICAgICAgIHNlbGYuX2F1dG9SZXN1bWUoKTtcblxuICAgICAgICAvLyBDcmVhdGUgYW4gZW1wdHkgYnVmZmVyLlxuICAgICAgICB2YXIgc291cmNlID0gc2VsZi5jdHguY3JlYXRlQnVmZmVyU291cmNlKCk7XG4gICAgICAgIHNvdXJjZS5idWZmZXIgPSBzZWxmLl9zY3JhdGNoQnVmZmVyO1xuICAgICAgICBzb3VyY2UuY29ubmVjdChzZWxmLmN0eC5kZXN0aW5hdGlvbik7XG5cbiAgICAgICAgLy8gUGxheSB0aGUgZW1wdHkgYnVmZmVyLlxuICAgICAgICBpZiAodHlwZW9mIHNvdXJjZS5zdGFydCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICBzb3VyY2Uubm90ZU9uKDApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNvdXJjZS5zdGFydCgwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENhbGxpbmcgcmVzdW1lKCkgb24gYSBzdGFjayBpbml0aWF0ZWQgYnkgdXNlciBnZXN0dXJlIGlzIHdoYXQgYWN0dWFsbHkgdW5sb2NrcyB0aGUgYXVkaW8gb24gQW5kcm9pZCBDaHJvbWUgPj0gNTUuXG4gICAgICAgIGlmICh0eXBlb2Ygc2VsZi5jdHgucmVzdW1lID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgc2VsZi5jdHgucmVzdW1lKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTZXR1cCBhIHRpbWVvdXQgdG8gY2hlY2sgdGhhdCB3ZSBhcmUgdW5sb2NrZWQgb24gdGhlIG5leHQgZXZlbnQgbG9vcC5cbiAgICAgICAgc291cmNlLm9uZW5kZWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICBzb3VyY2UuZGlzY29ubmVjdCgwKTtcblxuICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgdW5sb2NrZWQgc3RhdGUgYW5kIHByZXZlbnQgdGhpcyBjaGVjayBmcm9tIGhhcHBlbmluZyBhZ2Fpbi5cbiAgICAgICAgICBzZWxmLl9hdWRpb1VubG9ja2VkID0gdHJ1ZTtcblxuICAgICAgICAgIC8vIFJlbW92ZSB0aGUgdG91Y2ggc3RhcnQgbGlzdGVuZXIuXG4gICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHVubG9jaywgdHJ1ZSk7XG4gICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB1bmxvY2ssIHRydWUpO1xuICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdW5sb2NrLCB0cnVlKTtcblxuICAgICAgICAgIC8vIExldCBhbGwgc291bmRzIGtub3cgdGhhdCBhdWRpbyBoYXMgYmVlbiB1bmxvY2tlZC5cbiAgICAgICAgICBmb3IgKHZhciBpPTA7IGk8c2VsZi5faG93bHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHNlbGYuX2hvd2xzW2ldLl9lbWl0KCd1bmxvY2snKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9O1xuXG4gICAgICAvLyBTZXR1cCBhIHRvdWNoIHN0YXJ0IGxpc3RlbmVyIHRvIGF0dGVtcHQgYW4gdW5sb2NrIGluLlxuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHVubG9jaywgdHJ1ZSk7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHVubG9jaywgdHJ1ZSk7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHVubG9jaywgdHJ1ZSk7XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHZXQgYW4gdW5sb2NrZWQgSFRNTDUgQXVkaW8gb2JqZWN0IGZyb20gdGhlIHBvb2wuIElmIG5vbmUgYXJlIGxlZnQsXG4gICAgICogcmV0dXJuIGEgbmV3IEF1ZGlvIG9iamVjdCBhbmQgdGhyb3cgYSB3YXJuaW5nLlxuICAgICAqIEByZXR1cm4ge0F1ZGlvfSBIVE1MNSBBdWRpbyBvYmplY3QuXG4gICAgICovXG4gICAgX29idGFpbkh0bWw1QXVkaW86IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzIHx8IEhvd2xlcjtcblxuICAgICAgLy8gUmV0dXJuIHRoZSBuZXh0IG9iamVjdCBmcm9tIHRoZSBwb29sIGlmIG9uZSBleGlzdHMuXG4gICAgICBpZiAoc2VsZi5faHRtbDVBdWRpb1Bvb2wubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBzZWxmLl9odG1sNUF1ZGlvUG9vbC5wb3AoKTtcbiAgICAgIH1cblxuICAgICAgLy8uQ2hlY2sgaWYgdGhlIGF1ZGlvIGlzIGxvY2tlZCBhbmQgdGhyb3cgYSB3YXJuaW5nLlxuICAgICAgdmFyIHRlc3RQbGF5ID0gbmV3IEF1ZGlvKCkucGxheSgpO1xuICAgICAgaWYgKHRlc3RQbGF5ICYmIHR5cGVvZiBQcm9taXNlICE9PSAndW5kZWZpbmVkJyAmJiAodGVzdFBsYXkgaW5zdGFuY2VvZiBQcm9taXNlIHx8IHR5cGVvZiB0ZXN0UGxheS50aGVuID09PSAnZnVuY3Rpb24nKSkge1xuICAgICAgICB0ZXN0UGxheS5jYXRjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oJ0hUTUw1IEF1ZGlvIHBvb2wgZXhoYXVzdGVkLCByZXR1cm5pbmcgcG90ZW50aWFsbHkgbG9ja2VkIGF1ZGlvIG9iamVjdC4nKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXcgQXVkaW8oKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIGFuIGFjdGl2YXRlZCBIVE1MNSBBdWRpbyBvYmplY3QgdG8gdGhlIHBvb2wuXG4gICAgICogQHJldHVybiB7SG93bGVyfVxuICAgICAqL1xuICAgIF9yZWxlYXNlSHRtbDVBdWRpbzogZnVuY3Rpb24oYXVkaW8pIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcyB8fCBIb3dsZXI7XG5cbiAgICAgIC8vIERvbid0IGFkZCBhdWRpbyB0byB0aGUgcG9vbCBpZiB3ZSBkb24ndCBrbm93IGlmIGl0IGhhcyBiZWVuIHVubG9ja2VkLlxuICAgICAgaWYgKGF1ZGlvLl91bmxvY2tlZCkge1xuICAgICAgICBzZWxmLl9odG1sNUF1ZGlvUG9vbC5wdXNoKGF1ZGlvKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEF1dG9tYXRpY2FsbHkgc3VzcGVuZCB0aGUgV2ViIEF1ZGlvIEF1ZGlvQ29udGV4dCBhZnRlciBubyBzb3VuZCBoYXMgcGxheWVkIGZvciAzMCBzZWNvbmRzLlxuICAgICAqIFRoaXMgc2F2ZXMgcHJvY2Vzc2luZy9lbmVyZ3kgYW5kIGZpeGVzIHZhcmlvdXMgYnJvd3Nlci1zcGVjaWZpYyBidWdzIHdpdGggYXVkaW8gZ2V0dGluZyBzdHVjay5cbiAgICAgKiBAcmV0dXJuIHtIb3dsZXJ9XG4gICAgICovXG4gICAgX2F1dG9TdXNwZW5kOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgaWYgKCFzZWxmLmF1dG9TdXNwZW5kIHx8ICFzZWxmLmN0eCB8fCB0eXBlb2Ygc2VsZi5jdHguc3VzcGVuZCA9PT0gJ3VuZGVmaW5lZCcgfHwgIUhvd2xlci51c2luZ1dlYkF1ZGlvKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gQ2hlY2sgaWYgYW55IHNvdW5kcyBhcmUgcGxheWluZy5cbiAgICAgIGZvciAodmFyIGk9MDsgaTxzZWxmLl9ob3dscy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoc2VsZi5faG93bHNbaV0uX3dlYkF1ZGlvKSB7XG4gICAgICAgICAgZm9yICh2YXIgaj0wOyBqPHNlbGYuX2hvd2xzW2ldLl9zb3VuZHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIGlmICghc2VsZi5faG93bHNbaV0uX3NvdW5kc1tqXS5fcGF1c2VkKSB7XG4gICAgICAgICAgICAgIHJldHVybiBzZWxmO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoc2VsZi5fc3VzcGVuZFRpbWVyKSB7XG4gICAgICAgIGNsZWFyVGltZW91dChzZWxmLl9zdXNwZW5kVGltZXIpO1xuICAgICAgfVxuXG4gICAgICAvLyBJZiBubyBzb3VuZCBoYXMgcGxheWVkIGFmdGVyIDMwIHNlY29uZHMsIHN1c3BlbmQgdGhlIGNvbnRleHQuXG4gICAgICBzZWxmLl9zdXNwZW5kVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoIXNlbGYuYXV0b1N1c3BlbmQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBzZWxmLl9zdXNwZW5kVGltZXIgPSBudWxsO1xuICAgICAgICBzZWxmLnN0YXRlID0gJ3N1c3BlbmRpbmcnO1xuICAgICAgICBzZWxmLmN0eC5zdXNwZW5kKCkudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICBzZWxmLnN0YXRlID0gJ3N1c3BlbmRlZCc7XG5cbiAgICAgICAgICBpZiAoc2VsZi5fcmVzdW1lQWZ0ZXJTdXNwZW5kKSB7XG4gICAgICAgICAgICBkZWxldGUgc2VsZi5fcmVzdW1lQWZ0ZXJTdXNwZW5kO1xuICAgICAgICAgICAgc2VsZi5fYXV0b1Jlc3VtZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9LCAzMDAwMCk7XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBdXRvbWF0aWNhbGx5IHJlc3VtZSB0aGUgV2ViIEF1ZGlvIEF1ZGlvQ29udGV4dCB3aGVuIGEgbmV3IHNvdW5kIGlzIHBsYXllZC5cbiAgICAgKiBAcmV0dXJuIHtIb3dsZXJ9XG4gICAgICovXG4gICAgX2F1dG9SZXN1bWU6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICBpZiAoIXNlbGYuY3R4IHx8IHR5cGVvZiBzZWxmLmN0eC5yZXN1bWUgPT09ICd1bmRlZmluZWQnIHx8ICFIb3dsZXIudXNpbmdXZWJBdWRpbykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChzZWxmLnN0YXRlID09PSAncnVubmluZycgJiYgc2VsZi5fc3VzcGVuZFRpbWVyKSB7XG4gICAgICAgIGNsZWFyVGltZW91dChzZWxmLl9zdXNwZW5kVGltZXIpO1xuICAgICAgICBzZWxmLl9zdXNwZW5kVGltZXIgPSBudWxsO1xuICAgICAgfSBlbHNlIGlmIChzZWxmLnN0YXRlID09PSAnc3VzcGVuZGVkJykge1xuICAgICAgICBzZWxmLmN0eC5yZXN1bWUoKS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHNlbGYuc3RhdGUgPSAncnVubmluZyc7XG5cbiAgICAgICAgICAvLyBFbWl0IHRvIGFsbCBIb3dscyB0aGF0IHRoZSBhdWRpbyBoYXMgcmVzdW1lZC5cbiAgICAgICAgICBmb3IgKHZhciBpPTA7IGk8c2VsZi5faG93bHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHNlbGYuX2hvd2xzW2ldLl9lbWl0KCdyZXN1bWUnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChzZWxmLl9zdXNwZW5kVGltZXIpIHtcbiAgICAgICAgICBjbGVhclRpbWVvdXQoc2VsZi5fc3VzcGVuZFRpbWVyKTtcbiAgICAgICAgICBzZWxmLl9zdXNwZW5kVGltZXIgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHNlbGYuc3RhdGUgPT09ICdzdXNwZW5kaW5nJykge1xuICAgICAgICBzZWxmLl9yZXN1bWVBZnRlclN1c3BlbmQgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9XG4gIH07XG5cbiAgLy8gU2V0dXAgdGhlIGdsb2JhbCBhdWRpbyBjb250cm9sbGVyLlxuICB2YXIgSG93bGVyID0gbmV3IEhvd2xlckdsb2JhbCgpO1xuXG4gIC8qKiBHcm91cCBNZXRob2RzICoqL1xuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4gIC8qKlxuICAgKiBDcmVhdGUgYW4gYXVkaW8gZ3JvdXAgY29udHJvbGxlci5cbiAgICogQHBhcmFtIHtPYmplY3R9IG8gUGFzc2VkIGluIHByb3BlcnRpZXMgZm9yIHRoaXMgZ3JvdXAuXG4gICAqL1xuICB2YXIgSG93bCA9IGZ1bmN0aW9uKG8pIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAvLyBUaHJvdyBhbiBlcnJvciBpZiBubyBzb3VyY2UgaXMgcHJvdmlkZWQuXG4gICAgaWYgKCFvLnNyYyB8fCBvLnNyYy5sZW5ndGggPT09IDApIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0FuIGFycmF5IG9mIHNvdXJjZSBmaWxlcyBtdXN0IGJlIHBhc3NlZCB3aXRoIGFueSBuZXcgSG93bC4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzZWxmLmluaXQobyk7XG4gIH07XG4gIEhvd2wucHJvdG90eXBlID0ge1xuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemUgYSBuZXcgSG93bCBncm91cCBvYmplY3QuXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSBvIFBhc3NlZCBpbiBwcm9wZXJ0aWVzIGZvciB0aGlzIGdyb3VwLlxuICAgICAqIEByZXR1cm4ge0hvd2x9XG4gICAgICovXG4gICAgaW5pdDogZnVuY3Rpb24obykge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAvLyBJZiB3ZSBkb24ndCBoYXZlIGFuIEF1ZGlvQ29udGV4dCBjcmVhdGVkIHlldCwgcnVuIHRoZSBzZXR1cC5cbiAgICAgIGlmICghSG93bGVyLmN0eCkge1xuICAgICAgICBzZXR1cEF1ZGlvQ29udGV4dCgpO1xuICAgICAgfVxuXG4gICAgICAvLyBTZXR1cCB1c2VyLWRlZmluZWQgZGVmYXVsdCBwcm9wZXJ0aWVzLlxuICAgICAgc2VsZi5fYXV0b3BsYXkgPSBvLmF1dG9wbGF5IHx8IGZhbHNlO1xuICAgICAgc2VsZi5fZm9ybWF0ID0gKHR5cGVvZiBvLmZvcm1hdCAhPT0gJ3N0cmluZycpID8gby5mb3JtYXQgOiBbby5mb3JtYXRdO1xuICAgICAgc2VsZi5faHRtbDUgPSBvLmh0bWw1IHx8IGZhbHNlO1xuICAgICAgc2VsZi5fbXV0ZWQgPSBvLm11dGUgfHwgZmFsc2U7XG4gICAgICBzZWxmLl9sb29wID0gby5sb29wIHx8IGZhbHNlO1xuICAgICAgc2VsZi5fcG9vbCA9IG8ucG9vbCB8fCA1O1xuICAgICAgc2VsZi5fcHJlbG9hZCA9ICh0eXBlb2Ygby5wcmVsb2FkID09PSAnYm9vbGVhbicpID8gby5wcmVsb2FkIDogdHJ1ZTtcbiAgICAgIHNlbGYuX3JhdGUgPSBvLnJhdGUgfHwgMTtcbiAgICAgIHNlbGYuX3Nwcml0ZSA9IG8uc3ByaXRlIHx8IHt9O1xuICAgICAgc2VsZi5fc3JjID0gKHR5cGVvZiBvLnNyYyAhPT0gJ3N0cmluZycpID8gby5zcmMgOiBbby5zcmNdO1xuICAgICAgc2VsZi5fdm9sdW1lID0gby52b2x1bWUgIT09IHVuZGVmaW5lZCA/IG8udm9sdW1lIDogMTtcbiAgICAgIHNlbGYuX3hocldpdGhDcmVkZW50aWFscyA9IG8ueGhyV2l0aENyZWRlbnRpYWxzIHx8IGZhbHNlO1xuXG4gICAgICAvLyBTZXR1cCBhbGwgb3RoZXIgZGVmYXVsdCBwcm9wZXJ0aWVzLlxuICAgICAgc2VsZi5fZHVyYXRpb24gPSAwO1xuICAgICAgc2VsZi5fc3RhdGUgPSAndW5sb2FkZWQnO1xuICAgICAgc2VsZi5fc291bmRzID0gW107XG4gICAgICBzZWxmLl9lbmRUaW1lcnMgPSB7fTtcbiAgICAgIHNlbGYuX3F1ZXVlID0gW107XG4gICAgICBzZWxmLl9wbGF5TG9jayA9IGZhbHNlO1xuXG4gICAgICAvLyBTZXR1cCBldmVudCBsaXN0ZW5lcnMuXG4gICAgICBzZWxmLl9vbmVuZCA9IG8ub25lbmQgPyBbe2ZuOiBvLm9uZW5kfV0gOiBbXTtcbiAgICAgIHNlbGYuX29uZmFkZSA9IG8ub25mYWRlID8gW3tmbjogby5vbmZhZGV9XSA6IFtdO1xuICAgICAgc2VsZi5fb25sb2FkID0gby5vbmxvYWQgPyBbe2ZuOiBvLm9ubG9hZH1dIDogW107XG4gICAgICBzZWxmLl9vbmxvYWRlcnJvciA9IG8ub25sb2FkZXJyb3IgPyBbe2ZuOiBvLm9ubG9hZGVycm9yfV0gOiBbXTtcbiAgICAgIHNlbGYuX29ucGxheWVycm9yID0gby5vbnBsYXllcnJvciA/IFt7Zm46IG8ub25wbGF5ZXJyb3J9XSA6IFtdO1xuICAgICAgc2VsZi5fb25wYXVzZSA9IG8ub25wYXVzZSA/IFt7Zm46IG8ub25wYXVzZX1dIDogW107XG4gICAgICBzZWxmLl9vbnBsYXkgPSBvLm9ucGxheSA/IFt7Zm46IG8ub25wbGF5fV0gOiBbXTtcbiAgICAgIHNlbGYuX29uc3RvcCA9IG8ub25zdG9wID8gW3tmbjogby5vbnN0b3B9XSA6IFtdO1xuICAgICAgc2VsZi5fb25tdXRlID0gby5vbm11dGUgPyBbe2ZuOiBvLm9ubXV0ZX1dIDogW107XG4gICAgICBzZWxmLl9vbnZvbHVtZSA9IG8ub252b2x1bWUgPyBbe2ZuOiBvLm9udm9sdW1lfV0gOiBbXTtcbiAgICAgIHNlbGYuX29ucmF0ZSA9IG8ub25yYXRlID8gW3tmbjogby5vbnJhdGV9XSA6IFtdO1xuICAgICAgc2VsZi5fb25zZWVrID0gby5vbnNlZWsgPyBbe2ZuOiBvLm9uc2Vla31dIDogW107XG4gICAgICBzZWxmLl9vbnVubG9jayA9IG8ub251bmxvY2sgPyBbe2ZuOiBvLm9udW5sb2NrfV0gOiBbXTtcbiAgICAgIHNlbGYuX29ucmVzdW1lID0gW107XG5cbiAgICAgIC8vIFdlYiBBdWRpbyBvciBIVE1MNSBBdWRpbz9cbiAgICAgIHNlbGYuX3dlYkF1ZGlvID0gSG93bGVyLnVzaW5nV2ViQXVkaW8gJiYgIXNlbGYuX2h0bWw1O1xuXG4gICAgICAvLyBBdXRvbWF0aWNhbGx5IHRyeSB0byBlbmFibGUgYXVkaW8uXG4gICAgICBpZiAodHlwZW9mIEhvd2xlci5jdHggIT09ICd1bmRlZmluZWQnICYmIEhvd2xlci5jdHggJiYgSG93bGVyLmF1dG9VbmxvY2spIHtcbiAgICAgICAgSG93bGVyLl91bmxvY2tBdWRpbygpO1xuICAgICAgfVxuXG4gICAgICAvLyBLZWVwIHRyYWNrIG9mIHRoaXMgSG93bCBncm91cCBpbiB0aGUgZ2xvYmFsIGNvbnRyb2xsZXIuXG4gICAgICBIb3dsZXIuX2hvd2xzLnB1c2goc2VsZik7XG5cbiAgICAgIC8vIElmIHRoZXkgc2VsZWN0ZWQgYXV0b3BsYXksIGFkZCBhIHBsYXkgZXZlbnQgdG8gdGhlIGxvYWQgcXVldWUuXG4gICAgICBpZiAoc2VsZi5fYXV0b3BsYXkpIHtcbiAgICAgICAgc2VsZi5fcXVldWUucHVzaCh7XG4gICAgICAgICAgZXZlbnQ6ICdwbGF5JyxcbiAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2VsZi5wbGF5KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgLy8gTG9hZCB0aGUgc291cmNlIGZpbGUgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG4gICAgICBpZiAoc2VsZi5fcHJlbG9hZCkge1xuICAgICAgICBzZWxmLmxvYWQoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIExvYWQgdGhlIGF1ZGlvIGZpbGUuXG4gICAgICogQHJldHVybiB7SG93bGVyfVxuICAgICAqL1xuICAgIGxvYWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIHVybCA9IG51bGw7XG5cbiAgICAgIC8vIElmIG5vIGF1ZGlvIGlzIGF2YWlsYWJsZSwgcXVpdCBpbW1lZGlhdGVseS5cbiAgICAgIGlmIChIb3dsZXIubm9BdWRpbykge1xuICAgICAgICBzZWxmLl9lbWl0KCdsb2FkZXJyb3InLCBudWxsLCAnTm8gYXVkaW8gc3VwcG9ydC4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBNYWtlIHN1cmUgb3VyIHNvdXJjZSBpcyBpbiBhbiBhcnJheS5cbiAgICAgIGlmICh0eXBlb2Ygc2VsZi5fc3JjID09PSAnc3RyaW5nJykge1xuICAgICAgICBzZWxmLl9zcmMgPSBbc2VsZi5fc3JjXTtcbiAgICAgIH1cblxuICAgICAgLy8gTG9vcCB0aHJvdWdoIHRoZSBzb3VyY2VzIGFuZCBwaWNrIHRoZSBmaXJzdCBvbmUgdGhhdCBpcyBjb21wYXRpYmxlLlxuICAgICAgZm9yICh2YXIgaT0wOyBpPHNlbGYuX3NyYy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgZXh0LCBzdHI7XG5cbiAgICAgICAgaWYgKHNlbGYuX2Zvcm1hdCAmJiBzZWxmLl9mb3JtYXRbaV0pIHtcbiAgICAgICAgICAvLyBJZiBhbiBleHRlbnNpb24gd2FzIHNwZWNpZmllZCwgdXNlIHRoYXQgaW5zdGVhZC5cbiAgICAgICAgICBleHQgPSBzZWxmLl9mb3JtYXRbaV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gTWFrZSBzdXJlIHRoZSBzb3VyY2UgaXMgYSBzdHJpbmcuXG4gICAgICAgICAgc3RyID0gc2VsZi5fc3JjW2ldO1xuICAgICAgICAgIGlmICh0eXBlb2Ygc3RyICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgc2VsZi5fZW1pdCgnbG9hZGVycm9yJywgbnVsbCwgJ05vbi1zdHJpbmcgZm91bmQgaW4gc2VsZWN0ZWQgYXVkaW8gc291cmNlcyAtIGlnbm9yaW5nLicpO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gRXh0cmFjdCB0aGUgZmlsZSBleHRlbnNpb24gZnJvbSB0aGUgVVJMIG9yIGJhc2U2NCBkYXRhIFVSSS5cbiAgICAgICAgICBleHQgPSAvXmRhdGE6YXVkaW9cXC8oW147LF0rKTsvaS5leGVjKHN0cik7XG4gICAgICAgICAgaWYgKCFleHQpIHtcbiAgICAgICAgICAgIGV4dCA9IC9cXC4oW14uXSspJC8uZXhlYyhzdHIuc3BsaXQoJz8nLCAxKVswXSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGV4dCkge1xuICAgICAgICAgICAgZXh0ID0gZXh0WzFdLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gTG9nIGEgd2FybmluZyBpZiBubyBleHRlbnNpb24gd2FzIGZvdW5kLlxuICAgICAgICBpZiAoIWV4dCkge1xuICAgICAgICAgIGNvbnNvbGUud2FybignTm8gZmlsZSBleHRlbnNpb24gd2FzIGZvdW5kLiBDb25zaWRlciB1c2luZyB0aGUgXCJmb3JtYXRcIiBwcm9wZXJ0eSBvciBzcGVjaWZ5IGFuIGV4dGVuc2lvbi4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENoZWNrIGlmIHRoaXMgZXh0ZW5zaW9uIGlzIGF2YWlsYWJsZS5cbiAgICAgICAgaWYgKGV4dCAmJiBIb3dsZXIuY29kZWNzKGV4dCkpIHtcbiAgICAgICAgICB1cmwgPSBzZWxmLl9zcmNbaV07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKCF1cmwpIHtcbiAgICAgICAgc2VsZi5fZW1pdCgnbG9hZGVycm9yJywgbnVsbCwgJ05vIGNvZGVjIHN1cHBvcnQgZm9yIHNlbGVjdGVkIGF1ZGlvIHNvdXJjZXMuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgc2VsZi5fc3JjID0gdXJsO1xuICAgICAgc2VsZi5fc3RhdGUgPSAnbG9hZGluZyc7XG5cbiAgICAgIC8vIElmIHRoZSBob3N0aW5nIHBhZ2UgaXMgSFRUUFMgYW5kIHRoZSBzb3VyY2UgaXNuJ3QsXG4gICAgICAvLyBkcm9wIGRvd24gdG8gSFRNTDUgQXVkaW8gdG8gYXZvaWQgTWl4ZWQgQ29udGVudCBlcnJvcnMuXG4gICAgICBpZiAod2luZG93LmxvY2F0aW9uLnByb3RvY29sID09PSAnaHR0cHM6JyAmJiB1cmwuc2xpY2UoMCwgNSkgPT09ICdodHRwOicpIHtcbiAgICAgICAgc2VsZi5faHRtbDUgPSB0cnVlO1xuICAgICAgICBzZWxmLl93ZWJBdWRpbyA9IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICAvLyBDcmVhdGUgYSBuZXcgc291bmQgb2JqZWN0IGFuZCBhZGQgaXQgdG8gdGhlIHBvb2wuXG4gICAgICBuZXcgU291bmQoc2VsZik7XG5cbiAgICAgIC8vIExvYWQgYW5kIGRlY29kZSB0aGUgYXVkaW8gZGF0YSBmb3IgcGxheWJhY2suXG4gICAgICBpZiAoc2VsZi5fd2ViQXVkaW8pIHtcbiAgICAgICAgbG9hZEJ1ZmZlcihzZWxmKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFBsYXkgYSBzb3VuZCBvciByZXN1bWUgcHJldmlvdXMgcGxheWJhY2suXG4gICAgICogQHBhcmFtICB7U3RyaW5nL051bWJlcn0gc3ByaXRlICAgU3ByaXRlIG5hbWUgZm9yIHNwcml0ZSBwbGF5YmFjayBvciBzb3VuZCBpZCB0byBjb250aW51ZSBwcmV2aW91cy5cbiAgICAgKiBAcGFyYW0gIHtCb29sZWFufSBpbnRlcm5hbCBJbnRlcm5hbCBVc2U6IHRydWUgcHJldmVudHMgZXZlbnQgZmlyaW5nLlxuICAgICAqIEByZXR1cm4ge051bWJlcn0gICAgICAgICAgU291bmQgSUQuXG4gICAgICovXG4gICAgcGxheTogZnVuY3Rpb24oc3ByaXRlLCBpbnRlcm5hbCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIGlkID0gbnVsbDtcblxuICAgICAgLy8gRGV0ZXJtaW5lIGlmIGEgc3ByaXRlLCBzb3VuZCBpZCBvciBub3RoaW5nIHdhcyBwYXNzZWRcbiAgICAgIGlmICh0eXBlb2Ygc3ByaXRlID09PSAnbnVtYmVyJykge1xuICAgICAgICBpZCA9IHNwcml0ZTtcbiAgICAgICAgc3ByaXRlID0gbnVsbDtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHNwcml0ZSA9PT0gJ3N0cmluZycgJiYgc2VsZi5fc3RhdGUgPT09ICdsb2FkZWQnICYmICFzZWxmLl9zcHJpdGVbc3ByaXRlXSkge1xuICAgICAgICAvLyBJZiB0aGUgcGFzc2VkIHNwcml0ZSBkb2Vzbid0IGV4aXN0LCBkbyBub3RoaW5nLlxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHNwcml0ZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgLy8gVXNlIHRoZSBkZWZhdWx0IHNvdW5kIHNwcml0ZSAocGxheXMgdGhlIGZ1bGwgYXVkaW8gbGVuZ3RoKS5cbiAgICAgICAgc3ByaXRlID0gJ19fZGVmYXVsdCc7XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlcmUgaXMgYSBzaW5nbGUgcGF1c2VkIHNvdW5kIHRoYXQgaXNuJ3QgZW5kZWQuIFxuICAgICAgICAvLyBJZiB0aGVyZSBpcywgcGxheSB0aGF0IHNvdW5kLiBJZiBub3QsIGNvbnRpbnVlIGFzIHVzdWFsLiAgXG4gICAgICAgIGlmICghc2VsZi5fcGxheUxvY2spIHtcbiAgICAgICAgICB2YXIgbnVtID0gMDtcbiAgICAgICAgICBmb3IgKHZhciBpPTA7IGk8c2VsZi5fc291bmRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoc2VsZi5fc291bmRzW2ldLl9wYXVzZWQgJiYgIXNlbGYuX3NvdW5kc1tpXS5fZW5kZWQpIHtcbiAgICAgICAgICAgICAgbnVtKys7XG4gICAgICAgICAgICAgIGlkID0gc2VsZi5fc291bmRzW2ldLl9pZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAobnVtID09PSAxKSB7XG4gICAgICAgICAgICBzcHJpdGUgPSBudWxsO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZCA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIEdldCB0aGUgc2VsZWN0ZWQgbm9kZSwgb3IgZ2V0IG9uZSBmcm9tIHRoZSBwb29sLlxuICAgICAgdmFyIHNvdW5kID0gaWQgPyBzZWxmLl9zb3VuZEJ5SWQoaWQpIDogc2VsZi5faW5hY3RpdmVTb3VuZCgpO1xuXG4gICAgICAvLyBJZiB0aGUgc291bmQgZG9lc24ndCBleGlzdCwgZG8gbm90aGluZy5cbiAgICAgIGlmICghc291bmQpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIC8vIFNlbGVjdCB0aGUgc3ByaXRlIGRlZmluaXRpb24uXG4gICAgICBpZiAoaWQgJiYgIXNwcml0ZSkge1xuICAgICAgICBzcHJpdGUgPSBzb3VuZC5fc3ByaXRlIHx8ICdfX2RlZmF1bHQnO1xuICAgICAgfVxuXG4gICAgICAvLyBJZiB0aGUgc291bmQgaGFzbid0IGxvYWRlZCwgd2UgbXVzdCB3YWl0IHRvIGdldCB0aGUgYXVkaW8ncyBkdXJhdGlvbi5cbiAgICAgIC8vIFdlIGFsc28gbmVlZCB0byB3YWl0IHRvIG1ha2Ugc3VyZSB3ZSBkb24ndCBydW4gaW50byByYWNlIGNvbmRpdGlvbnMgd2l0aFxuICAgICAgLy8gdGhlIG9yZGVyIG9mIGZ1bmN0aW9uIGNhbGxzLlxuICAgICAgaWYgKHNlbGYuX3N0YXRlICE9PSAnbG9hZGVkJykge1xuICAgICAgICAvLyBTZXQgdGhlIHNwcml0ZSB2YWx1ZSBvbiB0aGlzIHNvdW5kLlxuICAgICAgICBzb3VuZC5fc3ByaXRlID0gc3ByaXRlO1xuXG4gICAgICAgIC8vIE1hcmsgdGhpcyBzb3VuZCBhcyBub3QgZW5kZWQgaW4gY2FzZSBhbm90aGVyIHNvdW5kIGlzIHBsYXllZCBiZWZvcmUgdGhpcyBvbmUgbG9hZHMuXG4gICAgICAgIHNvdW5kLl9lbmRlZCA9IGZhbHNlO1xuXG4gICAgICAgIC8vIEFkZCB0aGUgc291bmQgdG8gdGhlIHF1ZXVlIHRvIGJlIHBsYXllZCBvbiBsb2FkLlxuICAgICAgICB2YXIgc291bmRJZCA9IHNvdW5kLl9pZDtcbiAgICAgICAgc2VsZi5fcXVldWUucHVzaCh7XG4gICAgICAgICAgZXZlbnQ6ICdwbGF5JyxcbiAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2VsZi5wbGF5KHNvdW5kSWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHNvdW5kSWQ7XG4gICAgICB9XG5cbiAgICAgIC8vIERvbid0IHBsYXkgdGhlIHNvdW5kIGlmIGFuIGlkIHdhcyBwYXNzZWQgYW5kIGl0IGlzIGFscmVhZHkgcGxheWluZy5cbiAgICAgIGlmIChpZCAmJiAhc291bmQuX3BhdXNlZCkge1xuICAgICAgICAvLyBUcmlnZ2VyIHRoZSBwbGF5IGV2ZW50LCBpbiBvcmRlciB0byBrZWVwIGl0ZXJhdGluZyB0aHJvdWdoIHF1ZXVlLlxuICAgICAgICBpZiAoIWludGVybmFsKSB7XG4gICAgICAgICAgc2VsZi5fbG9hZFF1ZXVlKCdwbGF5Jyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc291bmQuX2lkO1xuICAgICAgfVxuXG4gICAgICAvLyBNYWtlIHN1cmUgdGhlIEF1ZGlvQ29udGV4dCBpc24ndCBzdXNwZW5kZWQsIGFuZCByZXN1bWUgaXQgaWYgaXQgaXMuXG4gICAgICBpZiAoc2VsZi5fd2ViQXVkaW8pIHtcbiAgICAgICAgSG93bGVyLl9hdXRvUmVzdW1lKCk7XG4gICAgICB9XG5cbiAgICAgIC8vIERldGVybWluZSBob3cgbG9uZyB0byBwbGF5IGZvciBhbmQgd2hlcmUgdG8gc3RhcnQgcGxheWluZy5cbiAgICAgIHZhciBzZWVrID0gTWF0aC5tYXgoMCwgc291bmQuX3NlZWsgPiAwID8gc291bmQuX3NlZWsgOiBzZWxmLl9zcHJpdGVbc3ByaXRlXVswXSAvIDEwMDApO1xuICAgICAgdmFyIGR1cmF0aW9uID0gTWF0aC5tYXgoMCwgKChzZWxmLl9zcHJpdGVbc3ByaXRlXVswXSArIHNlbGYuX3Nwcml0ZVtzcHJpdGVdWzFdKSAvIDEwMDApIC0gc2Vlayk7XG4gICAgICB2YXIgdGltZW91dCA9IChkdXJhdGlvbiAqIDEwMDApIC8gTWF0aC5hYnMoc291bmQuX3JhdGUpO1xuICAgICAgdmFyIHN0YXJ0ID0gc2VsZi5fc3ByaXRlW3Nwcml0ZV1bMF0gLyAxMDAwO1xuICAgICAgdmFyIHN0b3AgPSAoc2VsZi5fc3ByaXRlW3Nwcml0ZV1bMF0gKyBzZWxmLl9zcHJpdGVbc3ByaXRlXVsxXSkgLyAxMDAwO1xuICAgICAgdmFyIGxvb3AgPSAhIShzb3VuZC5fbG9vcCB8fCBzZWxmLl9zcHJpdGVbc3ByaXRlXVsyXSk7XG4gICAgICBzb3VuZC5fc3ByaXRlID0gc3ByaXRlO1xuXG4gICAgICAvLyBNYXJrIHRoZSBzb3VuZCBhcyBlbmRlZCBpbnN0YW50bHkgc28gdGhhdCB0aGlzIGFzeW5jIHBsYXliYWNrXG4gICAgICAvLyBkb2Vzbid0IGdldCBncmFiYmVkIGJ5IGFub3RoZXIgY2FsbCB0byBwbGF5IHdoaWxlIHRoaXMgb25lIHdhaXRzIHRvIHN0YXJ0LlxuICAgICAgc291bmQuX2VuZGVkID0gZmFsc2U7XG5cbiAgICAgIC8vIFVwZGF0ZSB0aGUgcGFyYW1ldGVycyBvZiB0aGUgc291bmQuXG4gICAgICB2YXIgc2V0UGFyYW1zID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHNvdW5kLl9wYXVzZWQgPSBmYWxzZTtcbiAgICAgICAgc291bmQuX3NlZWsgPSBzZWVrO1xuICAgICAgICBzb3VuZC5fc3RhcnQgPSBzdGFydDtcbiAgICAgICAgc291bmQuX3N0b3AgPSBzdG9wO1xuICAgICAgICBzb3VuZC5fbG9vcCA9IGxvb3A7XG4gICAgICB9O1xuXG4gICAgICAvLyBFbmQgdGhlIHNvdW5kIGluc3RhbnRseSBpZiBzZWVrIGlzIGF0IHRoZSBlbmQuXG4gICAgICBpZiAoc2VlayA+PSBzdG9wKSB7XG4gICAgICAgIHNlbGYuX2VuZGVkKHNvdW5kKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBCZWdpbiB0aGUgYWN0dWFsIHBsYXliYWNrLlxuICAgICAgdmFyIG5vZGUgPSBzb3VuZC5fbm9kZTtcbiAgICAgIGlmIChzZWxmLl93ZWJBdWRpbykge1xuICAgICAgICAvLyBGaXJlIHRoaXMgd2hlbiB0aGUgc291bmQgaXMgcmVhZHkgdG8gcGxheSB0byBiZWdpbiBXZWIgQXVkaW8gcGxheWJhY2suXG4gICAgICAgIHZhciBwbGF5V2ViQXVkaW8gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICBzZWxmLl9wbGF5TG9jayA9IGZhbHNlO1xuICAgICAgICAgIHNldFBhcmFtcygpO1xuICAgICAgICAgIHNlbGYuX3JlZnJlc2hCdWZmZXIoc291bmQpO1xuXG4gICAgICAgICAgLy8gU2V0dXAgdGhlIHBsYXliYWNrIHBhcmFtcy5cbiAgICAgICAgICB2YXIgdm9sID0gKHNvdW5kLl9tdXRlZCB8fCBzZWxmLl9tdXRlZCkgPyAwIDogc291bmQuX3ZvbHVtZTtcbiAgICAgICAgICBub2RlLmdhaW4uc2V0VmFsdWVBdFRpbWUodm9sLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcbiAgICAgICAgICBzb3VuZC5fcGxheVN0YXJ0ID0gSG93bGVyLmN0eC5jdXJyZW50VGltZTtcblxuICAgICAgICAgIC8vIFBsYXkgdGhlIHNvdW5kIHVzaW5nIHRoZSBzdXBwb3J0ZWQgbWV0aG9kLlxuICAgICAgICAgIGlmICh0eXBlb2Ygbm9kZS5idWZmZXJTb3VyY2Uuc3RhcnQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBzb3VuZC5fbG9vcCA/IG5vZGUuYnVmZmVyU291cmNlLm5vdGVHcmFpbk9uKDAsIHNlZWssIDg2NDAwKSA6IG5vZGUuYnVmZmVyU291cmNlLm5vdGVHcmFpbk9uKDAsIHNlZWssIGR1cmF0aW9uKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc291bmQuX2xvb3AgPyBub2RlLmJ1ZmZlclNvdXJjZS5zdGFydCgwLCBzZWVrLCA4NjQwMCkgOiBub2RlLmJ1ZmZlclNvdXJjZS5zdGFydCgwLCBzZWVrLCBkdXJhdGlvbik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gU3RhcnQgYSBuZXcgdGltZXIgaWYgbm9uZSBpcyBwcmVzZW50LlxuICAgICAgICAgIGlmICh0aW1lb3V0ICE9PSBJbmZpbml0eSkge1xuICAgICAgICAgICAgc2VsZi5fZW5kVGltZXJzW3NvdW5kLl9pZF0gPSBzZXRUaW1lb3V0KHNlbGYuX2VuZGVkLmJpbmQoc2VsZiwgc291bmQpLCB0aW1lb3V0KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoIWludGVybmFsKSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBzZWxmLl9lbWl0KCdwbGF5Jywgc291bmQuX2lkKTtcbiAgICAgICAgICAgICAgc2VsZi5fbG9hZFF1ZXVlKCk7XG4gICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKEhvd2xlci5zdGF0ZSA9PT0gJ3J1bm5pbmcnKSB7XG4gICAgICAgICAgcGxheVdlYkF1ZGlvKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2VsZi5fcGxheUxvY2sgPSB0cnVlO1xuXG4gICAgICAgICAgLy8gV2FpdCBmb3IgdGhlIGF1ZGlvIGNvbnRleHQgdG8gcmVzdW1lIGJlZm9yZSBwbGF5aW5nLlxuICAgICAgICAgIHNlbGYub25jZSgncmVzdW1lJywgcGxheVdlYkF1ZGlvKTtcblxuICAgICAgICAgIC8vIENhbmNlbCB0aGUgZW5kIHRpbWVyLlxuICAgICAgICAgIHNlbGYuX2NsZWFyVGltZXIoc291bmQuX2lkKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gRmlyZSB0aGlzIHdoZW4gdGhlIHNvdW5kIGlzIHJlYWR5IHRvIHBsYXkgdG8gYmVnaW4gSFRNTDUgQXVkaW8gcGxheWJhY2suXG4gICAgICAgIHZhciBwbGF5SHRtbDUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICBub2RlLmN1cnJlbnRUaW1lID0gc2VlaztcbiAgICAgICAgICBub2RlLm11dGVkID0gc291bmQuX211dGVkIHx8IHNlbGYuX211dGVkIHx8IEhvd2xlci5fbXV0ZWQgfHwgbm9kZS5tdXRlZDtcbiAgICAgICAgICBub2RlLnZvbHVtZSA9IHNvdW5kLl92b2x1bWUgKiBIb3dsZXIudm9sdW1lKCk7XG4gICAgICAgICAgbm9kZS5wbGF5YmFja1JhdGUgPSBzb3VuZC5fcmF0ZTtcblxuICAgICAgICAgIC8vIFNvbWUgYnJvd3NlcnMgd2lsbCB0aHJvdyBhbiBlcnJvciBpZiB0aGlzIGlzIGNhbGxlZCB3aXRob3V0IHVzZXIgaW50ZXJhY3Rpb24uXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciBwbGF5ID0gbm9kZS5wbGF5KCk7XG5cbiAgICAgICAgICAgIC8vIFN1cHBvcnQgb2xkZXIgYnJvd3NlcnMgdGhhdCBkb24ndCBzdXBwb3J0IHByb21pc2VzLCBhbmQgdGh1cyBkb24ndCBoYXZlIHRoaXMgaXNzdWUuXG4gICAgICAgICAgICBpZiAocGxheSAmJiB0eXBlb2YgUHJvbWlzZSAhPT0gJ3VuZGVmaW5lZCcgJiYgKHBsYXkgaW5zdGFuY2VvZiBQcm9taXNlIHx8IHR5cGVvZiBwbGF5LnRoZW4gPT09ICdmdW5jdGlvbicpKSB7XG4gICAgICAgICAgICAgIC8vIEltcGxlbWVudHMgYSBsb2NrIHRvIHByZXZlbnQgRE9NRXhjZXB0aW9uOiBUaGUgcGxheSgpIHJlcXVlc3Qgd2FzIGludGVycnVwdGVkIGJ5IGEgY2FsbCB0byBwYXVzZSgpLlxuICAgICAgICAgICAgICBzZWxmLl9wbGF5TG9jayA9IHRydWU7XG5cbiAgICAgICAgICAgICAgLy8gU2V0IHBhcmFtIHZhbHVlcyBpbW1lZGlhdGVseS5cbiAgICAgICAgICAgICAgc2V0UGFyYW1zKCk7XG5cbiAgICAgICAgICAgICAgLy8gUmVsZWFzZXMgdGhlIGxvY2sgYW5kIGV4ZWN1dGVzIHF1ZXVlZCBhY3Rpb25zLlxuICAgICAgICAgICAgICBwbGF5XG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICBzZWxmLl9wbGF5TG9jayA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgbm9kZS5fdW5sb2NrZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgaWYgKCFpbnRlcm5hbCkge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLl9lbWl0KCdwbGF5Jywgc291bmQuX2lkKTtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5fbG9hZFF1ZXVlKCk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICBzZWxmLl9wbGF5TG9jayA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgc2VsZi5fZW1pdCgncGxheWVycm9yJywgc291bmQuX2lkLCAnUGxheWJhY2sgd2FzIHVuYWJsZSB0byBzdGFydC4gVGhpcyBpcyBtb3N0IGNvbW1vbmx5IGFuIGlzc3VlICcgK1xuICAgICAgICAgICAgICAgICAgICAnb24gbW9iaWxlIGRldmljZXMgYW5kIENocm9tZSB3aGVyZSBwbGF5YmFjayB3YXMgbm90IHdpdGhpbiBhIHVzZXIgaW50ZXJhY3Rpb24uJyk7XG5cbiAgICAgICAgICAgICAgICAgIC8vIFJlc2V0IHRoZSBlbmRlZCBhbmQgcGF1c2VkIHZhbHVlcy5cbiAgICAgICAgICAgICAgICAgIHNvdW5kLl9lbmRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICBzb3VuZC5fcGF1c2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIWludGVybmFsKSB7XG4gICAgICAgICAgICAgIHNlbGYuX3BsYXlMb2NrID0gZmFsc2U7XG4gICAgICAgICAgICAgIHNldFBhcmFtcygpO1xuICAgICAgICAgICAgICBzZWxmLl9lbWl0KCdwbGF5Jywgc291bmQuX2lkKTtcbiAgICAgICAgICAgICAgc2VsZi5fbG9hZFF1ZXVlKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFNldHRpbmcgcmF0ZSBiZWZvcmUgcGxheWluZyB3b24ndCB3b3JrIGluIElFLCBzbyB3ZSBzZXQgaXQgYWdhaW4gaGVyZS5cbiAgICAgICAgICAgIG5vZGUucGxheWJhY2tSYXRlID0gc291bmQuX3JhdGU7XG5cbiAgICAgICAgICAgIC8vIElmIHRoZSBub2RlIGlzIHN0aWxsIHBhdXNlZCwgdGhlbiB3ZSBjYW4gYXNzdW1lIHRoZXJlIHdhcyBhIHBsYXliYWNrIGlzc3VlLlxuICAgICAgICAgICAgaWYgKG5vZGUucGF1c2VkKSB7XG4gICAgICAgICAgICAgIHNlbGYuX2VtaXQoJ3BsYXllcnJvcicsIHNvdW5kLl9pZCwgJ1BsYXliYWNrIHdhcyB1bmFibGUgdG8gc3RhcnQuIFRoaXMgaXMgbW9zdCBjb21tb25seSBhbiBpc3N1ZSAnICtcbiAgICAgICAgICAgICAgICAnb24gbW9iaWxlIGRldmljZXMgYW5kIENocm9tZSB3aGVyZSBwbGF5YmFjayB3YXMgbm90IHdpdGhpbiBhIHVzZXIgaW50ZXJhY3Rpb24uJyk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gU2V0dXAgdGhlIGVuZCB0aW1lciBvbiBzcHJpdGVzIG9yIGxpc3RlbiBmb3IgdGhlIGVuZGVkIGV2ZW50LlxuICAgICAgICAgICAgaWYgKHNwcml0ZSAhPT0gJ19fZGVmYXVsdCcgfHwgc291bmQuX2xvb3ApIHtcbiAgICAgICAgICAgICAgc2VsZi5fZW5kVGltZXJzW3NvdW5kLl9pZF0gPSBzZXRUaW1lb3V0KHNlbGYuX2VuZGVkLmJpbmQoc2VsZiwgc291bmQpLCB0aW1lb3V0KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHNlbGYuX2VuZFRpbWVyc1tzb3VuZC5faWRdID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgLy8gRmlyZSBlbmRlZCBvbiB0aGlzIGF1ZGlvIG5vZGUuXG4gICAgICAgICAgICAgICAgc2VsZi5fZW5kZWQoc291bmQpO1xuXG4gICAgICAgICAgICAgICAgLy8gQ2xlYXIgdGhpcyBsaXN0ZW5lci5cbiAgICAgICAgICAgICAgICBub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2VuZGVkJywgc2VsZi5fZW5kVGltZXJzW3NvdW5kLl9pZF0sIGZhbHNlKTtcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgbm9kZS5hZGRFdmVudExpc3RlbmVyKCdlbmRlZCcsIHNlbGYuX2VuZFRpbWVyc1tzb3VuZC5faWRdLCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBzZWxmLl9lbWl0KCdwbGF5ZXJyb3InLCBzb3VuZC5faWQsIGVycik7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIElmIHRoaXMgaXMgc3RyZWFtaW5nIGF1ZGlvLCBtYWtlIHN1cmUgdGhlIHNyYyBpcyBzZXQgYW5kIGxvYWQgYWdhaW4uXG4gICAgICAgIGlmIChub2RlLnNyYyA9PT0gJ2RhdGE6YXVkaW8vd2F2O2Jhc2U2NCxVa2xHUmlnQUFBQlhRVlpGWm0xMElCSUFBQUFCQUFFQVJLd0FBSWhZQVFBQ0FCQUFBQUJrWVhSaEFnQUFBQUVBJykge1xuICAgICAgICAgIG5vZGUuc3JjID0gc2VsZi5fc3JjO1xuICAgICAgICAgIG5vZGUubG9hZCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUGxheSBpbW1lZGlhdGVseSBpZiByZWFkeSwgb3Igd2FpdCBmb3IgdGhlICdjYW5wbGF5dGhyb3VnaCdlIHZlbnQuXG4gICAgICAgIHZhciBsb2FkZWROb1JlYWR5U3RhdGUgPSAod2luZG93ICYmIHdpbmRvdy5lamVjdGEpIHx8ICghbm9kZS5yZWFkeVN0YXRlICYmIEhvd2xlci5fbmF2aWdhdG9yLmlzQ29jb29uSlMpO1xuICAgICAgICBpZiAobm9kZS5yZWFkeVN0YXRlID49IDMgfHwgbG9hZGVkTm9SZWFkeVN0YXRlKSB7XG4gICAgICAgICAgcGxheUh0bWw1KCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2VsZi5fcGxheUxvY2sgPSB0cnVlO1xuXG4gICAgICAgICAgdmFyIGxpc3RlbmVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAvLyBCZWdpbiBwbGF5YmFjay5cbiAgICAgICAgICAgIHBsYXlIdG1sNSgpO1xuXG4gICAgICAgICAgICAvLyBDbGVhciB0aGlzIGxpc3RlbmVyLlxuICAgICAgICAgICAgbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKEhvd2xlci5fY2FuUGxheUV2ZW50LCBsaXN0ZW5lciwgZmFsc2UpO1xuICAgICAgICAgIH07XG4gICAgICAgICAgbm9kZS5hZGRFdmVudExpc3RlbmVyKEhvd2xlci5fY2FuUGxheUV2ZW50LCBsaXN0ZW5lciwgZmFsc2UpO1xuXG4gICAgICAgICAgLy8gQ2FuY2VsIHRoZSBlbmQgdGltZXIuXG4gICAgICAgICAgc2VsZi5fY2xlYXJUaW1lcihzb3VuZC5faWQpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzb3VuZC5faWQ7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFBhdXNlIHBsYXliYWNrIGFuZCBzYXZlIGN1cnJlbnQgcG9zaXRpb24uXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSBpZCBUaGUgc291bmQgSUQgKGVtcHR5IHRvIHBhdXNlIGFsbCBpbiBncm91cCkuXG4gICAgICogQHJldHVybiB7SG93bH1cbiAgICAgKi9cbiAgICBwYXVzZTogZnVuY3Rpb24oaWQpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgLy8gSWYgdGhlIHNvdW5kIGhhc24ndCBsb2FkZWQgb3IgYSBwbGF5KCkgcHJvbWlzZSBpcyBwZW5kaW5nLCBhZGQgaXQgdG8gdGhlIGxvYWQgcXVldWUgdG8gcGF1c2Ugd2hlbiBjYXBhYmxlLlxuICAgICAgaWYgKHNlbGYuX3N0YXRlICE9PSAnbG9hZGVkJyB8fCBzZWxmLl9wbGF5TG9jaykge1xuICAgICAgICBzZWxmLl9xdWV1ZS5wdXNoKHtcbiAgICAgICAgICBldmVudDogJ3BhdXNlJyxcbiAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2VsZi5wYXVzZShpZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gc2VsZjtcbiAgICAgIH1cblxuICAgICAgLy8gSWYgbm8gaWQgaXMgcGFzc2VkLCBnZXQgYWxsIElEJ3MgdG8gYmUgcGF1c2VkLlxuICAgICAgdmFyIGlkcyA9IHNlbGYuX2dldFNvdW5kSWRzKGlkKTtcblxuICAgICAgZm9yICh2YXIgaT0wOyBpPGlkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAvLyBDbGVhciB0aGUgZW5kIHRpbWVyLlxuICAgICAgICBzZWxmLl9jbGVhclRpbWVyKGlkc1tpXSk7XG5cbiAgICAgICAgLy8gR2V0IHRoZSBzb3VuZC5cbiAgICAgICAgdmFyIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKGlkc1tpXSk7XG5cbiAgICAgICAgaWYgKHNvdW5kICYmICFzb3VuZC5fcGF1c2VkKSB7XG4gICAgICAgICAgLy8gUmVzZXQgdGhlIHNlZWsgcG9zaXRpb24uXG4gICAgICAgICAgc291bmQuX3NlZWsgPSBzZWxmLnNlZWsoaWRzW2ldKTtcbiAgICAgICAgICBzb3VuZC5fcmF0ZVNlZWsgPSAwO1xuICAgICAgICAgIHNvdW5kLl9wYXVzZWQgPSB0cnVlO1xuXG4gICAgICAgICAgLy8gU3RvcCBjdXJyZW50bHkgcnVubmluZyBmYWRlcy5cbiAgICAgICAgICBzZWxmLl9zdG9wRmFkZShpZHNbaV0pO1xuXG4gICAgICAgICAgaWYgKHNvdW5kLl9ub2RlKSB7XG4gICAgICAgICAgICBpZiAoc2VsZi5fd2ViQXVkaW8pIHtcbiAgICAgICAgICAgICAgLy8gTWFrZSBzdXJlIHRoZSBzb3VuZCBoYXMgYmVlbiBjcmVhdGVkLlxuICAgICAgICAgICAgICBpZiAoIXNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2Uuc3RvcCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2Uubm90ZU9mZigwKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2Uuc3RvcCgwKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIC8vIENsZWFuIHVwIHRoZSBidWZmZXIgc291cmNlLlxuICAgICAgICAgICAgICBzZWxmLl9jbGVhbkJ1ZmZlcihzb3VuZC5fbm9kZSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCFpc05hTihzb3VuZC5fbm9kZS5kdXJhdGlvbikgfHwgc291bmQuX25vZGUuZHVyYXRpb24gPT09IEluZmluaXR5KSB7XG4gICAgICAgICAgICAgIHNvdW5kLl9ub2RlLnBhdXNlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gRmlyZSB0aGUgcGF1c2UgZXZlbnQsIHVubGVzcyBgdHJ1ZWAgaXMgcGFzc2VkIGFzIHRoZSAybmQgYXJndW1lbnQuXG4gICAgICAgIGlmICghYXJndW1lbnRzWzFdKSB7XG4gICAgICAgICAgc2VsZi5fZW1pdCgncGF1c2UnLCBzb3VuZCA/IHNvdW5kLl9pZCA6IG51bGwpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTdG9wIHBsYXliYWNrIGFuZCByZXNldCB0byBzdGFydC5cbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGlkIFRoZSBzb3VuZCBJRCAoZW1wdHkgdG8gc3RvcCBhbGwgaW4gZ3JvdXApLlxuICAgICAqIEBwYXJhbSAge0Jvb2xlYW59IGludGVybmFsIEludGVybmFsIFVzZTogdHJ1ZSBwcmV2ZW50cyBldmVudCBmaXJpbmcuXG4gICAgICogQHJldHVybiB7SG93bH1cbiAgICAgKi9cbiAgICBzdG9wOiBmdW5jdGlvbihpZCwgaW50ZXJuYWwpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgLy8gSWYgdGhlIHNvdW5kIGhhc24ndCBsb2FkZWQsIGFkZCBpdCB0byB0aGUgbG9hZCBxdWV1ZSB0byBzdG9wIHdoZW4gY2FwYWJsZS5cbiAgICAgIGlmIChzZWxmLl9zdGF0ZSAhPT0gJ2xvYWRlZCcgfHwgc2VsZi5fcGxheUxvY2spIHtcbiAgICAgICAgc2VsZi5fcXVldWUucHVzaCh7XG4gICAgICAgICAgZXZlbnQ6ICdzdG9wJyxcbiAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2VsZi5zdG9wKGlkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgICAgfVxuXG4gICAgICAvLyBJZiBubyBpZCBpcyBwYXNzZWQsIGdldCBhbGwgSUQncyB0byBiZSBzdG9wcGVkLlxuICAgICAgdmFyIGlkcyA9IHNlbGYuX2dldFNvdW5kSWRzKGlkKTtcblxuICAgICAgZm9yICh2YXIgaT0wOyBpPGlkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAvLyBDbGVhciB0aGUgZW5kIHRpbWVyLlxuICAgICAgICBzZWxmLl9jbGVhclRpbWVyKGlkc1tpXSk7XG5cbiAgICAgICAgLy8gR2V0IHRoZSBzb3VuZC5cbiAgICAgICAgdmFyIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKGlkc1tpXSk7XG5cbiAgICAgICAgaWYgKHNvdW5kKSB7XG4gICAgICAgICAgLy8gUmVzZXQgdGhlIHNlZWsgcG9zaXRpb24uXG4gICAgICAgICAgc291bmQuX3NlZWsgPSBzb3VuZC5fc3RhcnQgfHwgMDtcbiAgICAgICAgICBzb3VuZC5fcmF0ZVNlZWsgPSAwO1xuICAgICAgICAgIHNvdW5kLl9wYXVzZWQgPSB0cnVlO1xuICAgICAgICAgIHNvdW5kLl9lbmRlZCA9IHRydWU7XG5cbiAgICAgICAgICAvLyBTdG9wIGN1cnJlbnRseSBydW5uaW5nIGZhZGVzLlxuICAgICAgICAgIHNlbGYuX3N0b3BGYWRlKGlkc1tpXSk7XG5cbiAgICAgICAgICBpZiAoc291bmQuX25vZGUpIHtcbiAgICAgICAgICAgIGlmIChzZWxmLl93ZWJBdWRpbykge1xuICAgICAgICAgICAgICAvLyBNYWtlIHN1cmUgdGhlIHNvdW5kJ3MgQXVkaW9CdWZmZXJTb3VyY2VOb2RlIGhhcyBiZWVuIGNyZWF0ZWQuXG4gICAgICAgICAgICAgIGlmIChzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2UpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZS5zdG9wID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgc291bmQuX25vZGUuYnVmZmVyU291cmNlLm5vdGVPZmYoMCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZS5zdG9wKDApO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIENsZWFuIHVwIHRoZSBidWZmZXIgc291cmNlLlxuICAgICAgICAgICAgICAgIHNlbGYuX2NsZWFuQnVmZmVyKHNvdW5kLl9ub2RlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmICghaXNOYU4oc291bmQuX25vZGUuZHVyYXRpb24pIHx8IHNvdW5kLl9ub2RlLmR1cmF0aW9uID09PSBJbmZpbml0eSkge1xuICAgICAgICAgICAgICBzb3VuZC5fbm9kZS5jdXJyZW50VGltZSA9IHNvdW5kLl9zdGFydCB8fCAwO1xuICAgICAgICAgICAgICBzb3VuZC5fbm9kZS5wYXVzZSgpO1xuXG4gICAgICAgICAgICAgIC8vIElmIHRoaXMgaXMgYSBsaXZlIHN0cmVhbSwgc3RvcCBkb3dubG9hZCBvbmNlIHRoZSBhdWRpbyBpcyBzdG9wcGVkLlxuICAgICAgICAgICAgICBpZiAoc291bmQuX25vZGUuZHVyYXRpb24gPT09IEluZmluaXR5KSB7XG4gICAgICAgICAgICAgICAgc2VsZi5fY2xlYXJTb3VuZChzb3VuZC5fbm9kZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoIWludGVybmFsKSB7XG4gICAgICAgICAgICBzZWxmLl9lbWl0KCdzdG9wJywgc291bmQuX2lkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIE11dGUvdW5tdXRlIGEgc2luZ2xlIHNvdW5kIG9yIGFsbCBzb3VuZHMgaW4gdGhpcyBIb3dsIGdyb3VwLlxuICAgICAqIEBwYXJhbSAge0Jvb2xlYW59IG11dGVkIFNldCB0byB0cnVlIHRvIG11dGUgYW5kIGZhbHNlIHRvIHVubXV0ZS5cbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGlkICAgIFRoZSBzb3VuZCBJRCB0byB1cGRhdGUgKG9taXQgdG8gbXV0ZS91bm11dGUgYWxsKS5cbiAgICAgKiBAcmV0dXJuIHtIb3dsfVxuICAgICAqL1xuICAgIG11dGU6IGZ1bmN0aW9uKG11dGVkLCBpZCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAvLyBJZiB0aGUgc291bmQgaGFzbid0IGxvYWRlZCwgYWRkIGl0IHRvIHRoZSBsb2FkIHF1ZXVlIHRvIG11dGUgd2hlbiBjYXBhYmxlLlxuICAgICAgaWYgKHNlbGYuX3N0YXRlICE9PSAnbG9hZGVkJ3x8IHNlbGYuX3BsYXlMb2NrKSB7XG4gICAgICAgIHNlbGYuX3F1ZXVlLnB1c2goe1xuICAgICAgICAgIGV2ZW50OiAnbXV0ZScsXG4gICAgICAgICAgYWN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNlbGYubXV0ZShtdXRlZCwgaWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgICB9XG5cbiAgICAgIC8vIElmIGFwcGx5aW5nIG11dGUvdW5tdXRlIHRvIGFsbCBzb3VuZHMsIHVwZGF0ZSB0aGUgZ3JvdXAncyB2YWx1ZS5cbiAgICAgIGlmICh0eXBlb2YgaWQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGlmICh0eXBlb2YgbXV0ZWQgPT09ICdib29sZWFuJykge1xuICAgICAgICAgIHNlbGYuX211dGVkID0gbXV0ZWQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHNlbGYuX211dGVkO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIElmIG5vIGlkIGlzIHBhc3NlZCwgZ2V0IGFsbCBJRCdzIHRvIGJlIG11dGVkLlxuICAgICAgdmFyIGlkcyA9IHNlbGYuX2dldFNvdW5kSWRzKGlkKTtcblxuICAgICAgZm9yICh2YXIgaT0wOyBpPGlkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAvLyBHZXQgdGhlIHNvdW5kLlxuICAgICAgICB2YXIgc291bmQgPSBzZWxmLl9zb3VuZEJ5SWQoaWRzW2ldKTtcblxuICAgICAgICBpZiAoc291bmQpIHtcbiAgICAgICAgICBzb3VuZC5fbXV0ZWQgPSBtdXRlZDtcblxuICAgICAgICAgIC8vIENhbmNlbCBhY3RpdmUgZmFkZSBhbmQgc2V0IHRoZSB2b2x1bWUgdG8gdGhlIGVuZCB2YWx1ZS5cbiAgICAgICAgICBpZiAoc291bmQuX2ludGVydmFsKSB7XG4gICAgICAgICAgICBzZWxmLl9zdG9wRmFkZShzb3VuZC5faWQpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChzZWxmLl93ZWJBdWRpbyAmJiBzb3VuZC5fbm9kZSkge1xuICAgICAgICAgICAgc291bmQuX25vZGUuZ2Fpbi5zZXRWYWx1ZUF0VGltZShtdXRlZCA/IDAgOiBzb3VuZC5fdm9sdW1lLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHNvdW5kLl9ub2RlKSB7XG4gICAgICAgICAgICBzb3VuZC5fbm9kZS5tdXRlZCA9IEhvd2xlci5fbXV0ZWQgPyB0cnVlIDogbXV0ZWQ7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgc2VsZi5fZW1pdCgnbXV0ZScsIHNvdW5kLl9pZCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEdldC9zZXQgdGhlIHZvbHVtZSBvZiB0aGlzIHNvdW5kIG9yIG9mIHRoZSBIb3dsIGdyb3VwLiBUaGlzIG1ldGhvZCBjYW4gb3B0aW9uYWxseSB0YWtlIDAsIDEgb3IgMiBhcmd1bWVudHMuXG4gICAgICogICB2b2x1bWUoKSAtPiBSZXR1cm5zIHRoZSBncm91cCdzIHZvbHVtZSB2YWx1ZS5cbiAgICAgKiAgIHZvbHVtZShpZCkgLT4gUmV0dXJucyB0aGUgc291bmQgaWQncyBjdXJyZW50IHZvbHVtZS5cbiAgICAgKiAgIHZvbHVtZSh2b2wpIC0+IFNldHMgdGhlIHZvbHVtZSBvZiBhbGwgc291bmRzIGluIHRoaXMgSG93bCBncm91cC5cbiAgICAgKiAgIHZvbHVtZSh2b2wsIGlkKSAtPiBTZXRzIHRoZSB2b2x1bWUgb2YgcGFzc2VkIHNvdW5kIGlkLlxuICAgICAqIEByZXR1cm4ge0hvd2wvTnVtYmVyfSBSZXR1cm5zIHNlbGYgb3IgY3VycmVudCB2b2x1bWUuXG4gICAgICovXG4gICAgdm9sdW1lOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICAgICAgdmFyIHZvbCwgaWQ7XG5cbiAgICAgIC8vIERldGVybWluZSB0aGUgdmFsdWVzIGJhc2VkIG9uIGFyZ3VtZW50cy5cbiAgICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAvLyBSZXR1cm4gdGhlIHZhbHVlIG9mIHRoZSBncm91cHMnIHZvbHVtZS5cbiAgICAgICAgcmV0dXJuIHNlbGYuX3ZvbHVtZTtcbiAgICAgIH0gZWxzZSBpZiAoYXJncy5sZW5ndGggPT09IDEgfHwgYXJncy5sZW5ndGggPT09IDIgJiYgdHlwZW9mIGFyZ3NbMV0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIC8vIEZpcnN0IGNoZWNrIGlmIHRoaXMgaXMgYW4gSUQsIGFuZCBpZiBub3QsIGFzc3VtZSBpdCBpcyBhIG5ldyB2b2x1bWUuXG4gICAgICAgIHZhciBpZHMgPSBzZWxmLl9nZXRTb3VuZElkcygpO1xuICAgICAgICB2YXIgaW5kZXggPSBpZHMuaW5kZXhPZihhcmdzWzBdKTtcbiAgICAgICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgICBpZCA9IHBhcnNlSW50KGFyZ3NbMF0sIDEwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2b2wgPSBwYXJzZUZsb2F0KGFyZ3NbMF0pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGFyZ3MubGVuZ3RoID49IDIpIHtcbiAgICAgICAgdm9sID0gcGFyc2VGbG9hdChhcmdzWzBdKTtcbiAgICAgICAgaWQgPSBwYXJzZUludChhcmdzWzFdLCAxMCk7XG4gICAgICB9XG5cbiAgICAgIC8vIFVwZGF0ZSB0aGUgdm9sdW1lIG9yIHJldHVybiB0aGUgY3VycmVudCB2b2x1bWUuXG4gICAgICB2YXIgc291bmQ7XG4gICAgICBpZiAodHlwZW9mIHZvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgdm9sID49IDAgJiYgdm9sIDw9IDEpIHtcbiAgICAgICAgLy8gSWYgdGhlIHNvdW5kIGhhc24ndCBsb2FkZWQsIGFkZCBpdCB0byB0aGUgbG9hZCBxdWV1ZSB0byBjaGFuZ2Ugdm9sdW1lIHdoZW4gY2FwYWJsZS5cbiAgICAgICAgaWYgKHNlbGYuX3N0YXRlICE9PSAnbG9hZGVkJ3x8IHNlbGYuX3BsYXlMb2NrKSB7XG4gICAgICAgICAgc2VsZi5fcXVldWUucHVzaCh7XG4gICAgICAgICAgICBldmVudDogJ3ZvbHVtZScsXG4gICAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBzZWxmLnZvbHVtZS5hcHBseShzZWxmLCBhcmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHJldHVybiBzZWxmO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2V0IHRoZSBncm91cCB2b2x1bWUuXG4gICAgICAgIGlmICh0eXBlb2YgaWQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgc2VsZi5fdm9sdW1lID0gdm9sO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVXBkYXRlIG9uZSBvciBhbGwgdm9sdW1lcy5cbiAgICAgICAgaWQgPSBzZWxmLl9nZXRTb3VuZElkcyhpZCk7XG4gICAgICAgIGZvciAodmFyIGk9MDsgaTxpZC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIC8vIEdldCB0aGUgc291bmQuXG4gICAgICAgICAgc291bmQgPSBzZWxmLl9zb3VuZEJ5SWQoaWRbaV0pO1xuXG4gICAgICAgICAgaWYgKHNvdW5kKSB7XG4gICAgICAgICAgICBzb3VuZC5fdm9sdW1lID0gdm9sO1xuXG4gICAgICAgICAgICAvLyBTdG9wIGN1cnJlbnRseSBydW5uaW5nIGZhZGVzLlxuICAgICAgICAgICAgaWYgKCFhcmdzWzJdKSB7XG4gICAgICAgICAgICAgIHNlbGYuX3N0b3BGYWRlKGlkW2ldKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHNlbGYuX3dlYkF1ZGlvICYmIHNvdW5kLl9ub2RlICYmICFzb3VuZC5fbXV0ZWQpIHtcbiAgICAgICAgICAgICAgc291bmQuX25vZGUuZ2Fpbi5zZXRWYWx1ZUF0VGltZSh2b2wsIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChzb3VuZC5fbm9kZSAmJiAhc291bmQuX211dGVkKSB7XG4gICAgICAgICAgICAgIHNvdW5kLl9ub2RlLnZvbHVtZSA9IHZvbCAqIEhvd2xlci52b2x1bWUoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc2VsZi5fZW1pdCgndm9sdW1lJywgc291bmQuX2lkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNvdW5kID0gaWQgPyBzZWxmLl9zb3VuZEJ5SWQoaWQpIDogc2VsZi5fc291bmRzWzBdO1xuICAgICAgICByZXR1cm4gc291bmQgPyBzb3VuZC5fdm9sdW1lIDogMDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEZhZGUgYSBjdXJyZW50bHkgcGxheWluZyBzb3VuZCBiZXR3ZWVuIHR3byB2b2x1bWVzIChpZiBubyBpZCBpcyBwYXNzc2VkLCBhbGwgc291bmRzIHdpbGwgZmFkZSkuXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSBmcm9tIFRoZSB2YWx1ZSB0byBmYWRlIGZyb20gKDAuMCB0byAxLjApLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gdG8gICBUaGUgdm9sdW1lIHRvIGZhZGUgdG8gKDAuMCB0byAxLjApLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gbGVuICBUaW1lIGluIG1pbGxpc2Vjb25kcyB0byBmYWRlLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gaWQgICBUaGUgc291bmQgaWQgKG9taXQgdG8gZmFkZSBhbGwgc291bmRzKS5cbiAgICAgKiBAcmV0dXJuIHtIb3dsfVxuICAgICAqL1xuICAgIGZhZGU6IGZ1bmN0aW9uKGZyb20sIHRvLCBsZW4sIGlkKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgIC8vIElmIHRoZSBzb3VuZCBoYXNuJ3QgbG9hZGVkLCBhZGQgaXQgdG8gdGhlIGxvYWQgcXVldWUgdG8gZmFkZSB3aGVuIGNhcGFibGUuXG4gICAgICBpZiAoc2VsZi5fc3RhdGUgIT09ICdsb2FkZWQnIHx8IHNlbGYuX3BsYXlMb2NrKSB7XG4gICAgICAgIHNlbGYuX3F1ZXVlLnB1c2goe1xuICAgICAgICAgIGV2ZW50OiAnZmFkZScsXG4gICAgICAgICAgYWN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNlbGYuZmFkZShmcm9tLCB0bywgbGVuLCBpZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gc2VsZjtcbiAgICAgIH1cblxuICAgICAgLy8gTWFrZSBzdXJlIHRoZSB0by9mcm9tL2xlbiB2YWx1ZXMgYXJlIG51bWJlcnMuXG4gICAgICBmcm9tID0gcGFyc2VGbG9hdChmcm9tKTtcbiAgICAgIHRvID0gcGFyc2VGbG9hdCh0byk7XG4gICAgICBsZW4gPSBwYXJzZUZsb2F0KGxlbik7XG5cbiAgICAgIC8vIFNldCB0aGUgdm9sdW1lIHRvIHRoZSBzdGFydCBwb3NpdGlvbi5cbiAgICAgIHNlbGYudm9sdW1lKGZyb20sIGlkKTtcblxuICAgICAgLy8gRmFkZSB0aGUgdm9sdW1lIG9mIG9uZSBvciBhbGwgc291bmRzLlxuICAgICAgdmFyIGlkcyA9IHNlbGYuX2dldFNvdW5kSWRzKGlkKTtcbiAgICAgIGZvciAodmFyIGk9MDsgaTxpZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgLy8gR2V0IHRoZSBzb3VuZC5cbiAgICAgICAgdmFyIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKGlkc1tpXSk7XG5cbiAgICAgICAgLy8gQ3JlYXRlIGEgbGluZWFyIGZhZGUgb3IgZmFsbCBiYWNrIHRvIHRpbWVvdXRzIHdpdGggSFRNTDUgQXVkaW8uXG4gICAgICAgIGlmIChzb3VuZCkge1xuICAgICAgICAgIC8vIFN0b3AgdGhlIHByZXZpb3VzIGZhZGUgaWYgbm8gc3ByaXRlIGlzIGJlaW5nIHVzZWQgKG90aGVyd2lzZSwgdm9sdW1lIGhhbmRsZXMgdGhpcykuXG4gICAgICAgICAgaWYgKCFpZCkge1xuICAgICAgICAgICAgc2VsZi5fc3RvcEZhZGUoaWRzW2ldKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBJZiB3ZSBhcmUgdXNpbmcgV2ViIEF1ZGlvLCBsZXQgdGhlIG5hdGl2ZSBtZXRob2RzIGRvIHRoZSBhY3R1YWwgZmFkZS5cbiAgICAgICAgICBpZiAoc2VsZi5fd2ViQXVkaW8gJiYgIXNvdW5kLl9tdXRlZCkge1xuICAgICAgICAgICAgdmFyIGN1cnJlbnRUaW1lID0gSG93bGVyLmN0eC5jdXJyZW50VGltZTtcbiAgICAgICAgICAgIHZhciBlbmQgPSBjdXJyZW50VGltZSArIChsZW4gLyAxMDAwKTtcbiAgICAgICAgICAgIHNvdW5kLl92b2x1bWUgPSBmcm9tO1xuICAgICAgICAgICAgc291bmQuX25vZGUuZ2Fpbi5zZXRWYWx1ZUF0VGltZShmcm9tLCBjdXJyZW50VGltZSk7XG4gICAgICAgICAgICBzb3VuZC5fbm9kZS5nYWluLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKHRvLCBlbmQpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHNlbGYuX3N0YXJ0RmFkZUludGVydmFsKHNvdW5kLCBmcm9tLCB0bywgbGVuLCBpZHNbaV0sIHR5cGVvZiBpZCA9PT0gJ3VuZGVmaW5lZCcpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTdGFydHMgdGhlIGludGVybmFsIGludGVydmFsIHRvIGZhZGUgYSBzb3VuZC5cbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9IHNvdW5kIFJlZmVyZW5jZSB0byBzb3VuZCB0byBmYWRlLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gZnJvbSBUaGUgdmFsdWUgdG8gZmFkZSBmcm9tICgwLjAgdG8gMS4wKS5cbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHRvICAgVGhlIHZvbHVtZSB0byBmYWRlIHRvICgwLjAgdG8gMS4wKS5cbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGxlbiAgVGltZSBpbiBtaWxsaXNlY29uZHMgdG8gZmFkZS5cbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGlkICAgVGhlIHNvdW5kIGlkIHRvIGZhZGUuXG4gICAgICogQHBhcmFtICB7Qm9vbGVhbn0gaXNHcm91cCAgIElmIHRydWUsIHNldCB0aGUgdm9sdW1lIG9uIHRoZSBncm91cC5cbiAgICAgKi9cbiAgICBfc3RhcnRGYWRlSW50ZXJ2YWw6IGZ1bmN0aW9uKHNvdW5kLCBmcm9tLCB0bywgbGVuLCBpZCwgaXNHcm91cCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIHZvbCA9IGZyb207XG4gICAgICB2YXIgZGlmZiA9IHRvIC0gZnJvbTtcbiAgICAgIHZhciBzdGVwcyA9IE1hdGguYWJzKGRpZmYgLyAwLjAxKTtcbiAgICAgIHZhciBzdGVwTGVuID0gTWF0aC5tYXgoNCwgKHN0ZXBzID4gMCkgPyBsZW4gLyBzdGVwcyA6IGxlbik7XG4gICAgICB2YXIgbGFzdFRpY2sgPSBEYXRlLm5vdygpO1xuXG4gICAgICAvLyBTdG9yZSB0aGUgdmFsdWUgYmVpbmcgZmFkZWQgdG8uXG4gICAgICBzb3VuZC5fZmFkZVRvID0gdG87XG5cbiAgICAgIC8vIFVwZGF0ZSB0aGUgdm9sdW1lIHZhbHVlIG9uIGVhY2ggaW50ZXJ2YWwgdGljay5cbiAgICAgIHNvdW5kLl9pbnRlcnZhbCA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyBVcGRhdGUgdGhlIHZvbHVtZSBiYXNlZCBvbiB0aGUgdGltZSBzaW5jZSB0aGUgbGFzdCB0aWNrLlxuICAgICAgICB2YXIgdGljayA9IChEYXRlLm5vdygpIC0gbGFzdFRpY2spIC8gbGVuO1xuICAgICAgICBsYXN0VGljayA9IERhdGUubm93KCk7XG4gICAgICAgIHZvbCArPSBkaWZmICogdGljaztcblxuICAgICAgICAvLyBNYWtlIHN1cmUgdGhlIHZvbHVtZSBpcyBpbiB0aGUgcmlnaHQgYm91bmRzLlxuICAgICAgICB2b2wgPSBNYXRoLm1heCgwLCB2b2wpO1xuICAgICAgICB2b2wgPSBNYXRoLm1pbigxLCB2b2wpO1xuXG4gICAgICAgIC8vIFJvdW5kIHRvIHdpdGhpbiAyIGRlY2ltYWwgcG9pbnRzLlxuICAgICAgICB2b2wgPSBNYXRoLnJvdW5kKHZvbCAqIDEwMCkgLyAxMDA7XG5cbiAgICAgICAgLy8gQ2hhbmdlIHRoZSB2b2x1bWUuXG4gICAgICAgIGlmIChzZWxmLl93ZWJBdWRpbykge1xuICAgICAgICAgIHNvdW5kLl92b2x1bWUgPSB2b2w7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2VsZi52b2x1bWUodm9sLCBzb3VuZC5faWQsIHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2V0IHRoZSBncm91cCdzIHZvbHVtZS5cbiAgICAgICAgaWYgKGlzR3JvdXApIHtcbiAgICAgICAgICBzZWxmLl92b2x1bWUgPSB2b2w7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBXaGVuIHRoZSBmYWRlIGlzIGNvbXBsZXRlLCBzdG9wIGl0IGFuZCBmaXJlIGV2ZW50LlxuICAgICAgICBpZiAoKHRvIDwgZnJvbSAmJiB2b2wgPD0gdG8pIHx8ICh0byA+IGZyb20gJiYgdm9sID49IHRvKSkge1xuICAgICAgICAgIGNsZWFySW50ZXJ2YWwoc291bmQuX2ludGVydmFsKTtcbiAgICAgICAgICBzb3VuZC5faW50ZXJ2YWwgPSBudWxsO1xuICAgICAgICAgIHNvdW5kLl9mYWRlVG8gPSBudWxsO1xuICAgICAgICAgIHNlbGYudm9sdW1lKHRvLCBzb3VuZC5faWQpO1xuICAgICAgICAgIHNlbGYuX2VtaXQoJ2ZhZGUnLCBzb3VuZC5faWQpO1xuICAgICAgICB9XG4gICAgICB9LCBzdGVwTGVuKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogSW50ZXJuYWwgbWV0aG9kIHRoYXQgc3RvcHMgdGhlIGN1cnJlbnRseSBwbGF5aW5nIGZhZGUgd2hlblxuICAgICAqIGEgbmV3IGZhZGUgc3RhcnRzLCB2b2x1bWUgaXMgY2hhbmdlZCBvciB0aGUgc291bmQgaXMgc3RvcHBlZC5cbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGlkIFRoZSBzb3VuZCBpZC5cbiAgICAgKiBAcmV0dXJuIHtIb3dsfVxuICAgICAqL1xuICAgIF9zdG9wRmFkZTogZnVuY3Rpb24oaWQpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIHZhciBzb3VuZCA9IHNlbGYuX3NvdW5kQnlJZChpZCk7XG5cbiAgICAgIGlmIChzb3VuZCAmJiBzb3VuZC5faW50ZXJ2YWwpIHtcbiAgICAgICAgaWYgKHNlbGYuX3dlYkF1ZGlvKSB7XG4gICAgICAgICAgc291bmQuX25vZGUuZ2Fpbi5jYW5jZWxTY2hlZHVsZWRWYWx1ZXMoSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XG4gICAgICAgIH1cblxuICAgICAgICBjbGVhckludGVydmFsKHNvdW5kLl9pbnRlcnZhbCk7XG4gICAgICAgIHNvdW5kLl9pbnRlcnZhbCA9IG51bGw7XG4gICAgICAgIHNlbGYudm9sdW1lKHNvdW5kLl9mYWRlVG8sIGlkKTtcbiAgICAgICAgc291bmQuX2ZhZGVUbyA9IG51bGw7XG4gICAgICAgIHNlbGYuX2VtaXQoJ2ZhZGUnLCBpZCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHZXQvc2V0IHRoZSBsb29wIHBhcmFtZXRlciBvbiBhIHNvdW5kLiBUaGlzIG1ldGhvZCBjYW4gb3B0aW9uYWxseSB0YWtlIDAsIDEgb3IgMiBhcmd1bWVudHMuXG4gICAgICogICBsb29wKCkgLT4gUmV0dXJucyB0aGUgZ3JvdXAncyBsb29wIHZhbHVlLlxuICAgICAqICAgbG9vcChpZCkgLT4gUmV0dXJucyB0aGUgc291bmQgaWQncyBsb29wIHZhbHVlLlxuICAgICAqICAgbG9vcChsb29wKSAtPiBTZXRzIHRoZSBsb29wIHZhbHVlIGZvciBhbGwgc291bmRzIGluIHRoaXMgSG93bCBncm91cC5cbiAgICAgKiAgIGxvb3AobG9vcCwgaWQpIC0+IFNldHMgdGhlIGxvb3AgdmFsdWUgb2YgcGFzc2VkIHNvdW5kIGlkLlxuICAgICAqIEByZXR1cm4ge0hvd2wvQm9vbGVhbn0gUmV0dXJucyBzZWxmIG9yIGN1cnJlbnQgbG9vcCB2YWx1ZS5cbiAgICAgKi9cbiAgICBsb29wOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICAgICAgdmFyIGxvb3AsIGlkLCBzb3VuZDtcblxuICAgICAgLy8gRGV0ZXJtaW5lIHRoZSB2YWx1ZXMgZm9yIGxvb3AgYW5kIGlkLlxuICAgICAgaWYgKGFyZ3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIC8vIFJldHVybiB0aGUgZ3JvdSdzIGxvb3AgdmFsdWUuXG4gICAgICAgIHJldHVybiBzZWxmLl9sb29wO1xuICAgICAgfSBlbHNlIGlmIChhcmdzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICBpZiAodHlwZW9mIGFyZ3NbMF0gPT09ICdib29sZWFuJykge1xuICAgICAgICAgIGxvb3AgPSBhcmdzWzBdO1xuICAgICAgICAgIHNlbGYuX2xvb3AgPSBsb29wO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIFJldHVybiB0aGlzIHNvdW5kJ3MgbG9vcCB2YWx1ZS5cbiAgICAgICAgICBzb3VuZCA9IHNlbGYuX3NvdW5kQnlJZChwYXJzZUludChhcmdzWzBdLCAxMCkpO1xuICAgICAgICAgIHJldHVybiBzb3VuZCA/IHNvdW5kLl9sb29wIDogZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoYXJncy5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgbG9vcCA9IGFyZ3NbMF07XG4gICAgICAgIGlkID0gcGFyc2VJbnQoYXJnc1sxXSwgMTApO1xuICAgICAgfVxuXG4gICAgICAvLyBJZiBubyBpZCBpcyBwYXNzZWQsIGdldCBhbGwgSUQncyB0byBiZSBsb29wZWQuXG4gICAgICB2YXIgaWRzID0gc2VsZi5fZ2V0U291bmRJZHMoaWQpO1xuICAgICAgZm9yICh2YXIgaT0wOyBpPGlkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBzb3VuZCA9IHNlbGYuX3NvdW5kQnlJZChpZHNbaV0pO1xuXG4gICAgICAgIGlmIChzb3VuZCkge1xuICAgICAgICAgIHNvdW5kLl9sb29wID0gbG9vcDtcbiAgICAgICAgICBpZiAoc2VsZi5fd2ViQXVkaW8gJiYgc291bmQuX25vZGUgJiYgc291bmQuX25vZGUuYnVmZmVyU291cmNlKSB7XG4gICAgICAgICAgICBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2UubG9vcCA9IGxvb3A7XG4gICAgICAgICAgICBpZiAobG9vcCkge1xuICAgICAgICAgICAgICBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2UubG9vcFN0YXJ0ID0gc291bmQuX3N0YXJ0IHx8IDA7XG4gICAgICAgICAgICAgIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZS5sb29wRW5kID0gc291bmQuX3N0b3A7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHZXQvc2V0IHRoZSBwbGF5YmFjayByYXRlIG9mIGEgc291bmQuIFRoaXMgbWV0aG9kIGNhbiBvcHRpb25hbGx5IHRha2UgMCwgMSBvciAyIGFyZ3VtZW50cy5cbiAgICAgKiAgIHJhdGUoKSAtPiBSZXR1cm5zIHRoZSBmaXJzdCBzb3VuZCBub2RlJ3MgY3VycmVudCBwbGF5YmFjayByYXRlLlxuICAgICAqICAgcmF0ZShpZCkgLT4gUmV0dXJucyB0aGUgc291bmQgaWQncyBjdXJyZW50IHBsYXliYWNrIHJhdGUuXG4gICAgICogICByYXRlKHJhdGUpIC0+IFNldHMgdGhlIHBsYXliYWNrIHJhdGUgb2YgYWxsIHNvdW5kcyBpbiB0aGlzIEhvd2wgZ3JvdXAuXG4gICAgICogICByYXRlKHJhdGUsIGlkKSAtPiBTZXRzIHRoZSBwbGF5YmFjayByYXRlIG9mIHBhc3NlZCBzb3VuZCBpZC5cbiAgICAgKiBAcmV0dXJuIHtIb3dsL051bWJlcn0gUmV0dXJucyBzZWxmIG9yIHRoZSBjdXJyZW50IHBsYXliYWNrIHJhdGUuXG4gICAgICovXG4gICAgcmF0ZTogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgIHZhciByYXRlLCBpZDtcblxuICAgICAgLy8gRGV0ZXJtaW5lIHRoZSB2YWx1ZXMgYmFzZWQgb24gYXJndW1lbnRzLlxuICAgICAgaWYgKGFyZ3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIC8vIFdlIHdpbGwgc2ltcGx5IHJldHVybiB0aGUgY3VycmVudCByYXRlIG9mIHRoZSBmaXJzdCBub2RlLlxuICAgICAgICBpZCA9IHNlbGYuX3NvdW5kc1swXS5faWQ7XG4gICAgICB9IGVsc2UgaWYgKGFyZ3MubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIC8vIEZpcnN0IGNoZWNrIGlmIHRoaXMgaXMgYW4gSUQsIGFuZCBpZiBub3QsIGFzc3VtZSBpdCBpcyBhIG5ldyByYXRlIHZhbHVlLlxuICAgICAgICB2YXIgaWRzID0gc2VsZi5fZ2V0U291bmRJZHMoKTtcbiAgICAgICAgdmFyIGluZGV4ID0gaWRzLmluZGV4T2YoYXJnc1swXSk7XG4gICAgICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICAgICAgaWQgPSBwYXJzZUludChhcmdzWzBdLCAxMCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmF0ZSA9IHBhcnNlRmxvYXQoYXJnc1swXSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoYXJncy5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgcmF0ZSA9IHBhcnNlRmxvYXQoYXJnc1swXSk7XG4gICAgICAgIGlkID0gcGFyc2VJbnQoYXJnc1sxXSwgMTApO1xuICAgICAgfVxuXG4gICAgICAvLyBVcGRhdGUgdGhlIHBsYXliYWNrIHJhdGUgb3IgcmV0dXJuIHRoZSBjdXJyZW50IHZhbHVlLlxuICAgICAgdmFyIHNvdW5kO1xuICAgICAgaWYgKHR5cGVvZiByYXRlID09PSAnbnVtYmVyJykge1xuICAgICAgICAvLyBJZiB0aGUgc291bmQgaGFzbid0IGxvYWRlZCwgYWRkIGl0IHRvIHRoZSBsb2FkIHF1ZXVlIHRvIGNoYW5nZSBwbGF5YmFjayByYXRlIHdoZW4gY2FwYWJsZS5cbiAgICAgICAgaWYgKHNlbGYuX3N0YXRlICE9PSAnbG9hZGVkJyB8fCBzZWxmLl9wbGF5TG9jaykge1xuICAgICAgICAgIHNlbGYuX3F1ZXVlLnB1c2goe1xuICAgICAgICAgICAgZXZlbnQ6ICdyYXRlJyxcbiAgICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIHNlbGYucmF0ZS5hcHBseShzZWxmLCBhcmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHJldHVybiBzZWxmO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2V0IHRoZSBncm91cCByYXRlLlxuICAgICAgICBpZiAodHlwZW9mIGlkID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIHNlbGYuX3JhdGUgPSByYXRlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVXBkYXRlIG9uZSBvciBhbGwgdm9sdW1lcy5cbiAgICAgICAgaWQgPSBzZWxmLl9nZXRTb3VuZElkcyhpZCk7XG4gICAgICAgIGZvciAodmFyIGk9MDsgaTxpZC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIC8vIEdldCB0aGUgc291bmQuXG4gICAgICAgICAgc291bmQgPSBzZWxmLl9zb3VuZEJ5SWQoaWRbaV0pO1xuXG4gICAgICAgICAgaWYgKHNvdW5kKSB7XG4gICAgICAgICAgICAvLyBLZWVwIHRyYWNrIG9mIG91ciBwb3NpdGlvbiB3aGVuIHRoZSByYXRlIGNoYW5nZWQgYW5kIHVwZGF0ZSB0aGUgcGxheWJhY2tcbiAgICAgICAgICAgIC8vIHN0YXJ0IHBvc2l0aW9uIHNvIHdlIGNhbiBwcm9wZXJseSBhZGp1c3QgdGhlIHNlZWsgcG9zaXRpb24gZm9yIHRpbWUgZWxhcHNlZC5cbiAgICAgICAgICAgIGlmIChzZWxmLnBsYXlpbmcoaWRbaV0pKSB7XG4gICAgICAgICAgICAgIHNvdW5kLl9yYXRlU2VlayA9IHNlbGYuc2VlayhpZFtpXSk7XG4gICAgICAgICAgICAgIHNvdW5kLl9wbGF5U3RhcnQgPSBzZWxmLl93ZWJBdWRpbyA/IEhvd2xlci5jdHguY3VycmVudFRpbWUgOiBzb3VuZC5fcGxheVN0YXJ0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc291bmQuX3JhdGUgPSByYXRlO1xuXG4gICAgICAgICAgICAvLyBDaGFuZ2UgdGhlIHBsYXliYWNrIHJhdGUuXG4gICAgICAgICAgICBpZiAoc2VsZi5fd2ViQXVkaW8gJiYgc291bmQuX25vZGUgJiYgc291bmQuX25vZGUuYnVmZmVyU291cmNlKSB7XG4gICAgICAgICAgICAgIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZS5wbGF5YmFja1JhdGUuc2V0VmFsdWVBdFRpbWUocmF0ZSwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHNvdW5kLl9ub2RlKSB7XG4gICAgICAgICAgICAgIHNvdW5kLl9ub2RlLnBsYXliYWNrUmF0ZSA9IHJhdGU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFJlc2V0IHRoZSB0aW1lcnMuXG4gICAgICAgICAgICB2YXIgc2VlayA9IHNlbGYuc2VlayhpZFtpXSk7XG4gICAgICAgICAgICB2YXIgZHVyYXRpb24gPSAoKHNlbGYuX3Nwcml0ZVtzb3VuZC5fc3ByaXRlXVswXSArIHNlbGYuX3Nwcml0ZVtzb3VuZC5fc3ByaXRlXVsxXSkgLyAxMDAwKSAtIHNlZWs7XG4gICAgICAgICAgICB2YXIgdGltZW91dCA9IChkdXJhdGlvbiAqIDEwMDApIC8gTWF0aC5hYnMoc291bmQuX3JhdGUpO1xuXG4gICAgICAgICAgICAvLyBTdGFydCBhIG5ldyBlbmQgdGltZXIgaWYgc291bmQgaXMgYWxyZWFkeSBwbGF5aW5nLlxuICAgICAgICAgICAgaWYgKHNlbGYuX2VuZFRpbWVyc1tpZFtpXV0gfHwgIXNvdW5kLl9wYXVzZWQpIHtcbiAgICAgICAgICAgICAgc2VsZi5fY2xlYXJUaW1lcihpZFtpXSk7XG4gICAgICAgICAgICAgIHNlbGYuX2VuZFRpbWVyc1tpZFtpXV0gPSBzZXRUaW1lb3V0KHNlbGYuX2VuZGVkLmJpbmQoc2VsZiwgc291bmQpLCB0aW1lb3V0KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc2VsZi5fZW1pdCgncmF0ZScsIHNvdW5kLl9pZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzb3VuZCA9IHNlbGYuX3NvdW5kQnlJZChpZCk7XG4gICAgICAgIHJldHVybiBzb3VuZCA/IHNvdW5kLl9yYXRlIDogc2VsZi5fcmF0ZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEdldC9zZXQgdGhlIHNlZWsgcG9zaXRpb24gb2YgYSBzb3VuZC4gVGhpcyBtZXRob2QgY2FuIG9wdGlvbmFsbHkgdGFrZSAwLCAxIG9yIDIgYXJndW1lbnRzLlxuICAgICAqICAgc2VlaygpIC0+IFJldHVybnMgdGhlIGZpcnN0IHNvdW5kIG5vZGUncyBjdXJyZW50IHNlZWsgcG9zaXRpb24uXG4gICAgICogICBzZWVrKGlkKSAtPiBSZXR1cm5zIHRoZSBzb3VuZCBpZCdzIGN1cnJlbnQgc2VlayBwb3NpdGlvbi5cbiAgICAgKiAgIHNlZWsoc2VlaykgLT4gU2V0cyB0aGUgc2VlayBwb3NpdGlvbiBvZiB0aGUgZmlyc3Qgc291bmQgbm9kZS5cbiAgICAgKiAgIHNlZWsoc2VlaywgaWQpIC0+IFNldHMgdGhlIHNlZWsgcG9zaXRpb24gb2YgcGFzc2VkIHNvdW5kIGlkLlxuICAgICAqIEByZXR1cm4ge0hvd2wvTnVtYmVyfSBSZXR1cm5zIHNlbGYgb3IgdGhlIGN1cnJlbnQgc2VlayBwb3NpdGlvbi5cbiAgICAgKi9cbiAgICBzZWVrOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICAgICAgdmFyIHNlZWssIGlkO1xuXG4gICAgICAvLyBEZXRlcm1pbmUgdGhlIHZhbHVlcyBiYXNlZCBvbiBhcmd1bWVudHMuXG4gICAgICBpZiAoYXJncy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgLy8gV2Ugd2lsbCBzaW1wbHkgcmV0dXJuIHRoZSBjdXJyZW50IHBvc2l0aW9uIG9mIHRoZSBmaXJzdCBub2RlLlxuICAgICAgICBpZCA9IHNlbGYuX3NvdW5kc1swXS5faWQ7XG4gICAgICB9IGVsc2UgaWYgKGFyZ3MubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIC8vIEZpcnN0IGNoZWNrIGlmIHRoaXMgaXMgYW4gSUQsIGFuZCBpZiBub3QsIGFzc3VtZSBpdCBpcyBhIG5ldyBzZWVrIHBvc2l0aW9uLlxuICAgICAgICB2YXIgaWRzID0gc2VsZi5fZ2V0U291bmRJZHMoKTtcbiAgICAgICAgdmFyIGluZGV4ID0gaWRzLmluZGV4T2YoYXJnc1swXSk7XG4gICAgICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICAgICAgaWQgPSBwYXJzZUludChhcmdzWzBdLCAxMCk7XG4gICAgICAgIH0gZWxzZSBpZiAoc2VsZi5fc291bmRzLmxlbmd0aCkge1xuICAgICAgICAgIGlkID0gc2VsZi5fc291bmRzWzBdLl9pZDtcbiAgICAgICAgICBzZWVrID0gcGFyc2VGbG9hdChhcmdzWzBdKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChhcmdzLmxlbmd0aCA9PT0gMikge1xuICAgICAgICBzZWVrID0gcGFyc2VGbG9hdChhcmdzWzBdKTtcbiAgICAgICAgaWQgPSBwYXJzZUludChhcmdzWzFdLCAxMCk7XG4gICAgICB9XG5cbiAgICAgIC8vIElmIHRoZXJlIGlzIG5vIElELCBiYWlsIG91dC5cbiAgICAgIGlmICh0eXBlb2YgaWQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgICAgfVxuXG4gICAgICAvLyBJZiB0aGUgc291bmQgaGFzbid0IGxvYWRlZCwgYWRkIGl0IHRvIHRoZSBsb2FkIHF1ZXVlIHRvIHNlZWsgd2hlbiBjYXBhYmxlLlxuICAgICAgaWYgKHNlbGYuX3N0YXRlICE9PSAnbG9hZGVkJyB8fCBzZWxmLl9wbGF5TG9jaykge1xuICAgICAgICBzZWxmLl9xdWV1ZS5wdXNoKHtcbiAgICAgICAgICBldmVudDogJ3NlZWsnLFxuICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzZWxmLnNlZWsuYXBwbHkoc2VsZiwgYXJncyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gc2VsZjtcbiAgICAgIH1cblxuICAgICAgLy8gR2V0IHRoZSBzb3VuZC5cbiAgICAgIHZhciBzb3VuZCA9IHNlbGYuX3NvdW5kQnlJZChpZCk7XG5cbiAgICAgIGlmIChzb3VuZCkge1xuICAgICAgICBpZiAodHlwZW9mIHNlZWsgPT09ICdudW1iZXInICYmIHNlZWsgPj0gMCkge1xuICAgICAgICAgIC8vIFBhdXNlIHRoZSBzb3VuZCBhbmQgdXBkYXRlIHBvc2l0aW9uIGZvciByZXN0YXJ0aW5nIHBsYXliYWNrLlxuICAgICAgICAgIHZhciBwbGF5aW5nID0gc2VsZi5wbGF5aW5nKGlkKTtcbiAgICAgICAgICBpZiAocGxheWluZykge1xuICAgICAgICAgICAgc2VsZi5wYXVzZShpZCwgdHJ1ZSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gTW92ZSB0aGUgcG9zaXRpb24gb2YgdGhlIHRyYWNrIGFuZCBjYW5jZWwgdGltZXIuXG4gICAgICAgICAgc291bmQuX3NlZWsgPSBzZWVrO1xuICAgICAgICAgIHNvdW5kLl9lbmRlZCA9IGZhbHNlO1xuICAgICAgICAgIHNlbGYuX2NsZWFyVGltZXIoaWQpO1xuXG4gICAgICAgICAgLy8gVXBkYXRlIHRoZSBzZWVrIHBvc2l0aW9uIGZvciBIVE1MNSBBdWRpby5cbiAgICAgICAgICBpZiAoIXNlbGYuX3dlYkF1ZGlvICYmIHNvdW5kLl9ub2RlICYmICFpc05hTihzb3VuZC5fbm9kZS5kdXJhdGlvbikpIHtcbiAgICAgICAgICAgIHNvdW5kLl9ub2RlLmN1cnJlbnRUaW1lID0gc2VlaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBTZWVrIGFuZCBlbWl0IHdoZW4gcmVhZHkuXG4gICAgICAgICAgdmFyIHNlZWtBbmRFbWl0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzZWxmLl9lbWl0KCdzZWVrJywgaWQpO1xuXG4gICAgICAgICAgICAvLyBSZXN0YXJ0IHRoZSBwbGF5YmFjayBpZiB0aGUgc291bmQgd2FzIHBsYXlpbmcuXG4gICAgICAgICAgICBpZiAocGxheWluZykge1xuICAgICAgICAgICAgICBzZWxmLnBsYXkoaWQsIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG5cbiAgICAgICAgICAvLyBXYWl0IGZvciB0aGUgcGxheSBsb2NrIHRvIGJlIHVuc2V0IGJlZm9yZSBlbWl0dGluZyAoSFRNTDUgQXVkaW8pLlxuICAgICAgICAgIGlmIChwbGF5aW5nICYmICFzZWxmLl93ZWJBdWRpbykge1xuICAgICAgICAgICAgdmFyIGVtaXRTZWVrID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIGlmICghc2VsZi5fcGxheUxvY2spIHtcbiAgICAgICAgICAgICAgICBzZWVrQW5kRW1pdCgpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZW1pdFNlZWssIDApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgc2V0VGltZW91dChlbWl0U2VlaywgMCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNlZWtBbmRFbWl0KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChzZWxmLl93ZWJBdWRpbykge1xuICAgICAgICAgICAgdmFyIHJlYWxUaW1lID0gc2VsZi5wbGF5aW5nKGlkKSA/IEhvd2xlci5jdHguY3VycmVudFRpbWUgLSBzb3VuZC5fcGxheVN0YXJ0IDogMDtcbiAgICAgICAgICAgIHZhciByYXRlU2VlayA9IHNvdW5kLl9yYXRlU2VlayA/IHNvdW5kLl9yYXRlU2VlayAtIHNvdW5kLl9zZWVrIDogMDtcbiAgICAgICAgICAgIHJldHVybiBzb3VuZC5fc2VlayArIChyYXRlU2VlayArIHJlYWxUaW1lICogTWF0aC5hYnMoc291bmQuX3JhdGUpKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHNvdW5kLl9ub2RlLmN1cnJlbnRUaW1lO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgYSBzcGVjaWZpYyBzb3VuZCBpcyBjdXJyZW50bHkgcGxheWluZyBvciBub3QgKGlmIGlkIGlzIHByb3ZpZGVkKSwgb3IgY2hlY2sgaWYgYXQgbGVhc3Qgb25lIG9mIHRoZSBzb3VuZHMgaW4gdGhlIGdyb3VwIGlzIHBsYXlpbmcgb3Igbm90LlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gIGlkIFRoZSBzb3VuZCBpZCB0byBjaGVjay4gSWYgbm9uZSBpcyBwYXNzZWQsIHRoZSB3aG9sZSBzb3VuZCBncm91cCBpcyBjaGVja2VkLlxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IFRydWUgaWYgcGxheWluZyBhbmQgZmFsc2UgaWYgbm90LlxuICAgICAqL1xuICAgIHBsYXlpbmc6IGZ1bmN0aW9uKGlkKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgIC8vIENoZWNrIHRoZSBwYXNzZWQgc291bmQgSUQgKGlmIGFueSkuXG4gICAgICBpZiAodHlwZW9mIGlkID09PSAnbnVtYmVyJykge1xuICAgICAgICB2YXIgc291bmQgPSBzZWxmLl9zb3VuZEJ5SWQoaWQpO1xuICAgICAgICByZXR1cm4gc291bmQgPyAhc291bmQuX3BhdXNlZCA6IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICAvLyBPdGhlcndpc2UsIGxvb3AgdGhyb3VnaCBhbGwgc291bmRzIGFuZCBjaGVjayBpZiBhbnkgYXJlIHBsYXlpbmcuXG4gICAgICBmb3IgKHZhciBpPTA7IGk8c2VsZi5fc291bmRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmICghc2VsZi5fc291bmRzW2ldLl9wYXVzZWQpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgZHVyYXRpb24gb2YgdGhpcyBzb3VuZC4gUGFzc2luZyBhIHNvdW5kIGlkIHdpbGwgcmV0dXJuIHRoZSBzcHJpdGUgZHVyYXRpb24uXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSBpZCBUaGUgc291bmQgaWQgdG8gY2hlY2suIElmIG5vbmUgaXMgcGFzc2VkLCByZXR1cm4gZnVsbCBzb3VyY2UgZHVyYXRpb24uXG4gICAgICogQHJldHVybiB7TnVtYmVyfSBBdWRpbyBkdXJhdGlvbiBpbiBzZWNvbmRzLlxuICAgICAqL1xuICAgIGR1cmF0aW9uOiBmdW5jdGlvbihpZCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIGR1cmF0aW9uID0gc2VsZi5fZHVyYXRpb247XG5cbiAgICAgIC8vIElmIHdlIHBhc3MgYW4gSUQsIGdldCB0aGUgc291bmQgYW5kIHJldHVybiB0aGUgc3ByaXRlIGxlbmd0aC5cbiAgICAgIHZhciBzb3VuZCA9IHNlbGYuX3NvdW5kQnlJZChpZCk7XG4gICAgICBpZiAoc291bmQpIHtcbiAgICAgICAgZHVyYXRpb24gPSBzZWxmLl9zcHJpdGVbc291bmQuX3Nwcml0ZV1bMV0gLyAxMDAwO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZHVyYXRpb247XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGN1cnJlbnQgbG9hZGVkIHN0YXRlIG9mIHRoaXMgSG93bC5cbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9ICd1bmxvYWRlZCcsICdsb2FkaW5nJywgJ2xvYWRlZCdcbiAgICAgKi9cbiAgICBzdGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5fc3RhdGU7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFVubG9hZCBhbmQgZGVzdHJveSB0aGUgY3VycmVudCBIb3dsIG9iamVjdC5cbiAgICAgKiBUaGlzIHdpbGwgaW1tZWRpYXRlbHkgc3RvcCBhbGwgc291bmQgaW5zdGFuY2VzIGF0dGFjaGVkIHRvIHRoaXMgZ3JvdXAuXG4gICAgICovXG4gICAgdW5sb2FkOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgLy8gU3RvcCBwbGF5aW5nIGFueSBhY3RpdmUgc291bmRzLlxuICAgICAgdmFyIHNvdW5kcyA9IHNlbGYuX3NvdW5kcztcbiAgICAgIGZvciAodmFyIGk9MDsgaTxzb3VuZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgLy8gU3RvcCB0aGUgc291bmQgaWYgaXQgaXMgY3VycmVudGx5IHBsYXlpbmcuXG4gICAgICAgIGlmICghc291bmRzW2ldLl9wYXVzZWQpIHtcbiAgICAgICAgICBzZWxmLnN0b3Aoc291bmRzW2ldLl9pZCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSZW1vdmUgdGhlIHNvdXJjZSBvciBkaXNjb25uZWN0LlxuICAgICAgICBpZiAoIXNlbGYuX3dlYkF1ZGlvKSB7XG4gICAgICAgICAgLy8gU2V0IHRoZSBzb3VyY2UgdG8gMC1zZWNvbmQgc2lsZW5jZSB0byBzdG9wIGFueSBkb3dubG9hZGluZyAoZXhjZXB0IGluIElFKS5cbiAgICAgICAgICBzZWxmLl9jbGVhclNvdW5kKHNvdW5kc1tpXS5fbm9kZSk7XG5cbiAgICAgICAgICAvLyBSZW1vdmUgYW55IGV2ZW50IGxpc3RlbmVycy5cbiAgICAgICAgICBzb3VuZHNbaV0uX25vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcignZXJyb3InLCBzb3VuZHNbaV0uX2Vycm9yRm4sIGZhbHNlKTtcbiAgICAgICAgICBzb3VuZHNbaV0uX25vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihIb3dsZXIuX2NhblBsYXlFdmVudCwgc291bmRzW2ldLl9sb2FkRm4sIGZhbHNlKTtcblxuICAgICAgICAgIC8vIFJlbGVhc2UgdGhlIEF1ZGlvIG9iamVjdCBiYWNrIHRvIHRoZSBwb29sLlxuICAgICAgICAgIEhvd2xlci5fcmVsZWFzZUh0bWw1QXVkaW8oc291bmRzW2ldLl9ub2RlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEVtcHR5IG91dCBhbGwgb2YgdGhlIG5vZGVzLlxuICAgICAgICBkZWxldGUgc291bmRzW2ldLl9ub2RlO1xuXG4gICAgICAgIC8vIE1ha2Ugc3VyZSBhbGwgdGltZXJzIGFyZSBjbGVhcmVkIG91dC5cbiAgICAgICAgc2VsZi5fY2xlYXJUaW1lcihzb3VuZHNbaV0uX2lkKTtcbiAgICAgIH1cblxuICAgICAgLy8gUmVtb3ZlIHRoZSByZWZlcmVuY2VzIGluIHRoZSBnbG9iYWwgSG93bGVyIG9iamVjdC5cbiAgICAgIHZhciBpbmRleCA9IEhvd2xlci5faG93bHMuaW5kZXhPZihzZWxmKTtcbiAgICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICAgIEhvd2xlci5faG93bHMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgIH1cblxuICAgICAgLy8gRGVsZXRlIHRoaXMgc291bmQgZnJvbSB0aGUgY2FjaGUgKGlmIG5vIG90aGVyIEhvd2wgaXMgdXNpbmcgaXQpLlxuICAgICAgdmFyIHJlbUNhY2hlID0gdHJ1ZTtcbiAgICAgIGZvciAoaT0wOyBpPEhvd2xlci5faG93bHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKEhvd2xlci5faG93bHNbaV0uX3NyYyA9PT0gc2VsZi5fc3JjIHx8IHNlbGYuX3NyYy5pbmRleE9mKEhvd2xlci5faG93bHNbaV0uX3NyYykgPj0gMCkge1xuICAgICAgICAgIHJlbUNhY2hlID0gZmFsc2U7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGNhY2hlICYmIHJlbUNhY2hlKSB7XG4gICAgICAgIGRlbGV0ZSBjYWNoZVtzZWxmLl9zcmNdO1xuICAgICAgfVxuXG4gICAgICAvLyBDbGVhciBnbG9iYWwgZXJyb3JzLlxuICAgICAgSG93bGVyLm5vQXVkaW8gPSBmYWxzZTtcblxuICAgICAgLy8gQ2xlYXIgb3V0IGBzZWxmYC5cbiAgICAgIHNlbGYuX3N0YXRlID0gJ3VubG9hZGVkJztcbiAgICAgIHNlbGYuX3NvdW5kcyA9IFtdO1xuICAgICAgc2VsZiA9IG51bGw7XG5cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBMaXN0ZW4gdG8gYSBjdXN0b20gZXZlbnQuXG4gICAgICogQHBhcmFtICB7U3RyaW5nfSAgIGV2ZW50IEV2ZW50IG5hbWUuXG4gICAgICogQHBhcmFtICB7RnVuY3Rpb259IGZuICAgIExpc3RlbmVyIHRvIGNhbGwuXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSAgIGlkICAgIChvcHRpb25hbCkgT25seSBsaXN0ZW4gdG8gZXZlbnRzIGZvciB0aGlzIHNvdW5kLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gICBvbmNlICAoSU5URVJOQUwpIE1hcmtzIGV2ZW50IHRvIGZpcmUgb25seSBvbmNlLlxuICAgICAqIEByZXR1cm4ge0hvd2x9XG4gICAgICovXG4gICAgb246IGZ1bmN0aW9uKGV2ZW50LCBmbiwgaWQsIG9uY2UpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIHZhciBldmVudHMgPSBzZWxmWydfb24nICsgZXZlbnRdO1xuXG4gICAgICBpZiAodHlwZW9mIGZuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGV2ZW50cy5wdXNoKG9uY2UgPyB7aWQ6IGlkLCBmbjogZm4sIG9uY2U6IG9uY2V9IDoge2lkOiBpZCwgZm46IGZufSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYSBjdXN0b20gZXZlbnQuIENhbGwgd2l0aG91dCBwYXJhbWV0ZXJzIHRvIHJlbW92ZSBhbGwgZXZlbnRzLlxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gICBldmVudCBFdmVudCBuYW1lLlxuICAgICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBmbiAgICBMaXN0ZW5lciB0byByZW1vdmUuIExlYXZlIGVtcHR5IHRvIHJlbW92ZSBhbGwuXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSAgIGlkICAgIChvcHRpb25hbCkgT25seSByZW1vdmUgZXZlbnRzIGZvciB0aGlzIHNvdW5kLlxuICAgICAqIEByZXR1cm4ge0hvd2x9XG4gICAgICovXG4gICAgb2ZmOiBmdW5jdGlvbihldmVudCwgZm4sIGlkKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgZXZlbnRzID0gc2VsZlsnX29uJyArIGV2ZW50XTtcbiAgICAgIHZhciBpID0gMDtcblxuICAgICAgLy8gQWxsb3cgcGFzc2luZyBqdXN0IGFuIGV2ZW50IGFuZCBJRC5cbiAgICAgIGlmICh0eXBlb2YgZm4gPT09ICdudW1iZXInKSB7XG4gICAgICAgIGlkID0gZm47XG4gICAgICAgIGZuID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgaWYgKGZuIHx8IGlkKSB7XG4gICAgICAgIC8vIExvb3AgdGhyb3VnaCBldmVudCBzdG9yZSBhbmQgcmVtb3ZlIHRoZSBwYXNzZWQgZnVuY3Rpb24uXG4gICAgICAgIGZvciAoaT0wOyBpPGV2ZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHZhciBpc0lkID0gKGlkID09PSBldmVudHNbaV0uaWQpO1xuICAgICAgICAgIGlmIChmbiA9PT0gZXZlbnRzW2ldLmZuICYmIGlzSWQgfHwgIWZuICYmIGlzSWQpIHtcbiAgICAgICAgICAgIGV2ZW50cy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoZXZlbnQpIHtcbiAgICAgICAgLy8gQ2xlYXIgb3V0IGFsbCBldmVudHMgb2YgdGhpcyB0eXBlLlxuICAgICAgICBzZWxmWydfb24nICsgZXZlbnRdID0gW107XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBDbGVhciBvdXQgYWxsIGV2ZW50cyBvZiBldmVyeSB0eXBlLlxuICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHNlbGYpO1xuICAgICAgICBmb3IgKGk9MDsgaTxrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYgKChrZXlzW2ldLmluZGV4T2YoJ19vbicpID09PSAwKSAmJiBBcnJheS5pc0FycmF5KHNlbGZba2V5c1tpXV0pKSB7XG4gICAgICAgICAgICBzZWxmW2tleXNbaV1dID0gW107XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBMaXN0ZW4gdG8gYSBjdXN0b20gZXZlbnQgYW5kIHJlbW92ZSBpdCBvbmNlIGZpcmVkLlxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gICBldmVudCBFdmVudCBuYW1lLlxuICAgICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBmbiAgICBMaXN0ZW5lciB0byBjYWxsLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gICBpZCAgICAob3B0aW9uYWwpIE9ubHkgbGlzdGVuIHRvIGV2ZW50cyBmb3IgdGhpcyBzb3VuZC5cbiAgICAgKiBAcmV0dXJuIHtIb3dsfVxuICAgICAqL1xuICAgIG9uY2U6IGZ1bmN0aW9uKGV2ZW50LCBmbiwgaWQpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgLy8gU2V0dXAgdGhlIGV2ZW50IGxpc3RlbmVyLlxuICAgICAgc2VsZi5vbihldmVudCwgZm4sIGlkLCAxKTtcblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEVtaXQgYWxsIGV2ZW50cyBvZiBhIHNwZWNpZmljIHR5cGUgYW5kIHBhc3MgdGhlIHNvdW5kIGlkLlxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gZXZlbnQgRXZlbnQgbmFtZS5cbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGlkICAgIFNvdW5kIElELlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gbXNnICAgTWVzc2FnZSB0byBnbyB3aXRoIGV2ZW50LlxuICAgICAqIEByZXR1cm4ge0hvd2x9XG4gICAgICovXG4gICAgX2VtaXQ6IGZ1bmN0aW9uKGV2ZW50LCBpZCwgbXNnKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgZXZlbnRzID0gc2VsZlsnX29uJyArIGV2ZW50XTtcblxuICAgICAgLy8gTG9vcCB0aHJvdWdoIGV2ZW50IHN0b3JlIGFuZCBmaXJlIGFsbCBmdW5jdGlvbnMuXG4gICAgICBmb3IgKHZhciBpPWV2ZW50cy5sZW5ndGgtMTsgaT49MDsgaS0tKSB7XG4gICAgICAgIC8vIE9ubHkgZmlyZSB0aGUgbGlzdGVuZXIgaWYgdGhlIGNvcnJlY3QgSUQgaXMgdXNlZC5cbiAgICAgICAgaWYgKCFldmVudHNbaV0uaWQgfHwgZXZlbnRzW2ldLmlkID09PSBpZCB8fCBldmVudCA9PT0gJ2xvYWQnKSB7XG4gICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbihmbikge1xuICAgICAgICAgICAgZm4uY2FsbCh0aGlzLCBpZCwgbXNnKTtcbiAgICAgICAgICB9LmJpbmQoc2VsZiwgZXZlbnRzW2ldLmZuKSwgMCk7XG5cbiAgICAgICAgICAvLyBJZiB0aGlzIGV2ZW50IHdhcyBzZXR1cCB3aXRoIGBvbmNlYCwgcmVtb3ZlIGl0LlxuICAgICAgICAgIGlmIChldmVudHNbaV0ub25jZSkge1xuICAgICAgICAgICAgc2VsZi5vZmYoZXZlbnQsIGV2ZW50c1tpXS5mbiwgZXZlbnRzW2ldLmlkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gUGFzcyB0aGUgZXZlbnQgdHlwZSBpbnRvIGxvYWQgcXVldWUgc28gdGhhdCBpdCBjYW4gY29udGludWUgc3RlcHBpbmcuXG4gICAgICBzZWxmLl9sb2FkUXVldWUoZXZlbnQpO1xuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUXVldWUgb2YgYWN0aW9ucyBpbml0aWF0ZWQgYmVmb3JlIHRoZSBzb3VuZCBoYXMgbG9hZGVkLlxuICAgICAqIFRoZXNlIHdpbGwgYmUgY2FsbGVkIGluIHNlcXVlbmNlLCB3aXRoIHRoZSBuZXh0IG9ubHkgZmlyaW5nXG4gICAgICogYWZ0ZXIgdGhlIHByZXZpb3VzIGhhcyBmaW5pc2hlZCBleGVjdXRpbmcgKGV2ZW4gaWYgYXN5bmMgbGlrZSBwbGF5KS5cbiAgICAgKiBAcmV0dXJuIHtIb3dsfVxuICAgICAqL1xuICAgIF9sb2FkUXVldWU6IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgIGlmIChzZWxmLl9xdWV1ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHZhciB0YXNrID0gc2VsZi5fcXVldWVbMF07XG5cbiAgICAgICAgLy8gUmVtb3ZlIHRoaXMgdGFzayBpZiBhIG1hdGNoaW5nIGV2ZW50IHdhcyBwYXNzZWQuXG4gICAgICAgIGlmICh0YXNrLmV2ZW50ID09PSBldmVudCkge1xuICAgICAgICAgIHNlbGYuX3F1ZXVlLnNoaWZ0KCk7XG4gICAgICAgICAgc2VsZi5fbG9hZFF1ZXVlKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSdW4gdGhlIHRhc2sgaWYgbm8gZXZlbnQgdHlwZSBpcyBwYXNzZWQuXG4gICAgICAgIGlmICghZXZlbnQpIHtcbiAgICAgICAgICB0YXNrLmFjdGlvbigpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIHBsYXliYWNrIGVuZHMgYXQgdGhlIGVuZCBvZiB0aGUgZHVyYXRpb24uXG4gICAgICogQHBhcmFtICB7U291bmR9IHNvdW5kIFRoZSBzb3VuZCBvYmplY3QgdG8gd29yayB3aXRoLlxuICAgICAqIEByZXR1cm4ge0hvd2x9XG4gICAgICovXG4gICAgX2VuZGVkOiBmdW5jdGlvbihzb3VuZCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIHNwcml0ZSA9IHNvdW5kLl9zcHJpdGU7XG5cbiAgICAgIC8vIElmIHdlIGFyZSB1c2luZyBJRSBhbmQgdGhlcmUgd2FzIG5ldHdvcmsgbGF0ZW5jeSB3ZSBtYXkgYmUgY2xpcHBpbmdcbiAgICAgIC8vIGF1ZGlvIGJlZm9yZSBpdCBjb21wbGV0ZXMgcGxheWluZy4gTGV0cyBjaGVjayB0aGUgbm9kZSB0byBtYWtlIHN1cmUgaXRcbiAgICAgIC8vIGJlbGlldmVzIGl0IGhhcyBjb21wbGV0ZWQsIGJlZm9yZSBlbmRpbmcgdGhlIHBsYXliYWNrLlxuICAgICAgaWYgKCFzZWxmLl93ZWJBdWRpbyAmJiBzb3VuZC5fbm9kZSAmJiAhc291bmQuX25vZGUucGF1c2VkICYmICFzb3VuZC5fbm9kZS5lbmRlZCAmJiBzb3VuZC5fbm9kZS5jdXJyZW50VGltZSA8IHNvdW5kLl9zdG9wKSB7XG4gICAgICAgIHNldFRpbWVvdXQoc2VsZi5fZW5kZWQuYmluZChzZWxmLCBzb3VuZCksIDEwMCk7XG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgICAgfVxuXG4gICAgICAvLyBTaG91bGQgdGhpcyBzb3VuZCBsb29wP1xuICAgICAgdmFyIGxvb3AgPSAhIShzb3VuZC5fbG9vcCB8fCBzZWxmLl9zcHJpdGVbc3ByaXRlXVsyXSk7XG5cbiAgICAgIC8vIEZpcmUgdGhlIGVuZGVkIGV2ZW50LlxuICAgICAgc2VsZi5fZW1pdCgnZW5kJywgc291bmQuX2lkKTtcblxuICAgICAgLy8gUmVzdGFydCB0aGUgcGxheWJhY2sgZm9yIEhUTUw1IEF1ZGlvIGxvb3AuXG4gICAgICBpZiAoIXNlbGYuX3dlYkF1ZGlvICYmIGxvb3ApIHtcbiAgICAgICAgc2VsZi5zdG9wKHNvdW5kLl9pZCwgdHJ1ZSkucGxheShzb3VuZC5faWQpO1xuICAgICAgfVxuXG4gICAgICAvLyBSZXN0YXJ0IHRoaXMgdGltZXIgaWYgb24gYSBXZWIgQXVkaW8gbG9vcC5cbiAgICAgIGlmIChzZWxmLl93ZWJBdWRpbyAmJiBsb29wKSB7XG4gICAgICAgIHNlbGYuX2VtaXQoJ3BsYXknLCBzb3VuZC5faWQpO1xuICAgICAgICBzb3VuZC5fc2VlayA9IHNvdW5kLl9zdGFydCB8fCAwO1xuICAgICAgICBzb3VuZC5fcmF0ZVNlZWsgPSAwO1xuICAgICAgICBzb3VuZC5fcGxheVN0YXJ0ID0gSG93bGVyLmN0eC5jdXJyZW50VGltZTtcblxuICAgICAgICB2YXIgdGltZW91dCA9ICgoc291bmQuX3N0b3AgLSBzb3VuZC5fc3RhcnQpICogMTAwMCkgLyBNYXRoLmFicyhzb3VuZC5fcmF0ZSk7XG4gICAgICAgIHNlbGYuX2VuZFRpbWVyc1tzb3VuZC5faWRdID0gc2V0VGltZW91dChzZWxmLl9lbmRlZC5iaW5kKHNlbGYsIHNvdW5kKSwgdGltZW91dCk7XG4gICAgICB9XG5cbiAgICAgIC8vIE1hcmsgdGhlIG5vZGUgYXMgcGF1c2VkLlxuICAgICAgaWYgKHNlbGYuX3dlYkF1ZGlvICYmICFsb29wKSB7XG4gICAgICAgIHNvdW5kLl9wYXVzZWQgPSB0cnVlO1xuICAgICAgICBzb3VuZC5fZW5kZWQgPSB0cnVlO1xuICAgICAgICBzb3VuZC5fc2VlayA9IHNvdW5kLl9zdGFydCB8fCAwO1xuICAgICAgICBzb3VuZC5fcmF0ZVNlZWsgPSAwO1xuICAgICAgICBzZWxmLl9jbGVhclRpbWVyKHNvdW5kLl9pZCk7XG5cbiAgICAgICAgLy8gQ2xlYW4gdXAgdGhlIGJ1ZmZlciBzb3VyY2UuXG4gICAgICAgIHNlbGYuX2NsZWFuQnVmZmVyKHNvdW5kLl9ub2RlKTtcblxuICAgICAgICAvLyBBdHRlbXB0IHRvIGF1dG8tc3VzcGVuZCBBdWRpb0NvbnRleHQgaWYgbm8gc291bmRzIGFyZSBzdGlsbCBwbGF5aW5nLlxuICAgICAgICBIb3dsZXIuX2F1dG9TdXNwZW5kKCk7XG4gICAgICB9XG5cbiAgICAgIC8vIFdoZW4gdXNpbmcgYSBzcHJpdGUsIGVuZCB0aGUgdHJhY2suXG4gICAgICBpZiAoIXNlbGYuX3dlYkF1ZGlvICYmICFsb29wKSB7XG4gICAgICAgIHNlbGYuc3RvcChzb3VuZC5faWQsIHRydWUpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2xlYXIgdGhlIGVuZCB0aW1lciBmb3IgYSBzb3VuZCBwbGF5YmFjay5cbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGlkIFRoZSBzb3VuZCBJRC5cbiAgICAgKiBAcmV0dXJuIHtIb3dsfVxuICAgICAqL1xuICAgIF9jbGVhclRpbWVyOiBmdW5jdGlvbihpZCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICBpZiAoc2VsZi5fZW5kVGltZXJzW2lkXSkge1xuICAgICAgICAvLyBDbGVhciB0aGUgdGltZW91dCBvciByZW1vdmUgdGhlIGVuZGVkIGxpc3RlbmVyLlxuICAgICAgICBpZiAodHlwZW9mIHNlbGYuX2VuZFRpbWVyc1tpZF0gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICBjbGVhclRpbWVvdXQoc2VsZi5fZW5kVGltZXJzW2lkXSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKGlkKTtcbiAgICAgICAgICBpZiAoc291bmQgJiYgc291bmQuX25vZGUpIHtcbiAgICAgICAgICAgIHNvdW5kLl9ub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2VuZGVkJywgc2VsZi5fZW5kVGltZXJzW2lkXSwgZmFsc2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGRlbGV0ZSBzZWxmLl9lbmRUaW1lcnNbaWRdO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSBzb3VuZCBpZGVudGlmaWVkIGJ5IHRoaXMgSUQsIG9yIHJldHVybiBudWxsLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gaWQgU291bmQgSURcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9ICAgIFNvdW5kIG9iamVjdCBvciBudWxsLlxuICAgICAqL1xuICAgIF9zb3VuZEJ5SWQ6IGZ1bmN0aW9uKGlkKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgIC8vIExvb3AgdGhyb3VnaCBhbGwgc291bmRzIGFuZCBmaW5kIHRoZSBvbmUgd2l0aCB0aGlzIElELlxuICAgICAgZm9yICh2YXIgaT0wOyBpPHNlbGYuX3NvdW5kcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoaWQgPT09IHNlbGYuX3NvdW5kc1tpXS5faWQpIHtcbiAgICAgICAgICByZXR1cm4gc2VsZi5fc291bmRzW2ldO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gYW4gaW5hY3RpdmUgc291bmQgZnJvbSB0aGUgcG9vbCBvciBjcmVhdGUgYSBuZXcgb25lLlxuICAgICAqIEByZXR1cm4ge1NvdW5kfSBTb3VuZCBwbGF5YmFjayBvYmplY3QuXG4gICAgICovXG4gICAgX2luYWN0aXZlU291bmQ6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICBzZWxmLl9kcmFpbigpO1xuXG4gICAgICAvLyBGaW5kIHRoZSBmaXJzdCBpbmFjdGl2ZSBub2RlIHRvIHJlY3ljbGUuXG4gICAgICBmb3IgKHZhciBpPTA7IGk8c2VsZi5fc291bmRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChzZWxmLl9zb3VuZHNbaV0uX2VuZGVkKSB7XG4gICAgICAgICAgcmV0dXJuIHNlbGYuX3NvdW5kc1tpXS5yZXNldCgpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIElmIG5vIGluYWN0aXZlIG5vZGUgd2FzIGZvdW5kLCBjcmVhdGUgYSBuZXcgb25lLlxuICAgICAgcmV0dXJuIG5ldyBTb3VuZChzZWxmKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRHJhaW4gZXhjZXNzIGluYWN0aXZlIHNvdW5kcyBmcm9tIHRoZSBwb29sLlxuICAgICAqL1xuICAgIF9kcmFpbjogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgbGltaXQgPSBzZWxmLl9wb29sO1xuICAgICAgdmFyIGNudCA9IDA7XG4gICAgICB2YXIgaSA9IDA7XG5cbiAgICAgIC8vIElmIHRoZXJlIGFyZSBsZXNzIHNvdW5kcyB0aGFuIHRoZSBtYXggcG9vbCBzaXplLCB3ZSBhcmUgZG9uZS5cbiAgICAgIGlmIChzZWxmLl9zb3VuZHMubGVuZ3RoIDwgbGltaXQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBDb3VudCB0aGUgbnVtYmVyIG9mIGluYWN0aXZlIHNvdW5kcy5cbiAgICAgIGZvciAoaT0wOyBpPHNlbGYuX3NvdW5kcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoc2VsZi5fc291bmRzW2ldLl9lbmRlZCkge1xuICAgICAgICAgIGNudCsrO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFJlbW92ZSBleGNlc3MgaW5hY3RpdmUgc291bmRzLCBnb2luZyBpbiByZXZlcnNlIG9yZGVyLlxuICAgICAgZm9yIChpPXNlbGYuX3NvdW5kcy5sZW5ndGggLSAxOyBpPj0wOyBpLS0pIHtcbiAgICAgICAgaWYgKGNudCA8PSBsaW1pdCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzZWxmLl9zb3VuZHNbaV0uX2VuZGVkKSB7XG4gICAgICAgICAgLy8gRGlzY29ubmVjdCB0aGUgYXVkaW8gc291cmNlIHdoZW4gdXNpbmcgV2ViIEF1ZGlvLlxuICAgICAgICAgIGlmIChzZWxmLl93ZWJBdWRpbyAmJiBzZWxmLl9zb3VuZHNbaV0uX25vZGUpIHtcbiAgICAgICAgICAgIHNlbGYuX3NvdW5kc1tpXS5fbm9kZS5kaXNjb25uZWN0KDApO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIFJlbW92ZSBzb3VuZHMgdW50aWwgd2UgaGF2ZSB0aGUgcG9vbCBzaXplLlxuICAgICAgICAgIHNlbGYuX3NvdW5kcy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgY250LS07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogR2V0IGFsbCBJRCdzIGZyb20gdGhlIHNvdW5kcyBwb29sLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gaWQgT25seSByZXR1cm4gb25lIElEIGlmIG9uZSBpcyBwYXNzZWQuXG4gICAgICogQHJldHVybiB7QXJyYXl9ICAgIEFycmF5IG9mIElEcy5cbiAgICAgKi9cbiAgICBfZ2V0U291bmRJZHM6IGZ1bmN0aW9uKGlkKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgIGlmICh0eXBlb2YgaWQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHZhciBpZHMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaT0wOyBpPHNlbGYuX3NvdW5kcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlkcy5wdXNoKHNlbGYuX3NvdW5kc1tpXS5faWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGlkcztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBbaWRdO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBMb2FkIHRoZSBzb3VuZCBiYWNrIGludG8gdGhlIGJ1ZmZlciBzb3VyY2UuXG4gICAgICogQHBhcmFtICB7U291bmR9IHNvdW5kIFRoZSBzb3VuZCBvYmplY3QgdG8gd29yayB3aXRoLlxuICAgICAqIEByZXR1cm4ge0hvd2x9XG4gICAgICovXG4gICAgX3JlZnJlc2hCdWZmZXI6IGZ1bmN0aW9uKHNvdW5kKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgIC8vIFNldHVwIHRoZSBidWZmZXIgc291cmNlIGZvciBwbGF5YmFjay5cbiAgICAgIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZSA9IEhvd2xlci5jdHguY3JlYXRlQnVmZmVyU291cmNlKCk7XG4gICAgICBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2UuYnVmZmVyID0gY2FjaGVbc2VsZi5fc3JjXTtcblxuICAgICAgLy8gQ29ubmVjdCB0byB0aGUgY29ycmVjdCBub2RlLlxuICAgICAgaWYgKHNvdW5kLl9wYW5uZXIpIHtcbiAgICAgICAgc291bmQuX25vZGUuYnVmZmVyU291cmNlLmNvbm5lY3Qoc291bmQuX3Bhbm5lcik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2UuY29ubmVjdChzb3VuZC5fbm9kZSk7XG4gICAgICB9XG5cbiAgICAgIC8vIFNldHVwIGxvb3BpbmcgYW5kIHBsYXliYWNrIHJhdGUuXG4gICAgICBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2UubG9vcCA9IHNvdW5kLl9sb29wO1xuICAgICAgaWYgKHNvdW5kLl9sb29wKSB7XG4gICAgICAgIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZS5sb29wU3RhcnQgPSBzb3VuZC5fc3RhcnQgfHwgMDtcbiAgICAgICAgc291bmQuX25vZGUuYnVmZmVyU291cmNlLmxvb3BFbmQgPSBzb3VuZC5fc3RvcCB8fCAwO1xuICAgICAgfVxuICAgICAgc291bmQuX25vZGUuYnVmZmVyU291cmNlLnBsYXliYWNrUmF0ZS5zZXRWYWx1ZUF0VGltZShzb3VuZC5fcmF0ZSwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBQcmV2ZW50IG1lbW9yeSBsZWFrcyBieSBjbGVhbmluZyB1cCB0aGUgYnVmZmVyIHNvdXJjZSBhZnRlciBwbGF5YmFjay5cbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9IG5vZGUgU291bmQncyBhdWRpbyBub2RlIGNvbnRhaW5pbmcgdGhlIGJ1ZmZlciBzb3VyY2UuXG4gICAgICogQHJldHVybiB7SG93bH1cbiAgICAgKi9cbiAgICBfY2xlYW5CdWZmZXI6IGZ1bmN0aW9uKG5vZGUpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIHZhciBpc0lPUyA9IEhvd2xlci5fbmF2aWdhdG9yICYmIEhvd2xlci5fbmF2aWdhdG9yLnZlbmRvci5pbmRleE9mKCdBcHBsZScpID49IDA7XG5cbiAgICAgIGlmIChIb3dsZXIuX3NjcmF0Y2hCdWZmZXIgJiYgbm9kZS5idWZmZXJTb3VyY2UpIHtcbiAgICAgICAgbm9kZS5idWZmZXJTb3VyY2Uub25lbmRlZCA9IG51bGw7XG4gICAgICAgIG5vZGUuYnVmZmVyU291cmNlLmRpc2Nvbm5lY3QoMCk7XG4gICAgICAgIGlmIChpc0lPUykge1xuICAgICAgICAgIHRyeSB7IG5vZGUuYnVmZmVyU291cmNlLmJ1ZmZlciA9IEhvd2xlci5fc2NyYXRjaEJ1ZmZlcjsgfSBjYXRjaChlKSB7fVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBub2RlLmJ1ZmZlclNvdXJjZSA9IG51bGw7XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIHNvdXJjZSB0byBhIDAtc2Vjb25kIHNpbGVuY2UgdG8gc3RvcCBhbnkgZG93bmxvYWRpbmcgKGV4Y2VwdCBpbiBJRSkuXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSBub2RlIEF1ZGlvIG5vZGUgdG8gY2xlYXIuXG4gICAgICovXG4gICAgX2NsZWFyU291bmQ6IGZ1bmN0aW9uKG5vZGUpIHtcbiAgICAgIHZhciBjaGVja0lFID0gL01TSUUgfFRyaWRlbnRcXC8vLnRlc3QoSG93bGVyLl9uYXZpZ2F0b3IgJiYgSG93bGVyLl9uYXZpZ2F0b3IudXNlckFnZW50KTtcbiAgICAgIGlmICghY2hlY2tJRSkge1xuICAgICAgICBub2RlLnNyYyA9ICdkYXRhOmF1ZGlvL3dhdjtiYXNlNjQsVWtsR1JpZ0FBQUJYUVZaRlptMTBJQklBQUFBQkFBRUFSS3dBQUloWUFRQUNBQkFBQUFCa1lYUmhBZ0FBQUFFQSc7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIC8qKiBTaW5nbGUgU291bmQgTWV0aG9kcyAqKi9cbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuICAvKipcbiAgICogU2V0dXAgdGhlIHNvdW5kIG9iamVjdCwgd2hpY2ggZWFjaCBub2RlIGF0dGFjaGVkIHRvIGEgSG93bCBncm91cCBpcyBjb250YWluZWQgaW4uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBob3dsIFRoZSBIb3dsIHBhcmVudCBncm91cC5cbiAgICovXG4gIHZhciBTb3VuZCA9IGZ1bmN0aW9uKGhvd2wpIHtcbiAgICB0aGlzLl9wYXJlbnQgPSBob3dsO1xuICAgIHRoaXMuaW5pdCgpO1xuICB9O1xuICBTb3VuZC5wcm90b3R5cGUgPSB7XG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSBhIG5ldyBTb3VuZCBvYmplY3QuXG4gICAgICogQHJldHVybiB7U291bmR9XG4gICAgICovXG4gICAgaW5pdDogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgcGFyZW50ID0gc2VsZi5fcGFyZW50O1xuXG4gICAgICAvLyBTZXR1cCB0aGUgZGVmYXVsdCBwYXJhbWV0ZXJzLlxuICAgICAgc2VsZi5fbXV0ZWQgPSBwYXJlbnQuX211dGVkO1xuICAgICAgc2VsZi5fbG9vcCA9IHBhcmVudC5fbG9vcDtcbiAgICAgIHNlbGYuX3ZvbHVtZSA9IHBhcmVudC5fdm9sdW1lO1xuICAgICAgc2VsZi5fcmF0ZSA9IHBhcmVudC5fcmF0ZTtcbiAgICAgIHNlbGYuX3NlZWsgPSAwO1xuICAgICAgc2VsZi5fcGF1c2VkID0gdHJ1ZTtcbiAgICAgIHNlbGYuX2VuZGVkID0gdHJ1ZTtcbiAgICAgIHNlbGYuX3Nwcml0ZSA9ICdfX2RlZmF1bHQnO1xuXG4gICAgICAvLyBHZW5lcmF0ZSBhIHVuaXF1ZSBJRCBmb3IgdGhpcyBzb3VuZC5cbiAgICAgIHNlbGYuX2lkID0gKytIb3dsZXIuX2NvdW50ZXI7XG5cbiAgICAgIC8vIEFkZCBpdHNlbGYgdG8gdGhlIHBhcmVudCdzIHBvb2wuXG4gICAgICBwYXJlbnQuX3NvdW5kcy5wdXNoKHNlbGYpO1xuXG4gICAgICAvLyBDcmVhdGUgdGhlIG5ldyBub2RlLlxuICAgICAgc2VsZi5jcmVhdGUoKTtcblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhbmQgc2V0dXAgYSBuZXcgc291bmQgb2JqZWN0LCB3aGV0aGVyIEhUTUw1IEF1ZGlvIG9yIFdlYiBBdWRpby5cbiAgICAgKiBAcmV0dXJuIHtTb3VuZH1cbiAgICAgKi9cbiAgICBjcmVhdGU6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIHBhcmVudCA9IHNlbGYuX3BhcmVudDtcbiAgICAgIHZhciB2b2x1bWUgPSAoSG93bGVyLl9tdXRlZCB8fCBzZWxmLl9tdXRlZCB8fCBzZWxmLl9wYXJlbnQuX211dGVkKSA/IDAgOiBzZWxmLl92b2x1bWU7XG5cbiAgICAgIGlmIChwYXJlbnQuX3dlYkF1ZGlvKSB7XG4gICAgICAgIC8vIENyZWF0ZSB0aGUgZ2FpbiBub2RlIGZvciBjb250cm9sbGluZyB2b2x1bWUgKHRoZSBzb3VyY2Ugd2lsbCBjb25uZWN0IHRvIHRoaXMpLlxuICAgICAgICBzZWxmLl9ub2RlID0gKHR5cGVvZiBIb3dsZXIuY3R4LmNyZWF0ZUdhaW4gPT09ICd1bmRlZmluZWQnKSA/IEhvd2xlci5jdHguY3JlYXRlR2Fpbk5vZGUoKSA6IEhvd2xlci5jdHguY3JlYXRlR2FpbigpO1xuICAgICAgICBzZWxmLl9ub2RlLmdhaW4uc2V0VmFsdWVBdFRpbWUodm9sdW1lLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcbiAgICAgICAgc2VsZi5fbm9kZS5wYXVzZWQgPSB0cnVlO1xuICAgICAgICBzZWxmLl9ub2RlLmNvbm5lY3QoSG93bGVyLm1hc3RlckdhaW4pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gR2V0IGFuIHVubG9ja2VkIEF1ZGlvIG9iamVjdCBmcm9tIHRoZSBwb29sLlxuICAgICAgICBzZWxmLl9ub2RlID0gSG93bGVyLl9vYnRhaW5IdG1sNUF1ZGlvKCk7XG5cbiAgICAgICAgLy8gTGlzdGVuIGZvciBlcnJvcnMgKGh0dHA6Ly9kZXYudzMub3JnL2h0bWw1L3NwZWMtYXV0aG9yLXZpZXcvc3BlYy5odG1sI21lZGlhZXJyb3IpLlxuICAgICAgICBzZWxmLl9lcnJvckZuID0gc2VsZi5fZXJyb3JMaXN0ZW5lci5iaW5kKHNlbGYpO1xuICAgICAgICBzZWxmLl9ub2RlLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgc2VsZi5fZXJyb3JGbiwgZmFsc2UpO1xuXG4gICAgICAgIC8vIExpc3RlbiBmb3IgJ2NhbnBsYXl0aHJvdWdoJyBldmVudCB0byBsZXQgdXMga25vdyB0aGUgc291bmQgaXMgcmVhZHkuXG4gICAgICAgIHNlbGYuX2xvYWRGbiA9IHNlbGYuX2xvYWRMaXN0ZW5lci5iaW5kKHNlbGYpO1xuICAgICAgICBzZWxmLl9ub2RlLmFkZEV2ZW50TGlzdGVuZXIoSG93bGVyLl9jYW5QbGF5RXZlbnQsIHNlbGYuX2xvYWRGbiwgZmFsc2UpO1xuXG4gICAgICAgIC8vIFNldHVwIHRoZSBuZXcgYXVkaW8gbm9kZS5cbiAgICAgICAgc2VsZi5fbm9kZS5zcmMgPSBwYXJlbnQuX3NyYztcbiAgICAgICAgc2VsZi5fbm9kZS5wcmVsb2FkID0gJ2F1dG8nO1xuICAgICAgICBzZWxmLl9ub2RlLnZvbHVtZSA9IHZvbHVtZSAqIEhvd2xlci52b2x1bWUoKTtcblxuICAgICAgICAvLyBCZWdpbiBsb2FkaW5nIHRoZSBzb3VyY2UuXG4gICAgICAgIHNlbGYuX25vZGUubG9hZCgpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmVzZXQgdGhlIHBhcmFtZXRlcnMgb2YgdGhpcyBzb3VuZCB0byB0aGUgb3JpZ2luYWwgc3RhdGUgKGZvciByZWN5Y2xlKS5cbiAgICAgKiBAcmV0dXJuIHtTb3VuZH1cbiAgICAgKi9cbiAgICByZXNldDogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgcGFyZW50ID0gc2VsZi5fcGFyZW50O1xuXG4gICAgICAvLyBSZXNldCBhbGwgb2YgdGhlIHBhcmFtZXRlcnMgb2YgdGhpcyBzb3VuZC5cbiAgICAgIHNlbGYuX211dGVkID0gcGFyZW50Ll9tdXRlZDtcbiAgICAgIHNlbGYuX2xvb3AgPSBwYXJlbnQuX2xvb3A7XG4gICAgICBzZWxmLl92b2x1bWUgPSBwYXJlbnQuX3ZvbHVtZTtcbiAgICAgIHNlbGYuX3JhdGUgPSBwYXJlbnQuX3JhdGU7XG4gICAgICBzZWxmLl9zZWVrID0gMDtcbiAgICAgIHNlbGYuX3JhdGVTZWVrID0gMDtcbiAgICAgIHNlbGYuX3BhdXNlZCA9IHRydWU7XG4gICAgICBzZWxmLl9lbmRlZCA9IHRydWU7XG4gICAgICBzZWxmLl9zcHJpdGUgPSAnX19kZWZhdWx0JztcblxuICAgICAgLy8gR2VuZXJhdGUgYSBuZXcgSUQgc28gdGhhdCBpdCBpc24ndCBjb25mdXNlZCB3aXRoIHRoZSBwcmV2aW91cyBzb3VuZC5cbiAgICAgIHNlbGYuX2lkID0gKytIb3dsZXIuX2NvdW50ZXI7XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBIVE1MNSBBdWRpbyBlcnJvciBsaXN0ZW5lciBjYWxsYmFjay5cbiAgICAgKi9cbiAgICBfZXJyb3JMaXN0ZW5lcjogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgIC8vIEZpcmUgYW4gZXJyb3IgZXZlbnQgYW5kIHBhc3MgYmFjayB0aGUgY29kZS5cbiAgICAgIHNlbGYuX3BhcmVudC5fZW1pdCgnbG9hZGVycm9yJywgc2VsZi5faWQsIHNlbGYuX25vZGUuZXJyb3IgPyBzZWxmLl9ub2RlLmVycm9yLmNvZGUgOiAwKTtcblxuICAgICAgLy8gQ2xlYXIgdGhlIGV2ZW50IGxpc3RlbmVyLlxuICAgICAgc2VsZi5fbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKCdlcnJvcicsIHNlbGYuX2Vycm9yRm4sIGZhbHNlKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogSFRNTDUgQXVkaW8gY2FucGxheXRocm91Z2ggbGlzdGVuZXIgY2FsbGJhY2suXG4gICAgICovXG4gICAgX2xvYWRMaXN0ZW5lcjogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgcGFyZW50ID0gc2VsZi5fcGFyZW50O1xuXG4gICAgICAvLyBSb3VuZCB1cCB0aGUgZHVyYXRpb24gdG8gYWNjb3VudCBmb3IgdGhlIGxvd2VyIHByZWNpc2lvbiBpbiBIVE1MNSBBdWRpby5cbiAgICAgIHBhcmVudC5fZHVyYXRpb24gPSBNYXRoLmNlaWwoc2VsZi5fbm9kZS5kdXJhdGlvbiAqIDEwKSAvIDEwO1xuXG4gICAgICAvLyBTZXR1cCBhIHNwcml0ZSBpZiBub25lIGlzIGRlZmluZWQuXG4gICAgICBpZiAoT2JqZWN0LmtleXMocGFyZW50Ll9zcHJpdGUpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBwYXJlbnQuX3Nwcml0ZSA9IHtfX2RlZmF1bHQ6IFswLCBwYXJlbnQuX2R1cmF0aW9uICogMTAwMF19O1xuICAgICAgfVxuXG4gICAgICBpZiAocGFyZW50Ll9zdGF0ZSAhPT0gJ2xvYWRlZCcpIHtcbiAgICAgICAgcGFyZW50Ll9zdGF0ZSA9ICdsb2FkZWQnO1xuICAgICAgICBwYXJlbnQuX2VtaXQoJ2xvYWQnKTtcbiAgICAgICAgcGFyZW50Ll9sb2FkUXVldWUoKTtcbiAgICAgIH1cblxuICAgICAgLy8gQ2xlYXIgdGhlIGV2ZW50IGxpc3RlbmVyLlxuICAgICAgc2VsZi5fbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKEhvd2xlci5fY2FuUGxheUV2ZW50LCBzZWxmLl9sb2FkRm4sIGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqIEhlbHBlciBNZXRob2RzICoqL1xuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4gIHZhciBjYWNoZSA9IHt9O1xuXG4gIC8qKlxuICAgKiBCdWZmZXIgYSBzb3VuZCBmcm9tIFVSTCwgRGF0YSBVUkkgb3IgY2FjaGUgYW5kIGRlY29kZSB0byBhdWRpbyBzb3VyY2UgKFdlYiBBdWRpbyBBUEkpLlxuICAgKiBAcGFyYW0gIHtIb3dsfSBzZWxmXG4gICAqL1xuICB2YXIgbG9hZEJ1ZmZlciA9IGZ1bmN0aW9uKHNlbGYpIHtcbiAgICB2YXIgdXJsID0gc2VsZi5fc3JjO1xuXG4gICAgLy8gQ2hlY2sgaWYgdGhlIGJ1ZmZlciBoYXMgYWxyZWFkeSBiZWVuIGNhY2hlZCBhbmQgdXNlIGl0IGluc3RlYWQuXG4gICAgaWYgKGNhY2hlW3VybF0pIHtcbiAgICAgIC8vIFNldCB0aGUgZHVyYXRpb24gZnJvbSB0aGUgY2FjaGUuXG4gICAgICBzZWxmLl9kdXJhdGlvbiA9IGNhY2hlW3VybF0uZHVyYXRpb247XG5cbiAgICAgIC8vIExvYWQgdGhlIHNvdW5kIGludG8gdGhpcyBIb3dsLlxuICAgICAgbG9hZFNvdW5kKHNlbGYpO1xuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKC9eZGF0YTpbXjtdKztiYXNlNjQsLy50ZXN0KHVybCkpIHtcbiAgICAgIC8vIERlY29kZSB0aGUgYmFzZTY0IGRhdGEgVVJJIHdpdGhvdXQgWEhSLCBzaW5jZSBzb21lIGJyb3dzZXJzIGRvbid0IHN1cHBvcnQgaXQuXG4gICAgICB2YXIgZGF0YSA9IGF0b2IodXJsLnNwbGl0KCcsJylbMV0pO1xuICAgICAgdmFyIGRhdGFWaWV3ID0gbmV3IFVpbnQ4QXJyYXkoZGF0YS5sZW5ndGgpO1xuICAgICAgZm9yICh2YXIgaT0wOyBpPGRhdGEubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgZGF0YVZpZXdbaV0gPSBkYXRhLmNoYXJDb2RlQXQoaSk7XG4gICAgICB9XG5cbiAgICAgIGRlY29kZUF1ZGlvRGF0YShkYXRhVmlldy5idWZmZXIsIHNlbGYpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBMb2FkIHRoZSBidWZmZXIgZnJvbSB0aGUgVVJMLlxuICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgICAgeGhyLm9wZW4oJ0dFVCcsIHVybCwgdHJ1ZSk7XG4gICAgICB4aHIud2l0aENyZWRlbnRpYWxzID0gc2VsZi5feGhyV2l0aENyZWRlbnRpYWxzO1xuICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9ICdhcnJheWJ1ZmZlcic7XG4gICAgICB4aHIub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIE1ha2Ugc3VyZSB3ZSBnZXQgYSBzdWNjZXNzZnVsIHJlc3BvbnNlIGJhY2suXG4gICAgICAgIHZhciBjb2RlID0gKHhoci5zdGF0dXMgKyAnJylbMF07XG4gICAgICAgIGlmIChjb2RlICE9PSAnMCcgJiYgY29kZSAhPT0gJzInICYmIGNvZGUgIT09ICczJykge1xuICAgICAgICAgIHNlbGYuX2VtaXQoJ2xvYWRlcnJvcicsIG51bGwsICdGYWlsZWQgbG9hZGluZyBhdWRpbyBmaWxlIHdpdGggc3RhdHVzOiAnICsgeGhyLnN0YXR1cyArICcuJyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgZGVjb2RlQXVkaW9EYXRhKHhoci5yZXNwb25zZSwgc2VsZik7XG4gICAgICB9O1xuICAgICAgeGhyLm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gSWYgdGhlcmUgaXMgYW4gZXJyb3IsIHN3aXRjaCB0byBIVE1MNSBBdWRpby5cbiAgICAgICAgaWYgKHNlbGYuX3dlYkF1ZGlvKSB7XG4gICAgICAgICAgc2VsZi5faHRtbDUgPSB0cnVlO1xuICAgICAgICAgIHNlbGYuX3dlYkF1ZGlvID0gZmFsc2U7XG4gICAgICAgICAgc2VsZi5fc291bmRzID0gW107XG4gICAgICAgICAgZGVsZXRlIGNhY2hlW3VybF07XG4gICAgICAgICAgc2VsZi5sb2FkKCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBzYWZlWGhyU2VuZCh4aHIpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogU2VuZCB0aGUgWEhSIHJlcXVlc3Qgd3JhcHBlZCBpbiBhIHRyeS9jYXRjaC5cbiAgICogQHBhcmFtICB7T2JqZWN0fSB4aHIgWEhSIHRvIHNlbmQuXG4gICAqL1xuICB2YXIgc2FmZVhoclNlbmQgPSBmdW5jdGlvbih4aHIpIHtcbiAgICB0cnkge1xuICAgICAgeGhyLnNlbmQoKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICB4aHIub25lcnJvcigpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogRGVjb2RlIGF1ZGlvIGRhdGEgZnJvbSBhbiBhcnJheSBidWZmZXIuXG4gICAqIEBwYXJhbSAge0FycmF5QnVmZmVyfSBhcnJheWJ1ZmZlciBUaGUgYXVkaW8gZGF0YS5cbiAgICogQHBhcmFtICB7SG93bH0gICAgICAgIHNlbGZcbiAgICovXG4gIHZhciBkZWNvZGVBdWRpb0RhdGEgPSBmdW5jdGlvbihhcnJheWJ1ZmZlciwgc2VsZikge1xuICAgIC8vIEZpcmUgYSBsb2FkIGVycm9yIGlmIHNvbWV0aGluZyBicm9rZS5cbiAgICB2YXIgZXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgICAgIHNlbGYuX2VtaXQoJ2xvYWRlcnJvcicsIG51bGwsICdEZWNvZGluZyBhdWRpbyBkYXRhIGZhaWxlZC4nKTtcbiAgICB9O1xuXG4gICAgLy8gTG9hZCB0aGUgc291bmQgb24gc3VjY2Vzcy5cbiAgICB2YXIgc3VjY2VzcyA9IGZ1bmN0aW9uKGJ1ZmZlcikge1xuICAgICAgaWYgKGJ1ZmZlciAmJiBzZWxmLl9zb3VuZHMubGVuZ3RoID4gMCkge1xuICAgICAgICBjYWNoZVtzZWxmLl9zcmNdID0gYnVmZmVyO1xuICAgICAgICBsb2FkU291bmQoc2VsZiwgYnVmZmVyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVycm9yKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIC8vIERlY29kZSB0aGUgYnVmZmVyIGludG8gYW4gYXVkaW8gc291cmNlLlxuICAgIGlmICh0eXBlb2YgUHJvbWlzZSAhPT0gJ3VuZGVmaW5lZCcgJiYgSG93bGVyLmN0eC5kZWNvZGVBdWRpb0RhdGEubGVuZ3RoID09PSAxKSB7XG4gICAgICBIb3dsZXIuY3R4LmRlY29kZUF1ZGlvRGF0YShhcnJheWJ1ZmZlcikudGhlbihzdWNjZXNzKS5jYXRjaChlcnJvcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIEhvd2xlci5jdHguZGVjb2RlQXVkaW9EYXRhKGFycmF5YnVmZmVyLCBzdWNjZXNzLCBlcnJvcik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNvdW5kIGlzIG5vdyBsb2FkZWQsIHNvIGZpbmlzaCBzZXR0aW5nIGV2ZXJ5dGhpbmcgdXAgYW5kIGZpcmUgdGhlIGxvYWRlZCBldmVudC5cbiAgICogQHBhcmFtICB7SG93bH0gc2VsZlxuICAgKiBAcGFyYW0gIHtPYmplY3R9IGJ1ZmZlciBUaGUgZGVjb2RlZCBidWZmZXIgc291bmQgc291cmNlLlxuICAgKi9cbiAgdmFyIGxvYWRTb3VuZCA9IGZ1bmN0aW9uKHNlbGYsIGJ1ZmZlcikge1xuICAgIC8vIFNldCB0aGUgZHVyYXRpb24uXG4gICAgaWYgKGJ1ZmZlciAmJiAhc2VsZi5fZHVyYXRpb24pIHtcbiAgICAgIHNlbGYuX2R1cmF0aW9uID0gYnVmZmVyLmR1cmF0aW9uO1xuICAgIH1cblxuICAgIC8vIFNldHVwIGEgc3ByaXRlIGlmIG5vbmUgaXMgZGVmaW5lZC5cbiAgICBpZiAoT2JqZWN0LmtleXMoc2VsZi5fc3ByaXRlKS5sZW5ndGggPT09IDApIHtcbiAgICAgIHNlbGYuX3Nwcml0ZSA9IHtfX2RlZmF1bHQ6IFswLCBzZWxmLl9kdXJhdGlvbiAqIDEwMDBdfTtcbiAgICB9XG5cbiAgICAvLyBGaXJlIHRoZSBsb2FkZWQgZXZlbnQuXG4gICAgaWYgKHNlbGYuX3N0YXRlICE9PSAnbG9hZGVkJykge1xuICAgICAgc2VsZi5fc3RhdGUgPSAnbG9hZGVkJztcbiAgICAgIHNlbGYuX2VtaXQoJ2xvYWQnKTtcbiAgICAgIHNlbGYuX2xvYWRRdWV1ZSgpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogU2V0dXAgdGhlIGF1ZGlvIGNvbnRleHQgd2hlbiBhdmFpbGFibGUsIG9yIHN3aXRjaCB0byBIVE1MNSBBdWRpbyBtb2RlLlxuICAgKi9cbiAgdmFyIHNldHVwQXVkaW9Db250ZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgLy8gSWYgd2UgaGF2ZSBhbHJlYWR5IGRldGVjdGVkIHRoYXQgV2ViIEF1ZGlvIGlzbid0IHN1cHBvcnRlZCwgZG9uJ3QgcnVuIHRoaXMgc3RlcCBhZ2Fpbi5cbiAgICBpZiAoIUhvd2xlci51c2luZ1dlYkF1ZGlvKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgaWYgd2UgYXJlIHVzaW5nIFdlYiBBdWRpbyBhbmQgc2V0dXAgdGhlIEF1ZGlvQ29udGV4dCBpZiB3ZSBhcmUuXG4gICAgdHJ5IHtcbiAgICAgIGlmICh0eXBlb2YgQXVkaW9Db250ZXh0ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBIb3dsZXIuY3R4ID0gbmV3IEF1ZGlvQ29udGV4dCgpO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygd2Via2l0QXVkaW9Db250ZXh0ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBIb3dsZXIuY3R4ID0gbmV3IHdlYmtpdEF1ZGlvQ29udGV4dCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgSG93bGVyLnVzaW5nV2ViQXVkaW8gPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9IGNhdGNoKGUpIHtcbiAgICAgIEhvd2xlci51c2luZ1dlYkF1ZGlvID0gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gSWYgdGhlIGF1ZGlvIGNvbnRleHQgY3JlYXRpb24gc3RpbGwgZmFpbGVkLCBzZXQgdXNpbmcgd2ViIGF1ZGlvIHRvIGZhbHNlLlxuICAgIGlmICghSG93bGVyLmN0eCkge1xuICAgICAgSG93bGVyLnVzaW5nV2ViQXVkaW8gPSBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBDaGVjayBpZiBhIHdlYnZpZXcgaXMgYmVpbmcgdXNlZCBvbiBpT1M4IG9yIGVhcmxpZXIgKHJhdGhlciB0aGFuIHRoZSBicm93c2VyKS5cbiAgICAvLyBJZiBpdCBpcywgZGlzYWJsZSBXZWIgQXVkaW8gYXMgaXQgY2F1c2VzIGNyYXNoaW5nLlxuICAgIHZhciBpT1MgPSAoL2lQKGhvbmV8b2R8YWQpLy50ZXN0KEhvd2xlci5fbmF2aWdhdG9yICYmIEhvd2xlci5fbmF2aWdhdG9yLnBsYXRmb3JtKSk7XG4gICAgdmFyIGFwcFZlcnNpb24gPSBIb3dsZXIuX25hdmlnYXRvciAmJiBIb3dsZXIuX25hdmlnYXRvci5hcHBWZXJzaW9uLm1hdGNoKC9PUyAoXFxkKylfKFxcZCspXz8oXFxkKyk/Lyk7XG4gICAgdmFyIHZlcnNpb24gPSBhcHBWZXJzaW9uID8gcGFyc2VJbnQoYXBwVmVyc2lvblsxXSwgMTApIDogbnVsbDtcbiAgICBpZiAoaU9TICYmIHZlcnNpb24gJiYgdmVyc2lvbiA8IDkpIHtcbiAgICAgIHZhciBzYWZhcmkgPSAvc2FmYXJpLy50ZXN0KEhvd2xlci5fbmF2aWdhdG9yICYmIEhvd2xlci5fbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpKTtcbiAgICAgIGlmIChIb3dsZXIuX25hdmlnYXRvciAmJiBIb3dsZXIuX25hdmlnYXRvci5zdGFuZGFsb25lICYmICFzYWZhcmkgfHwgSG93bGVyLl9uYXZpZ2F0b3IgJiYgIUhvd2xlci5fbmF2aWdhdG9yLnN0YW5kYWxvbmUgJiYgIXNhZmFyaSkge1xuICAgICAgICBIb3dsZXIudXNpbmdXZWJBdWRpbyA9IGZhbHNlO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIENyZWF0ZSBhbmQgZXhwb3NlIHRoZSBtYXN0ZXIgR2Fpbk5vZGUgd2hlbiB1c2luZyBXZWIgQXVkaW8gKHVzZWZ1bCBmb3IgcGx1Z2lucyBvciBhZHZhbmNlZCB1c2FnZSkuXG4gICAgaWYgKEhvd2xlci51c2luZ1dlYkF1ZGlvKSB7XG4gICAgICBIb3dsZXIubWFzdGVyR2FpbiA9ICh0eXBlb2YgSG93bGVyLmN0eC5jcmVhdGVHYWluID09PSAndW5kZWZpbmVkJykgPyBIb3dsZXIuY3R4LmNyZWF0ZUdhaW5Ob2RlKCkgOiBIb3dsZXIuY3R4LmNyZWF0ZUdhaW4oKTtcbiAgICAgIEhvd2xlci5tYXN0ZXJHYWluLmdhaW4uc2V0VmFsdWVBdFRpbWUoSG93bGVyLl9tdXRlZCA/IDAgOiAxLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcbiAgICAgIEhvd2xlci5tYXN0ZXJHYWluLmNvbm5lY3QoSG93bGVyLmN0eC5kZXN0aW5hdGlvbik7XG4gICAgfVxuXG4gICAgLy8gUmUtcnVuIHRoZSBzZXR1cCBvbiBIb3dsZXIuXG4gICAgSG93bGVyLl9zZXR1cCgpO1xuICB9O1xuXG4gIC8vIEFkZCBzdXBwb3J0IGZvciBBTUQgKEFzeW5jaHJvbm91cyBNb2R1bGUgRGVmaW5pdGlvbikgbGlicmFyaWVzIHN1Y2ggYXMgcmVxdWlyZS5qcy5cbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgIGRlZmluZShbXSwgZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBIb3dsZXI6IEhvd2xlcixcbiAgICAgICAgSG93bDogSG93bFxuICAgICAgfTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIEFkZCBzdXBwb3J0IGZvciBDb21tb25KUyBsaWJyYXJpZXMgc3VjaCBhcyBicm93c2VyaWZ5LlxuICBpZiAodHlwZW9mIGV4cG9ydHMgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgZXhwb3J0cy5Ib3dsZXIgPSBIb3dsZXI7XG4gICAgZXhwb3J0cy5Ib3dsID0gSG93bDtcbiAgfVxuXG4gIC8vIERlZmluZSBnbG9iYWxseSBpbiBjYXNlIEFNRCBpcyBub3QgYXZhaWxhYmxlIG9yIHVudXNlZC5cbiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgd2luZG93Lkhvd2xlckdsb2JhbCA9IEhvd2xlckdsb2JhbDtcbiAgICB3aW5kb3cuSG93bGVyID0gSG93bGVyO1xuICAgIHdpbmRvdy5Ib3dsID0gSG93bDtcbiAgICB3aW5kb3cuU291bmQgPSBTb3VuZDtcbiAgfSBlbHNlIGlmICh0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJykgeyAvLyBBZGQgdG8gZ2xvYmFsIGluIE5vZGUuanMgKGZvciB0ZXN0aW5nLCBldGMpLlxuICAgIGdsb2JhbC5Ib3dsZXJHbG9iYWwgPSBIb3dsZXJHbG9iYWw7XG4gICAgZ2xvYmFsLkhvd2xlciA9IEhvd2xlcjtcbiAgICBnbG9iYWwuSG93bCA9IEhvd2w7XG4gICAgZ2xvYmFsLlNvdW5kID0gU291bmQ7XG4gIH1cbn0pKCk7XG5cblxuLyohXG4gKiAgU3BhdGlhbCBQbHVnaW4gLSBBZGRzIHN1cHBvcnQgZm9yIHN0ZXJlbyBhbmQgM0QgYXVkaW8gd2hlcmUgV2ViIEF1ZGlvIGlzIHN1cHBvcnRlZC5cbiAqICBcbiAqICBob3dsZXIuanMgdjIuMS4yXG4gKiAgaG93bGVyanMuY29tXG4gKlxuICogIChjKSAyMDEzLTIwMTksIEphbWVzIFNpbXBzb24gb2YgR29sZEZpcmUgU3R1ZGlvc1xuICogIGdvbGRmaXJlc3R1ZGlvcy5jb21cbiAqXG4gKiAgTUlUIExpY2Vuc2VcbiAqL1xuXG4oZnVuY3Rpb24oKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8vIFNldHVwIGRlZmF1bHQgcHJvcGVydGllcy5cbiAgSG93bGVyR2xvYmFsLnByb3RvdHlwZS5fcG9zID0gWzAsIDAsIDBdO1xuICBIb3dsZXJHbG9iYWwucHJvdG90eXBlLl9vcmllbnRhdGlvbiA9IFswLCAwLCAtMSwgMCwgMSwgMF07XG5cbiAgLyoqIEdsb2JhbCBNZXRob2RzICoqL1xuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4gIC8qKlxuICAgKiBIZWxwZXIgbWV0aG9kIHRvIHVwZGF0ZSB0aGUgc3RlcmVvIHBhbm5pbmcgcG9zaXRpb24gb2YgYWxsIGN1cnJlbnQgSG93bHMuXG4gICAqIEZ1dHVyZSBIb3dscyB3aWxsIG5vdCB1c2UgdGhpcyB2YWx1ZSB1bmxlc3MgZXhwbGljaXRseSBzZXQuXG4gICAqIEBwYXJhbSAge051bWJlcn0gcGFuIEEgdmFsdWUgb2YgLTEuMCBpcyBhbGwgdGhlIHdheSBsZWZ0IGFuZCAxLjAgaXMgYWxsIHRoZSB3YXkgcmlnaHQuXG4gICAqIEByZXR1cm4ge0hvd2xlci9OdW1iZXJ9ICAgICBTZWxmIG9yIGN1cnJlbnQgc3RlcmVvIHBhbm5pbmcgdmFsdWUuXG4gICAqL1xuICBIb3dsZXJHbG9iYWwucHJvdG90eXBlLnN0ZXJlbyA9IGZ1bmN0aW9uKHBhbikge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIC8vIFN0b3AgcmlnaHQgaGVyZSBpZiBub3QgdXNpbmcgV2ViIEF1ZGlvLlxuICAgIGlmICghc2VsZi5jdHggfHwgIXNlbGYuY3R4Lmxpc3RlbmVyKSB7XG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9XG5cbiAgICAvLyBMb29wIHRocm91Z2ggYWxsIEhvd2xzIGFuZCB1cGRhdGUgdGhlaXIgc3RlcmVvIHBhbm5pbmcuXG4gICAgZm9yICh2YXIgaT1zZWxmLl9ob3dscy5sZW5ndGgtMTsgaT49MDsgaS0tKSB7XG4gICAgICBzZWxmLl9ob3dsc1tpXS5zdGVyZW8ocGFuKTtcbiAgICB9XG5cbiAgICByZXR1cm4gc2VsZjtcbiAgfTtcblxuICAvKipcbiAgICogR2V0L3NldCB0aGUgcG9zaXRpb24gb2YgdGhlIGxpc3RlbmVyIGluIDNEIGNhcnRlc2lhbiBzcGFjZS4gU291bmRzIHVzaW5nXG4gICAqIDNEIHBvc2l0aW9uIHdpbGwgYmUgcmVsYXRpdmUgdG8gdGhlIGxpc3RlbmVyJ3MgcG9zaXRpb24uXG4gICAqIEBwYXJhbSAge051bWJlcn0geCBUaGUgeC1wb3NpdGlvbiBvZiB0aGUgbGlzdGVuZXIuXG4gICAqIEBwYXJhbSAge051bWJlcn0geSBUaGUgeS1wb3NpdGlvbiBvZiB0aGUgbGlzdGVuZXIuXG4gICAqIEBwYXJhbSAge051bWJlcn0geiBUaGUgei1wb3NpdGlvbiBvZiB0aGUgbGlzdGVuZXIuXG4gICAqIEByZXR1cm4ge0hvd2xlci9BcnJheX0gICBTZWxmIG9yIGN1cnJlbnQgbGlzdGVuZXIgcG9zaXRpb24uXG4gICAqL1xuICBIb3dsZXJHbG9iYWwucHJvdG90eXBlLnBvcyA9IGZ1bmN0aW9uKHgsIHksIHopIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAvLyBTdG9wIHJpZ2h0IGhlcmUgaWYgbm90IHVzaW5nIFdlYiBBdWRpby5cbiAgICBpZiAoIXNlbGYuY3R4IHx8ICFzZWxmLmN0eC5saXN0ZW5lcikge1xuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfVxuXG4gICAgLy8gU2V0IHRoZSBkZWZhdWx0cyBmb3Igb3B0aW9uYWwgJ3knICYgJ3onLlxuICAgIHkgPSAodHlwZW9mIHkgIT09ICdudW1iZXInKSA/IHNlbGYuX3Bvc1sxXSA6IHk7XG4gICAgeiA9ICh0eXBlb2YgeiAhPT0gJ251bWJlcicpID8gc2VsZi5fcG9zWzJdIDogejtcblxuICAgIGlmICh0eXBlb2YgeCA9PT0gJ251bWJlcicpIHtcbiAgICAgIHNlbGYuX3BvcyA9IFt4LCB5LCB6XTtcblxuICAgICAgaWYgKHR5cGVvZiBzZWxmLmN0eC5saXN0ZW5lci5wb3NpdGlvblggIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHNlbGYuY3R4Lmxpc3RlbmVyLnBvc2l0aW9uWC5zZXRUYXJnZXRBdFRpbWUoc2VsZi5fcG9zWzBdLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lLCAwLjEpO1xuICAgICAgICBzZWxmLmN0eC5saXN0ZW5lci5wb3NpdGlvblkuc2V0VGFyZ2V0QXRUaW1lKHNlbGYuX3Bvc1sxXSwgSG93bGVyLmN0eC5jdXJyZW50VGltZSwgMC4xKTtcbiAgICAgICAgc2VsZi5jdHgubGlzdGVuZXIucG9zaXRpb25aLnNldFRhcmdldEF0VGltZShzZWxmLl9wb3NbMl0sIEhvd2xlci5jdHguY3VycmVudFRpbWUsIDAuMSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZWxmLmN0eC5saXN0ZW5lci5zZXRQb3NpdGlvbihzZWxmLl9wb3NbMF0sIHNlbGYuX3Bvc1sxXSwgc2VsZi5fcG9zWzJdKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHNlbGYuX3BvcztcbiAgICB9XG5cbiAgICByZXR1cm4gc2VsZjtcbiAgfTtcblxuICAvKipcbiAgICogR2V0L3NldCB0aGUgZGlyZWN0aW9uIHRoZSBsaXN0ZW5lciBpcyBwb2ludGluZyBpbiB0aGUgM0QgY2FydGVzaWFuIHNwYWNlLlxuICAgKiBBIGZyb250IGFuZCB1cCB2ZWN0b3IgbXVzdCBiZSBwcm92aWRlZC4gVGhlIGZyb250IGlzIHRoZSBkaXJlY3Rpb24gdGhlXG4gICAqIGZhY2Ugb2YgdGhlIGxpc3RlbmVyIGlzIHBvaW50aW5nLCBhbmQgdXAgaXMgdGhlIGRpcmVjdGlvbiB0aGUgdG9wIG9mIHRoZVxuICAgKiBsaXN0ZW5lciBpcyBwb2ludGluZy4gVGh1cywgdGhlc2UgdmFsdWVzIGFyZSBleHBlY3RlZCB0byBiZSBhdCByaWdodCBhbmdsZXNcbiAgICogZnJvbSBlYWNoIG90aGVyLlxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHggICBUaGUgeC1vcmllbnRhdGlvbiBvZiB0aGUgbGlzdGVuZXIuXG4gICAqIEBwYXJhbSAge051bWJlcn0geSAgIFRoZSB5LW9yaWVudGF0aW9uIG9mIHRoZSBsaXN0ZW5lci5cbiAgICogQHBhcmFtICB7TnVtYmVyfSB6ICAgVGhlIHotb3JpZW50YXRpb24gb2YgdGhlIGxpc3RlbmVyLlxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHhVcCBUaGUgeC1vcmllbnRhdGlvbiBvZiB0aGUgdG9wIG9mIHRoZSBsaXN0ZW5lci5cbiAgICogQHBhcmFtICB7TnVtYmVyfSB5VXAgVGhlIHktb3JpZW50YXRpb24gb2YgdGhlIHRvcCBvZiB0aGUgbGlzdGVuZXIuXG4gICAqIEBwYXJhbSAge051bWJlcn0gelVwIFRoZSB6LW9yaWVudGF0aW9uIG9mIHRoZSB0b3Agb2YgdGhlIGxpc3RlbmVyLlxuICAgKiBAcmV0dXJuIHtIb3dsZXIvQXJyYXl9ICAgICBSZXR1cm5zIHNlbGYgb3IgdGhlIGN1cnJlbnQgb3JpZW50YXRpb24gdmVjdG9ycy5cbiAgICovXG4gIEhvd2xlckdsb2JhbC5wcm90b3R5cGUub3JpZW50YXRpb24gPSBmdW5jdGlvbih4LCB5LCB6LCB4VXAsIHlVcCwgelVwKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgLy8gU3RvcCByaWdodCBoZXJlIGlmIG5vdCB1c2luZyBXZWIgQXVkaW8uXG4gICAgaWYgKCFzZWxmLmN0eCB8fCAhc2VsZi5jdHgubGlzdGVuZXIpIHtcbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH1cblxuICAgIC8vIFNldCB0aGUgZGVmYXVsdHMgZm9yIG9wdGlvbmFsICd5JyAmICd6Jy5cbiAgICB2YXIgb3IgPSBzZWxmLl9vcmllbnRhdGlvbjtcbiAgICB5ID0gKHR5cGVvZiB5ICE9PSAnbnVtYmVyJykgPyBvclsxXSA6IHk7XG4gICAgeiA9ICh0eXBlb2YgeiAhPT0gJ251bWJlcicpID8gb3JbMl0gOiB6O1xuICAgIHhVcCA9ICh0eXBlb2YgeFVwICE9PSAnbnVtYmVyJykgPyBvclszXSA6IHhVcDtcbiAgICB5VXAgPSAodHlwZW9mIHlVcCAhPT0gJ251bWJlcicpID8gb3JbNF0gOiB5VXA7XG4gICAgelVwID0gKHR5cGVvZiB6VXAgIT09ICdudW1iZXInKSA/IG9yWzVdIDogelVwO1xuXG4gICAgaWYgKHR5cGVvZiB4ID09PSAnbnVtYmVyJykge1xuICAgICAgc2VsZi5fb3JpZW50YXRpb24gPSBbeCwgeSwgeiwgeFVwLCB5VXAsIHpVcF07XG5cbiAgICAgIGlmICh0eXBlb2Ygc2VsZi5jdHgubGlzdGVuZXIuZm9yd2FyZFggIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHNlbGYuY3R4Lmxpc3RlbmVyLmZvcndhcmRYLnNldFRhcmdldEF0VGltZSh4LCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lLCAwLjEpO1xuICAgICAgICBzZWxmLmN0eC5saXN0ZW5lci5mb3J3YXJkWS5zZXRUYXJnZXRBdFRpbWUoeSwgSG93bGVyLmN0eC5jdXJyZW50VGltZSwgMC4xKTtcbiAgICAgICAgc2VsZi5jdHgubGlzdGVuZXIuZm9yd2FyZFouc2V0VGFyZ2V0QXRUaW1lKHosIEhvd2xlci5jdHguY3VycmVudFRpbWUsIDAuMSk7XG4gICAgICAgIHNlbGYuY3R4Lmxpc3RlbmVyLnVwWC5zZXRUYXJnZXRBdFRpbWUoeCwgSG93bGVyLmN0eC5jdXJyZW50VGltZSwgMC4xKTtcbiAgICAgICAgc2VsZi5jdHgubGlzdGVuZXIudXBZLnNldFRhcmdldEF0VGltZSh5LCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lLCAwLjEpO1xuICAgICAgICBzZWxmLmN0eC5saXN0ZW5lci51cFouc2V0VGFyZ2V0QXRUaW1lKHosIEhvd2xlci5jdHguY3VycmVudFRpbWUsIDAuMSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZWxmLmN0eC5saXN0ZW5lci5zZXRPcmllbnRhdGlvbih4LCB5LCB6LCB4VXAsIHlVcCwgelVwKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG9yO1xuICAgIH1cblxuICAgIHJldHVybiBzZWxmO1xuICB9O1xuXG4gIC8qKiBHcm91cCBNZXRob2RzICoqL1xuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4gIC8qKlxuICAgKiBBZGQgbmV3IHByb3BlcnRpZXMgdG8gdGhlIGNvcmUgaW5pdC5cbiAgICogQHBhcmFtICB7RnVuY3Rpb259IF9zdXBlciBDb3JlIGluaXQgbWV0aG9kLlxuICAgKiBAcmV0dXJuIHtIb3dsfVxuICAgKi9cbiAgSG93bC5wcm90b3R5cGUuaW5pdCA9IChmdW5jdGlvbihfc3VwZXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24obykge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAvLyBTZXR1cCB1c2VyLWRlZmluZWQgZGVmYXVsdCBwcm9wZXJ0aWVzLlxuICAgICAgc2VsZi5fb3JpZW50YXRpb24gPSBvLm9yaWVudGF0aW9uIHx8IFsxLCAwLCAwXTtcbiAgICAgIHNlbGYuX3N0ZXJlbyA9IG8uc3RlcmVvIHx8IG51bGw7XG4gICAgICBzZWxmLl9wb3MgPSBvLnBvcyB8fCBudWxsO1xuICAgICAgc2VsZi5fcGFubmVyQXR0ciA9IHtcbiAgICAgICAgY29uZUlubmVyQW5nbGU6IHR5cGVvZiBvLmNvbmVJbm5lckFuZ2xlICE9PSAndW5kZWZpbmVkJyA/IG8uY29uZUlubmVyQW5nbGUgOiAzNjAsXG4gICAgICAgIGNvbmVPdXRlckFuZ2xlOiB0eXBlb2Ygby5jb25lT3V0ZXJBbmdsZSAhPT0gJ3VuZGVmaW5lZCcgPyBvLmNvbmVPdXRlckFuZ2xlIDogMzYwLFxuICAgICAgICBjb25lT3V0ZXJHYWluOiB0eXBlb2Ygby5jb25lT3V0ZXJHYWluICE9PSAndW5kZWZpbmVkJyA/IG8uY29uZU91dGVyR2FpbiA6IDAsXG4gICAgICAgIGRpc3RhbmNlTW9kZWw6IHR5cGVvZiBvLmRpc3RhbmNlTW9kZWwgIT09ICd1bmRlZmluZWQnID8gby5kaXN0YW5jZU1vZGVsIDogJ2ludmVyc2UnLFxuICAgICAgICBtYXhEaXN0YW5jZTogdHlwZW9mIG8ubWF4RGlzdGFuY2UgIT09ICd1bmRlZmluZWQnID8gby5tYXhEaXN0YW5jZSA6IDEwMDAwLFxuICAgICAgICBwYW5uaW5nTW9kZWw6IHR5cGVvZiBvLnBhbm5pbmdNb2RlbCAhPT0gJ3VuZGVmaW5lZCcgPyBvLnBhbm5pbmdNb2RlbCA6ICdIUlRGJyxcbiAgICAgICAgcmVmRGlzdGFuY2U6IHR5cGVvZiBvLnJlZkRpc3RhbmNlICE9PSAndW5kZWZpbmVkJyA/IG8ucmVmRGlzdGFuY2UgOiAxLFxuICAgICAgICByb2xsb2ZmRmFjdG9yOiB0eXBlb2Ygby5yb2xsb2ZmRmFjdG9yICE9PSAndW5kZWZpbmVkJyA/IG8ucm9sbG9mZkZhY3RvciA6IDFcbiAgICAgIH07XG5cbiAgICAgIC8vIFNldHVwIGV2ZW50IGxpc3RlbmVycy5cbiAgICAgIHNlbGYuX29uc3RlcmVvID0gby5vbnN0ZXJlbyA/IFt7Zm46IG8ub25zdGVyZW99XSA6IFtdO1xuICAgICAgc2VsZi5fb25wb3MgPSBvLm9ucG9zID8gW3tmbjogby5vbnBvc31dIDogW107XG4gICAgICBzZWxmLl9vbm9yaWVudGF0aW9uID0gby5vbm9yaWVudGF0aW9uID8gW3tmbjogby5vbm9yaWVudGF0aW9ufV0gOiBbXTtcblxuICAgICAgLy8gQ29tcGxldGUgaW5pdGlsaXphdGlvbiB3aXRoIGhvd2xlci5qcyBjb3JlJ3MgaW5pdCBmdW5jdGlvbi5cbiAgICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzLCBvKTtcbiAgICB9O1xuICB9KShIb3dsLnByb3RvdHlwZS5pbml0KTtcblxuICAvKipcbiAgICogR2V0L3NldCB0aGUgc3RlcmVvIHBhbm5pbmcgb2YgdGhlIGF1ZGlvIHNvdXJjZSBmb3IgdGhpcyBzb3VuZCBvciBhbGwgaW4gdGhlIGdyb3VwLlxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHBhbiAgQSB2YWx1ZSBvZiAtMS4wIGlzIGFsbCB0aGUgd2F5IGxlZnQgYW5kIDEuMCBpcyBhbGwgdGhlIHdheSByaWdodC5cbiAgICogQHBhcmFtICB7TnVtYmVyfSBpZCAob3B0aW9uYWwpIFRoZSBzb3VuZCBJRC4gSWYgbm9uZSBpcyBwYXNzZWQsIGFsbCBpbiBncm91cCB3aWxsIGJlIHVwZGF0ZWQuXG4gICAqIEByZXR1cm4ge0hvd2wvTnVtYmVyfSAgICBSZXR1cm5zIHNlbGYgb3IgdGhlIGN1cnJlbnQgc3RlcmVvIHBhbm5pbmcgdmFsdWUuXG4gICAqL1xuICBIb3dsLnByb3RvdHlwZS5zdGVyZW8gPSBmdW5jdGlvbihwYW4sIGlkKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgLy8gU3RvcCByaWdodCBoZXJlIGlmIG5vdCB1c2luZyBXZWIgQXVkaW8uXG4gICAgaWYgKCFzZWxmLl93ZWJBdWRpbykge1xuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfVxuXG4gICAgLy8gSWYgdGhlIHNvdW5kIGhhc24ndCBsb2FkZWQsIGFkZCBpdCB0byB0aGUgbG9hZCBxdWV1ZSB0byBjaGFuZ2Ugc3RlcmVvIHBhbiB3aGVuIGNhcGFibGUuXG4gICAgaWYgKHNlbGYuX3N0YXRlICE9PSAnbG9hZGVkJykge1xuICAgICAgc2VsZi5fcXVldWUucHVzaCh7XG4gICAgICAgIGV2ZW50OiAnc3RlcmVvJyxcbiAgICAgICAgYWN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICBzZWxmLnN0ZXJlbyhwYW4sIGlkKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGZvciBQYW5uZXJTdGVyZW9Ob2RlIHN1cHBvcnQgYW5kIGZhbGxiYWNrIHRvIFBhbm5lck5vZGUgaWYgaXQgZG9lc24ndCBleGlzdC5cbiAgICB2YXIgcGFubmVyVHlwZSA9ICh0eXBlb2YgSG93bGVyLmN0eC5jcmVhdGVTdGVyZW9QYW5uZXIgPT09ICd1bmRlZmluZWQnKSA/ICdzcGF0aWFsJyA6ICdzdGVyZW8nO1xuXG4gICAgLy8gU2V0dXAgdGhlIGdyb3VwJ3Mgc3RlcmVvIHBhbm5pbmcgaWYgbm8gSUQgaXMgcGFzc2VkLlxuICAgIGlmICh0eXBlb2YgaWQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAvLyBSZXR1cm4gdGhlIGdyb3VwJ3Mgc3RlcmVvIHBhbm5pbmcgaWYgbm8gcGFyYW1ldGVycyBhcmUgcGFzc2VkLlxuICAgICAgaWYgKHR5cGVvZiBwYW4gPT09ICdudW1iZXInKSB7XG4gICAgICAgIHNlbGYuX3N0ZXJlbyA9IHBhbjtcbiAgICAgICAgc2VsZi5fcG9zID0gW3BhbiwgMCwgMF07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gc2VsZi5fc3RlcmVvO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIENoYW5nZSB0aGUgc3RyZW8gcGFubmluZyBvZiBvbmUgb3IgYWxsIHNvdW5kcyBpbiBncm91cC5cbiAgICB2YXIgaWRzID0gc2VsZi5fZ2V0U291bmRJZHMoaWQpO1xuICAgIGZvciAodmFyIGk9MDsgaTxpZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIC8vIEdldCB0aGUgc291bmQuXG4gICAgICB2YXIgc291bmQgPSBzZWxmLl9zb3VuZEJ5SWQoaWRzW2ldKTtcblxuICAgICAgaWYgKHNvdW5kKSB7XG4gICAgICAgIGlmICh0eXBlb2YgcGFuID09PSAnbnVtYmVyJykge1xuICAgICAgICAgIHNvdW5kLl9zdGVyZW8gPSBwYW47XG4gICAgICAgICAgc291bmQuX3BvcyA9IFtwYW4sIDAsIDBdO1xuXG4gICAgICAgICAgaWYgKHNvdW5kLl9ub2RlKSB7XG4gICAgICAgICAgICAvLyBJZiB3ZSBhcmUgZmFsbGluZyBiYWNrLCBtYWtlIHN1cmUgdGhlIHBhbm5pbmdNb2RlbCBpcyBlcXVhbHBvd2VyLlxuICAgICAgICAgICAgc291bmQuX3Bhbm5lckF0dHIucGFubmluZ01vZGVsID0gJ2VxdWFscG93ZXInO1xuXG4gICAgICAgICAgICAvLyBDaGVjayBpZiB0aGVyZSBpcyBhIHBhbm5lciBzZXR1cCBhbmQgY3JlYXRlIGEgbmV3IG9uZSBpZiBub3QuXG4gICAgICAgICAgICBpZiAoIXNvdW5kLl9wYW5uZXIgfHwgIXNvdW5kLl9wYW5uZXIucGFuKSB7XG4gICAgICAgICAgICAgIHNldHVwUGFubmVyKHNvdW5kLCBwYW5uZXJUeXBlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHBhbm5lclR5cGUgPT09ICdzcGF0aWFsJykge1xuICAgICAgICAgICAgICBpZiAodHlwZW9mIHNvdW5kLl9wYW5uZXIucG9zaXRpb25YICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIHNvdW5kLl9wYW5uZXIucG9zaXRpb25YLnNldFZhbHVlQXRUaW1lKHBhbiwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XG4gICAgICAgICAgICAgICAgc291bmQuX3Bhbm5lci5wb3NpdGlvblkuc2V0VmFsdWVBdFRpbWUoMCwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XG4gICAgICAgICAgICAgICAgc291bmQuX3Bhbm5lci5wb3NpdGlvblouc2V0VmFsdWVBdFRpbWUoMCwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc291bmQuX3Bhbm5lci5zZXRQb3NpdGlvbihwYW4sIDAsIDApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzb3VuZC5fcGFubmVyLnBhbi5zZXRWYWx1ZUF0VGltZShwYW4sIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHNlbGYuX2VtaXQoJ3N0ZXJlbycsIHNvdW5kLl9pZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHNvdW5kLl9zdGVyZW87XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gc2VsZjtcbiAgfTtcblxuICAvKipcbiAgICogR2V0L3NldCB0aGUgM0Qgc3BhdGlhbCBwb3NpdGlvbiBvZiB0aGUgYXVkaW8gc291cmNlIGZvciB0aGlzIHNvdW5kIG9yIGdyb3VwIHJlbGF0aXZlIHRvIHRoZSBnbG9iYWwgbGlzdGVuZXIuXG4gICAqIEBwYXJhbSAge051bWJlcn0geCAgVGhlIHgtcG9zaXRpb24gb2YgdGhlIGF1ZGlvIHNvdXJjZS5cbiAgICogQHBhcmFtICB7TnVtYmVyfSB5ICBUaGUgeS1wb3NpdGlvbiBvZiB0aGUgYXVkaW8gc291cmNlLlxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHogIFRoZSB6LXBvc2l0aW9uIG9mIHRoZSBhdWRpbyBzb3VyY2UuXG4gICAqIEBwYXJhbSAge051bWJlcn0gaWQgKG9wdGlvbmFsKSBUaGUgc291bmQgSUQuIElmIG5vbmUgaXMgcGFzc2VkLCBhbGwgaW4gZ3JvdXAgd2lsbCBiZSB1cGRhdGVkLlxuICAgKiBAcmV0dXJuIHtIb3dsL0FycmF5fSAgICBSZXR1cm5zIHNlbGYgb3IgdGhlIGN1cnJlbnQgM0Qgc3BhdGlhbCBwb3NpdGlvbjogW3gsIHksIHpdLlxuICAgKi9cbiAgSG93bC5wcm90b3R5cGUucG9zID0gZnVuY3Rpb24oeCwgeSwgeiwgaWQpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAvLyBTdG9wIHJpZ2h0IGhlcmUgaWYgbm90IHVzaW5nIFdlYiBBdWRpby5cbiAgICBpZiAoIXNlbGYuX3dlYkF1ZGlvKSB7XG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9XG5cbiAgICAvLyBJZiB0aGUgc291bmQgaGFzbid0IGxvYWRlZCwgYWRkIGl0IHRvIHRoZSBsb2FkIHF1ZXVlIHRvIGNoYW5nZSBwb3NpdGlvbiB3aGVuIGNhcGFibGUuXG4gICAgaWYgKHNlbGYuX3N0YXRlICE9PSAnbG9hZGVkJykge1xuICAgICAgc2VsZi5fcXVldWUucHVzaCh7XG4gICAgICAgIGV2ZW50OiAncG9zJyxcbiAgICAgICAgYWN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICBzZWxmLnBvcyh4LCB5LCB6LCBpZCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9XG5cbiAgICAvLyBTZXQgdGhlIGRlZmF1bHRzIGZvciBvcHRpb25hbCAneScgJiAneicuXG4gICAgeSA9ICh0eXBlb2YgeSAhPT0gJ251bWJlcicpID8gMCA6IHk7XG4gICAgeiA9ICh0eXBlb2YgeiAhPT0gJ251bWJlcicpID8gLTAuNSA6IHo7XG5cbiAgICAvLyBTZXR1cCB0aGUgZ3JvdXAncyBzcGF0aWFsIHBvc2l0aW9uIGlmIG5vIElEIGlzIHBhc3NlZC5cbiAgICBpZiAodHlwZW9mIGlkID09PSAndW5kZWZpbmVkJykge1xuICAgICAgLy8gUmV0dXJuIHRoZSBncm91cCdzIHNwYXRpYWwgcG9zaXRpb24gaWYgbm8gcGFyYW1ldGVycyBhcmUgcGFzc2VkLlxuICAgICAgaWYgKHR5cGVvZiB4ID09PSAnbnVtYmVyJykge1xuICAgICAgICBzZWxmLl9wb3MgPSBbeCwgeSwgel07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gc2VsZi5fcG9zO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIENoYW5nZSB0aGUgc3BhdGlhbCBwb3NpdGlvbiBvZiBvbmUgb3IgYWxsIHNvdW5kcyBpbiBncm91cC5cbiAgICB2YXIgaWRzID0gc2VsZi5fZ2V0U291bmRJZHMoaWQpO1xuICAgIGZvciAodmFyIGk9MDsgaTxpZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIC8vIEdldCB0aGUgc291bmQuXG4gICAgICB2YXIgc291bmQgPSBzZWxmLl9zb3VuZEJ5SWQoaWRzW2ldKTtcblxuICAgICAgaWYgKHNvdW5kKSB7XG4gICAgICAgIGlmICh0eXBlb2YgeCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICBzb3VuZC5fcG9zID0gW3gsIHksIHpdO1xuXG4gICAgICAgICAgaWYgKHNvdW5kLl9ub2RlKSB7XG4gICAgICAgICAgICAvLyBDaGVjayBpZiB0aGVyZSBpcyBhIHBhbm5lciBzZXR1cCBhbmQgY3JlYXRlIGEgbmV3IG9uZSBpZiBub3QuXG4gICAgICAgICAgICBpZiAoIXNvdW5kLl9wYW5uZXIgfHwgc291bmQuX3Bhbm5lci5wYW4pIHtcbiAgICAgICAgICAgICAgc2V0dXBQYW5uZXIoc291bmQsICdzcGF0aWFsJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2Ygc291bmQuX3Bhbm5lci5wb3NpdGlvblggIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgIHNvdW5kLl9wYW5uZXIucG9zaXRpb25YLnNldFZhbHVlQXRUaW1lKHgsIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xuICAgICAgICAgICAgICBzb3VuZC5fcGFubmVyLnBvc2l0aW9uWS5zZXRWYWx1ZUF0VGltZSh5LCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcbiAgICAgICAgICAgICAgc291bmQuX3Bhbm5lci5wb3NpdGlvblouc2V0VmFsdWVBdFRpbWUoeiwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzb3VuZC5fcGFubmVyLnNldFBvc2l0aW9uKHgsIHksIHopO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHNlbGYuX2VtaXQoJ3BvcycsIHNvdW5kLl9pZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHNvdW5kLl9wb3M7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gc2VsZjtcbiAgfTtcblxuICAvKipcbiAgICogR2V0L3NldCB0aGUgZGlyZWN0aW9uIHRoZSBhdWRpbyBzb3VyY2UgaXMgcG9pbnRpbmcgaW4gdGhlIDNEIGNhcnRlc2lhbiBjb29yZGluYXRlXG4gICAqIHNwYWNlLiBEZXBlbmRpbmcgb24gaG93IGRpcmVjdGlvbiB0aGUgc291bmQgaXMsIGJhc2VkIG9uIHRoZSBgY29uZWAgYXR0cmlidXRlcyxcbiAgICogYSBzb3VuZCBwb2ludGluZyBhd2F5IGZyb20gdGhlIGxpc3RlbmVyIGNhbiBiZSBxdWlldCBvciBzaWxlbnQuXG4gICAqIEBwYXJhbSAge051bWJlcn0geCAgVGhlIHgtb3JpZW50YXRpb24gb2YgdGhlIHNvdXJjZS5cbiAgICogQHBhcmFtICB7TnVtYmVyfSB5ICBUaGUgeS1vcmllbnRhdGlvbiBvZiB0aGUgc291cmNlLlxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHogIFRoZSB6LW9yaWVudGF0aW9uIG9mIHRoZSBzb3VyY2UuXG4gICAqIEBwYXJhbSAge051bWJlcn0gaWQgKG9wdGlvbmFsKSBUaGUgc291bmQgSUQuIElmIG5vbmUgaXMgcGFzc2VkLCBhbGwgaW4gZ3JvdXAgd2lsbCBiZSB1cGRhdGVkLlxuICAgKiBAcmV0dXJuIHtIb3dsL0FycmF5fSAgICBSZXR1cm5zIHNlbGYgb3IgdGhlIGN1cnJlbnQgM0Qgc3BhdGlhbCBvcmllbnRhdGlvbjogW3gsIHksIHpdLlxuICAgKi9cbiAgSG93bC5wcm90b3R5cGUub3JpZW50YXRpb24gPSBmdW5jdGlvbih4LCB5LCB6LCBpZCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIC8vIFN0b3AgcmlnaHQgaGVyZSBpZiBub3QgdXNpbmcgV2ViIEF1ZGlvLlxuICAgIGlmICghc2VsZi5fd2ViQXVkaW8pIHtcbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH1cblxuICAgIC8vIElmIHRoZSBzb3VuZCBoYXNuJ3QgbG9hZGVkLCBhZGQgaXQgdG8gdGhlIGxvYWQgcXVldWUgdG8gY2hhbmdlIG9yaWVudGF0aW9uIHdoZW4gY2FwYWJsZS5cbiAgICBpZiAoc2VsZi5fc3RhdGUgIT09ICdsb2FkZWQnKSB7XG4gICAgICBzZWxmLl9xdWV1ZS5wdXNoKHtcbiAgICAgICAgZXZlbnQ6ICdvcmllbnRhdGlvbicsXG4gICAgICAgIGFjdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgc2VsZi5vcmllbnRhdGlvbih4LCB5LCB6LCBpZCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9XG5cbiAgICAvLyBTZXQgdGhlIGRlZmF1bHRzIGZvciBvcHRpb25hbCAneScgJiAneicuXG4gICAgeSA9ICh0eXBlb2YgeSAhPT0gJ251bWJlcicpID8gc2VsZi5fb3JpZW50YXRpb25bMV0gOiB5O1xuICAgIHogPSAodHlwZW9mIHogIT09ICdudW1iZXInKSA/IHNlbGYuX29yaWVudGF0aW9uWzJdIDogejtcblxuICAgIC8vIFNldHVwIHRoZSBncm91cCdzIHNwYXRpYWwgb3JpZW50YXRpb24gaWYgbm8gSUQgaXMgcGFzc2VkLlxuICAgIGlmICh0eXBlb2YgaWQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAvLyBSZXR1cm4gdGhlIGdyb3VwJ3Mgc3BhdGlhbCBvcmllbnRhdGlvbiBpZiBubyBwYXJhbWV0ZXJzIGFyZSBwYXNzZWQuXG4gICAgICBpZiAodHlwZW9mIHggPT09ICdudW1iZXInKSB7XG4gICAgICAgIHNlbGYuX29yaWVudGF0aW9uID0gW3gsIHksIHpdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHNlbGYuX29yaWVudGF0aW9uO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIENoYW5nZSB0aGUgc3BhdGlhbCBvcmllbnRhdGlvbiBvZiBvbmUgb3IgYWxsIHNvdW5kcyBpbiBncm91cC5cbiAgICB2YXIgaWRzID0gc2VsZi5fZ2V0U291bmRJZHMoaWQpO1xuICAgIGZvciAodmFyIGk9MDsgaTxpZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIC8vIEdldCB0aGUgc291bmQuXG4gICAgICB2YXIgc291bmQgPSBzZWxmLl9zb3VuZEJ5SWQoaWRzW2ldKTtcblxuICAgICAgaWYgKHNvdW5kKSB7XG4gICAgICAgIGlmICh0eXBlb2YgeCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICBzb3VuZC5fb3JpZW50YXRpb24gPSBbeCwgeSwgel07XG5cbiAgICAgICAgICBpZiAoc291bmQuX25vZGUpIHtcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZXJlIGlzIGEgcGFubmVyIHNldHVwIGFuZCBjcmVhdGUgYSBuZXcgb25lIGlmIG5vdC5cbiAgICAgICAgICAgIGlmICghc291bmQuX3Bhbm5lcikge1xuICAgICAgICAgICAgICAvLyBNYWtlIHN1cmUgd2UgaGF2ZSBhIHBvc2l0aW9uIHRvIHNldHVwIHRoZSBub2RlIHdpdGguXG4gICAgICAgICAgICAgIGlmICghc291bmQuX3Bvcykge1xuICAgICAgICAgICAgICAgIHNvdW5kLl9wb3MgPSBzZWxmLl9wb3MgfHwgWzAsIDAsIC0wLjVdO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgc2V0dXBQYW5uZXIoc291bmQsICdzcGF0aWFsJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2Ygc291bmQuX3Bhbm5lci5vcmllbnRhdGlvblggIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgIHNvdW5kLl9wYW5uZXIub3JpZW50YXRpb25YLnNldFZhbHVlQXRUaW1lKHgsIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xuICAgICAgICAgICAgICBzb3VuZC5fcGFubmVyLm9yaWVudGF0aW9uWS5zZXRWYWx1ZUF0VGltZSh5LCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcbiAgICAgICAgICAgICAgc291bmQuX3Bhbm5lci5vcmllbnRhdGlvblouc2V0VmFsdWVBdFRpbWUoeiwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzb3VuZC5fcGFubmVyLnNldE9yaWVudGF0aW9uKHgsIHksIHopO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHNlbGYuX2VtaXQoJ29yaWVudGF0aW9uJywgc291bmQuX2lkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gc291bmQuX29yaWVudGF0aW9uO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHNlbGY7XG4gIH07XG5cbiAgLyoqXG4gICAqIEdldC9zZXQgdGhlIHBhbm5lciBub2RlJ3MgYXR0cmlidXRlcyBmb3IgYSBzb3VuZCBvciBncm91cCBvZiBzb3VuZHMuXG4gICAqIFRoaXMgbWV0aG9kIGNhbiBvcHRpb25hbGwgdGFrZSAwLCAxIG9yIDIgYXJndW1lbnRzLlxuICAgKiAgIHBhbm5lckF0dHIoKSAtPiBSZXR1cm5zIHRoZSBncm91cCdzIHZhbHVlcy5cbiAgICogICBwYW5uZXJBdHRyKGlkKSAtPiBSZXR1cm5zIHRoZSBzb3VuZCBpZCdzIHZhbHVlcy5cbiAgICogICBwYW5uZXJBdHRyKG8pIC0+IFNldCdzIHRoZSB2YWx1ZXMgb2YgYWxsIHNvdW5kcyBpbiB0aGlzIEhvd2wgZ3JvdXAuXG4gICAqICAgcGFubmVyQXR0cihvLCBpZCkgLT4gU2V0J3MgdGhlIHZhbHVlcyBvZiBwYXNzZWQgc291bmQgaWQuXG4gICAqXG4gICAqICAgQXR0cmlidXRlczpcbiAgICogICAgIGNvbmVJbm5lckFuZ2xlIC0gKDM2MCBieSBkZWZhdWx0KSBBIHBhcmFtZXRlciBmb3IgZGlyZWN0aW9uYWwgYXVkaW8gc291cmNlcywgdGhpcyBpcyBhbiBhbmdsZSwgaW4gZGVncmVlcyxcbiAgICogICAgICAgICAgICAgICAgICAgICAgaW5zaWRlIG9mIHdoaWNoIHRoZXJlIHdpbGwgYmUgbm8gdm9sdW1lIHJlZHVjdGlvbi5cbiAgICogICAgIGNvbmVPdXRlckFuZ2xlIC0gKDM2MCBieSBkZWZhdWx0KSBBIHBhcmFtZXRlciBmb3IgZGlyZWN0aW9uYWwgYXVkaW8gc291cmNlcywgdGhpcyBpcyBhbiBhbmdsZSwgaW4gZGVncmVlcyxcbiAgICogICAgICAgICAgICAgICAgICAgICAgb3V0c2lkZSBvZiB3aGljaCB0aGUgdm9sdW1lIHdpbGwgYmUgcmVkdWNlZCB0byBhIGNvbnN0YW50IHZhbHVlIG9mIGBjb25lT3V0ZXJHYWluYC5cbiAgICogICAgIGNvbmVPdXRlckdhaW4gLSAoMCBieSBkZWZhdWx0KSBBIHBhcmFtZXRlciBmb3IgZGlyZWN0aW9uYWwgYXVkaW8gc291cmNlcywgdGhpcyBpcyB0aGUgZ2FpbiBvdXRzaWRlIG9mIHRoZVxuICAgKiAgICAgICAgICAgICAgICAgICAgIGBjb25lT3V0ZXJBbmdsZWAuIEl0IGlzIGEgbGluZWFyIHZhbHVlIGluIHRoZSByYW5nZSBgWzAsIDFdYC5cbiAgICogICAgIGRpc3RhbmNlTW9kZWwgLSAoJ2ludmVyc2UnIGJ5IGRlZmF1bHQpIERldGVybWluZXMgYWxnb3JpdGhtIHVzZWQgdG8gcmVkdWNlIHZvbHVtZSBhcyBhdWRpbyBtb3ZlcyBhd2F5IGZyb21cbiAgICogICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lci4gQ2FuIGJlIGBsaW5lYXJgLCBgaW52ZXJzZWAgb3IgYGV4cG9uZW50aWFsLlxuICAgKiAgICAgbWF4RGlzdGFuY2UgLSAoMTAwMDAgYnkgZGVmYXVsdCkgVGhlIG1heGltdW0gZGlzdGFuY2UgYmV0d2VlbiBzb3VyY2UgYW5kIGxpc3RlbmVyLCBhZnRlciB3aGljaCB0aGUgdm9sdW1lXG4gICAqICAgICAgICAgICAgICAgICAgIHdpbGwgbm90IGJlIHJlZHVjZWQgYW55IGZ1cnRoZXIuXG4gICAqICAgICByZWZEaXN0YW5jZSAtICgxIGJ5IGRlZmF1bHQpIEEgcmVmZXJlbmNlIGRpc3RhbmNlIGZvciByZWR1Y2luZyB2b2x1bWUgYXMgc291cmNlIG1vdmVzIGZ1cnRoZXIgZnJvbSB0aGUgbGlzdGVuZXIuXG4gICAqICAgICAgICAgICAgICAgICAgIFRoaXMgaXMgc2ltcGx5IGEgdmFyaWFibGUgb2YgdGhlIGRpc3RhbmNlIG1vZGVsIGFuZCBoYXMgYSBkaWZmZXJlbnQgZWZmZWN0IGRlcGVuZGluZyBvbiB3aGljaCBtb2RlbFxuICAgKiAgICAgICAgICAgICAgICAgICBpcyB1c2VkIGFuZCB0aGUgc2NhbGUgb2YgeW91ciBjb29yZGluYXRlcy4gR2VuZXJhbGx5LCB2b2x1bWUgd2lsbCBiZSBlcXVhbCB0byAxIGF0IHRoaXMgZGlzdGFuY2UuXG4gICAqICAgICByb2xsb2ZmRmFjdG9yIC0gKDEgYnkgZGVmYXVsdCkgSG93IHF1aWNrbHkgdGhlIHZvbHVtZSByZWR1Y2VzIGFzIHNvdXJjZSBtb3ZlcyBmcm9tIGxpc3RlbmVyLiBUaGlzIGlzIHNpbXBseSBhXG4gICAqICAgICAgICAgICAgICAgICAgICAgdmFyaWFibGUgb2YgdGhlIGRpc3RhbmNlIG1vZGVsIGFuZCBjYW4gYmUgaW4gdGhlIHJhbmdlIG9mIGBbMCwgMV1gIHdpdGggYGxpbmVhcmAgYW5kIGBbMCwg4oieXWBcbiAgICogICAgICAgICAgICAgICAgICAgICB3aXRoIGBpbnZlcnNlYCBhbmQgYGV4cG9uZW50aWFsYC5cbiAgICogICAgIHBhbm5pbmdNb2RlbCAtICgnSFJURicgYnkgZGVmYXVsdCkgRGV0ZXJtaW5lcyB3aGljaCBzcGF0aWFsaXphdGlvbiBhbGdvcml0aG0gaXMgdXNlZCB0byBwb3NpdGlvbiBhdWRpby5cbiAgICogICAgICAgICAgICAgICAgICAgICBDYW4gYmUgYEhSVEZgIG9yIGBlcXVhbHBvd2VyYC5cbiAgICpcbiAgICogQHJldHVybiB7SG93bC9PYmplY3R9IFJldHVybnMgc2VsZiBvciBjdXJyZW50IHBhbm5lciBhdHRyaWJ1dGVzLlxuICAgKi9cbiAgSG93bC5wcm90b3R5cGUucGFubmVyQXR0ciA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgICB2YXIgbywgaWQsIHNvdW5kO1xuXG4gICAgLy8gU3RvcCByaWdodCBoZXJlIGlmIG5vdCB1c2luZyBXZWIgQXVkaW8uXG4gICAgaWYgKCFzZWxmLl93ZWJBdWRpbykge1xuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfVxuXG4gICAgLy8gRGV0ZXJtaW5lIHRoZSB2YWx1ZXMgYmFzZWQgb24gYXJndW1lbnRzLlxuICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgLy8gUmV0dXJuIHRoZSBncm91cCdzIHBhbm5lciBhdHRyaWJ1dGUgdmFsdWVzLlxuICAgICAgcmV0dXJuIHNlbGYuX3Bhbm5lckF0dHI7XG4gICAgfSBlbHNlIGlmIChhcmdzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgaWYgKHR5cGVvZiBhcmdzWzBdID09PSAnb2JqZWN0Jykge1xuICAgICAgICBvID0gYXJnc1swXTtcblxuICAgICAgICAvLyBTZXQgdGhlIGdyb3UncyBwYW5uZXIgYXR0cmlidXRlIHZhbHVlcy5cbiAgICAgICAgaWYgKHR5cGVvZiBpZCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICBpZiAoIW8ucGFubmVyQXR0cikge1xuICAgICAgICAgICAgby5wYW5uZXJBdHRyID0ge1xuICAgICAgICAgICAgICBjb25lSW5uZXJBbmdsZTogby5jb25lSW5uZXJBbmdsZSxcbiAgICAgICAgICAgICAgY29uZU91dGVyQW5nbGU6IG8uY29uZU91dGVyQW5nbGUsXG4gICAgICAgICAgICAgIGNvbmVPdXRlckdhaW46IG8uY29uZU91dGVyR2FpbixcbiAgICAgICAgICAgICAgZGlzdGFuY2VNb2RlbDogby5kaXN0YW5jZU1vZGVsLFxuICAgICAgICAgICAgICBtYXhEaXN0YW5jZTogby5tYXhEaXN0YW5jZSxcbiAgICAgICAgICAgICAgcmVmRGlzdGFuY2U6IG8ucmVmRGlzdGFuY2UsXG4gICAgICAgICAgICAgIHJvbGxvZmZGYWN0b3I6IG8ucm9sbG9mZkZhY3RvcixcbiAgICAgICAgICAgICAgcGFubmluZ01vZGVsOiBvLnBhbm5pbmdNb2RlbFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBzZWxmLl9wYW5uZXJBdHRyID0ge1xuICAgICAgICAgICAgY29uZUlubmVyQW5nbGU6IHR5cGVvZiBvLnBhbm5lckF0dHIuY29uZUlubmVyQW5nbGUgIT09ICd1bmRlZmluZWQnID8gby5wYW5uZXJBdHRyLmNvbmVJbm5lckFuZ2xlIDogc2VsZi5fY29uZUlubmVyQW5nbGUsXG4gICAgICAgICAgICBjb25lT3V0ZXJBbmdsZTogdHlwZW9mIG8ucGFubmVyQXR0ci5jb25lT3V0ZXJBbmdsZSAhPT0gJ3VuZGVmaW5lZCcgPyBvLnBhbm5lckF0dHIuY29uZU91dGVyQW5nbGUgOiBzZWxmLl9jb25lT3V0ZXJBbmdsZSxcbiAgICAgICAgICAgIGNvbmVPdXRlckdhaW46IHR5cGVvZiBvLnBhbm5lckF0dHIuY29uZU91dGVyR2FpbiAhPT0gJ3VuZGVmaW5lZCcgPyBvLnBhbm5lckF0dHIuY29uZU91dGVyR2FpbiA6IHNlbGYuX2NvbmVPdXRlckdhaW4sXG4gICAgICAgICAgICBkaXN0YW5jZU1vZGVsOiB0eXBlb2Ygby5wYW5uZXJBdHRyLmRpc3RhbmNlTW9kZWwgIT09ICd1bmRlZmluZWQnID8gby5wYW5uZXJBdHRyLmRpc3RhbmNlTW9kZWwgOiBzZWxmLl9kaXN0YW5jZU1vZGVsLFxuICAgICAgICAgICAgbWF4RGlzdGFuY2U6IHR5cGVvZiBvLnBhbm5lckF0dHIubWF4RGlzdGFuY2UgIT09ICd1bmRlZmluZWQnID8gby5wYW5uZXJBdHRyLm1heERpc3RhbmNlIDogc2VsZi5fbWF4RGlzdGFuY2UsXG4gICAgICAgICAgICByZWZEaXN0YW5jZTogdHlwZW9mIG8ucGFubmVyQXR0ci5yZWZEaXN0YW5jZSAhPT0gJ3VuZGVmaW5lZCcgPyBvLnBhbm5lckF0dHIucmVmRGlzdGFuY2UgOiBzZWxmLl9yZWZEaXN0YW5jZSxcbiAgICAgICAgICAgIHJvbGxvZmZGYWN0b3I6IHR5cGVvZiBvLnBhbm5lckF0dHIucm9sbG9mZkZhY3RvciAhPT0gJ3VuZGVmaW5lZCcgPyBvLnBhbm5lckF0dHIucm9sbG9mZkZhY3RvciA6IHNlbGYuX3JvbGxvZmZGYWN0b3IsXG4gICAgICAgICAgICBwYW5uaW5nTW9kZWw6IHR5cGVvZiBvLnBhbm5lckF0dHIucGFubmluZ01vZGVsICE9PSAndW5kZWZpbmVkJyA/IG8ucGFubmVyQXR0ci5wYW5uaW5nTW9kZWwgOiBzZWxmLl9wYW5uaW5nTW9kZWxcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBSZXR1cm4gdGhpcyBzb3VuZCdzIHBhbm5lciBhdHRyaWJ1dGUgdmFsdWVzLlxuICAgICAgICBzb3VuZCA9IHNlbGYuX3NvdW5kQnlJZChwYXJzZUludChhcmdzWzBdLCAxMCkpO1xuICAgICAgICByZXR1cm4gc291bmQgPyBzb3VuZC5fcGFubmVyQXR0ciA6IHNlbGYuX3Bhbm5lckF0dHI7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChhcmdzLmxlbmd0aCA9PT0gMikge1xuICAgICAgbyA9IGFyZ3NbMF07XG4gICAgICBpZCA9IHBhcnNlSW50KGFyZ3NbMV0sIDEwKTtcbiAgICB9XG5cbiAgICAvLyBVcGRhdGUgdGhlIHZhbHVlcyBvZiB0aGUgc3BlY2lmaWVkIHNvdW5kcy5cbiAgICB2YXIgaWRzID0gc2VsZi5fZ2V0U291bmRJZHMoaWQpO1xuICAgIGZvciAodmFyIGk9MDsgaTxpZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKGlkc1tpXSk7XG5cbiAgICAgIGlmIChzb3VuZCkge1xuICAgICAgICAvLyBNZXJnZSB0aGUgbmV3IHZhbHVlcyBpbnRvIHRoZSBzb3VuZC5cbiAgICAgICAgdmFyIHBhID0gc291bmQuX3Bhbm5lckF0dHI7XG4gICAgICAgIHBhID0ge1xuICAgICAgICAgIGNvbmVJbm5lckFuZ2xlOiB0eXBlb2Ygby5jb25lSW5uZXJBbmdsZSAhPT0gJ3VuZGVmaW5lZCcgPyBvLmNvbmVJbm5lckFuZ2xlIDogcGEuY29uZUlubmVyQW5nbGUsXG4gICAgICAgICAgY29uZU91dGVyQW5nbGU6IHR5cGVvZiBvLmNvbmVPdXRlckFuZ2xlICE9PSAndW5kZWZpbmVkJyA/IG8uY29uZU91dGVyQW5nbGUgOiBwYS5jb25lT3V0ZXJBbmdsZSxcbiAgICAgICAgICBjb25lT3V0ZXJHYWluOiB0eXBlb2Ygby5jb25lT3V0ZXJHYWluICE9PSAndW5kZWZpbmVkJyA/IG8uY29uZU91dGVyR2FpbiA6IHBhLmNvbmVPdXRlckdhaW4sXG4gICAgICAgICAgZGlzdGFuY2VNb2RlbDogdHlwZW9mIG8uZGlzdGFuY2VNb2RlbCAhPT0gJ3VuZGVmaW5lZCcgPyBvLmRpc3RhbmNlTW9kZWwgOiBwYS5kaXN0YW5jZU1vZGVsLFxuICAgICAgICAgIG1heERpc3RhbmNlOiB0eXBlb2Ygby5tYXhEaXN0YW5jZSAhPT0gJ3VuZGVmaW5lZCcgPyBvLm1heERpc3RhbmNlIDogcGEubWF4RGlzdGFuY2UsXG4gICAgICAgICAgcmVmRGlzdGFuY2U6IHR5cGVvZiBvLnJlZkRpc3RhbmNlICE9PSAndW5kZWZpbmVkJyA/IG8ucmVmRGlzdGFuY2UgOiBwYS5yZWZEaXN0YW5jZSxcbiAgICAgICAgICByb2xsb2ZmRmFjdG9yOiB0eXBlb2Ygby5yb2xsb2ZmRmFjdG9yICE9PSAndW5kZWZpbmVkJyA/IG8ucm9sbG9mZkZhY3RvciA6IHBhLnJvbGxvZmZGYWN0b3IsXG4gICAgICAgICAgcGFubmluZ01vZGVsOiB0eXBlb2Ygby5wYW5uaW5nTW9kZWwgIT09ICd1bmRlZmluZWQnID8gby5wYW5uaW5nTW9kZWwgOiBwYS5wYW5uaW5nTW9kZWxcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBVcGRhdGUgdGhlIHBhbm5lciB2YWx1ZXMgb3IgY3JlYXRlIGEgbmV3IHBhbm5lciBpZiBub25lIGV4aXN0cy5cbiAgICAgICAgdmFyIHBhbm5lciA9IHNvdW5kLl9wYW5uZXI7XG4gICAgICAgIGlmIChwYW5uZXIpIHtcbiAgICAgICAgICBwYW5uZXIuY29uZUlubmVyQW5nbGUgPSBwYS5jb25lSW5uZXJBbmdsZTtcbiAgICAgICAgICBwYW5uZXIuY29uZU91dGVyQW5nbGUgPSBwYS5jb25lT3V0ZXJBbmdsZTtcbiAgICAgICAgICBwYW5uZXIuY29uZU91dGVyR2FpbiA9IHBhLmNvbmVPdXRlckdhaW47XG4gICAgICAgICAgcGFubmVyLmRpc3RhbmNlTW9kZWwgPSBwYS5kaXN0YW5jZU1vZGVsO1xuICAgICAgICAgIHBhbm5lci5tYXhEaXN0YW5jZSA9IHBhLm1heERpc3RhbmNlO1xuICAgICAgICAgIHBhbm5lci5yZWZEaXN0YW5jZSA9IHBhLnJlZkRpc3RhbmNlO1xuICAgICAgICAgIHBhbm5lci5yb2xsb2ZmRmFjdG9yID0gcGEucm9sbG9mZkZhY3RvcjtcbiAgICAgICAgICBwYW5uZXIucGFubmluZ01vZGVsID0gcGEucGFubmluZ01vZGVsO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIE1ha2Ugc3VyZSB3ZSBoYXZlIGEgcG9zaXRpb24gdG8gc2V0dXAgdGhlIG5vZGUgd2l0aC5cbiAgICAgICAgICBpZiAoIXNvdW5kLl9wb3MpIHtcbiAgICAgICAgICAgIHNvdW5kLl9wb3MgPSBzZWxmLl9wb3MgfHwgWzAsIDAsIC0wLjVdO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIENyZWF0ZSBhIG5ldyBwYW5uZXIgbm9kZS5cbiAgICAgICAgICBzZXR1cFBhbm5lcihzb3VuZCwgJ3NwYXRpYWwnKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzZWxmO1xuICB9O1xuXG4gIC8qKiBTaW5nbGUgU291bmQgTWV0aG9kcyAqKi9cbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuICAvKipcbiAgICogQWRkIG5ldyBwcm9wZXJ0aWVzIHRvIHRoZSBjb3JlIFNvdW5kIGluaXQuXG4gICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBfc3VwZXIgQ29yZSBTb3VuZCBpbml0IG1ldGhvZC5cbiAgICogQHJldHVybiB7U291bmR9XG4gICAqL1xuICBTb3VuZC5wcm90b3R5cGUuaW5pdCA9IChmdW5jdGlvbihfc3VwZXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgcGFyZW50ID0gc2VsZi5fcGFyZW50O1xuXG4gICAgICAvLyBTZXR1cCB1c2VyLWRlZmluZWQgZGVmYXVsdCBwcm9wZXJ0aWVzLlxuICAgICAgc2VsZi5fb3JpZW50YXRpb24gPSBwYXJlbnQuX29yaWVudGF0aW9uO1xuICAgICAgc2VsZi5fc3RlcmVvID0gcGFyZW50Ll9zdGVyZW87XG4gICAgICBzZWxmLl9wb3MgPSBwYXJlbnQuX3BvcztcbiAgICAgIHNlbGYuX3Bhbm5lckF0dHIgPSBwYXJlbnQuX3Bhbm5lckF0dHI7XG5cbiAgICAgIC8vIENvbXBsZXRlIGluaXRpbGl6YXRpb24gd2l0aCBob3dsZXIuanMgY29yZSBTb3VuZCdzIGluaXQgZnVuY3Rpb24uXG4gICAgICBfc3VwZXIuY2FsbCh0aGlzKTtcblxuICAgICAgLy8gSWYgYSBzdGVyZW8gb3IgcG9zaXRpb24gd2FzIHNwZWNpZmllZCwgc2V0IGl0IHVwLlxuICAgICAgaWYgKHNlbGYuX3N0ZXJlbykge1xuICAgICAgICBwYXJlbnQuc3RlcmVvKHNlbGYuX3N0ZXJlbyk7XG4gICAgICB9IGVsc2UgaWYgKHNlbGYuX3Bvcykge1xuICAgICAgICBwYXJlbnQucG9zKHNlbGYuX3Bvc1swXSwgc2VsZi5fcG9zWzFdLCBzZWxmLl9wb3NbMl0sIHNlbGYuX2lkKTtcbiAgICAgIH1cbiAgICB9O1xuICB9KShTb3VuZC5wcm90b3R5cGUuaW5pdCk7XG5cbiAgLyoqXG4gICAqIE92ZXJyaWRlIHRoZSBTb3VuZC5yZXNldCBtZXRob2QgdG8gY2xlYW4gdXAgcHJvcGVydGllcyBmcm9tIHRoZSBzcGF0aWFsIHBsdWdpbi5cbiAgICogQHBhcmFtICB7RnVuY3Rpb259IF9zdXBlciBTb3VuZCByZXNldCBtZXRob2QuXG4gICAqIEByZXR1cm4ge1NvdW5kfVxuICAgKi9cbiAgU291bmQucHJvdG90eXBlLnJlc2V0ID0gKGZ1bmN0aW9uKF9zdXBlcikge1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIHZhciBwYXJlbnQgPSBzZWxmLl9wYXJlbnQ7XG5cbiAgICAgIC8vIFJlc2V0IGFsbCBzcGF0aWFsIHBsdWdpbiBwcm9wZXJ0aWVzIG9uIHRoaXMgc291bmQuXG4gICAgICBzZWxmLl9vcmllbnRhdGlvbiA9IHBhcmVudC5fb3JpZW50YXRpb247XG4gICAgICBzZWxmLl9zdGVyZW8gPSBwYXJlbnQuX3N0ZXJlbztcbiAgICAgIHNlbGYuX3BvcyA9IHBhcmVudC5fcG9zO1xuICAgICAgc2VsZi5fcGFubmVyQXR0ciA9IHBhcmVudC5fcGFubmVyQXR0cjtcblxuICAgICAgLy8gSWYgYSBzdGVyZW8gb3IgcG9zaXRpb24gd2FzIHNwZWNpZmllZCwgc2V0IGl0IHVwLlxuICAgICAgaWYgKHNlbGYuX3N0ZXJlbykge1xuICAgICAgICBwYXJlbnQuc3RlcmVvKHNlbGYuX3N0ZXJlbyk7XG4gICAgICB9IGVsc2UgaWYgKHNlbGYuX3Bvcykge1xuICAgICAgICBwYXJlbnQucG9zKHNlbGYuX3Bvc1swXSwgc2VsZi5fcG9zWzFdLCBzZWxmLl9wb3NbMl0sIHNlbGYuX2lkKTtcbiAgICAgIH0gZWxzZSBpZiAoc2VsZi5fcGFubmVyKSB7XG4gICAgICAgIC8vIERpc2Nvbm5lY3QgdGhlIHBhbm5lci5cbiAgICAgICAgc2VsZi5fcGFubmVyLmRpc2Nvbm5lY3QoMCk7XG4gICAgICAgIHNlbGYuX3Bhbm5lciA9IHVuZGVmaW5lZDtcbiAgICAgICAgcGFyZW50Ll9yZWZyZXNoQnVmZmVyKHNlbGYpO1xuICAgICAgfVxuXG4gICAgICAvLyBDb21wbGV0ZSByZXNldHRpbmcgb2YgdGhlIHNvdW5kLlxuICAgICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMpO1xuICAgIH07XG4gIH0pKFNvdW5kLnByb3RvdHlwZS5yZXNldCk7XG5cbiAgLyoqIEhlbHBlciBNZXRob2RzICoqL1xuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgcGFubmVyIG5vZGUgYW5kIHNhdmUgaXQgb24gdGhlIHNvdW5kLlxuICAgKiBAcGFyYW0gIHtTb3VuZH0gc291bmQgU3BlY2lmaWMgc291bmQgdG8gc2V0dXAgcGFubmluZyBvbi5cbiAgICogQHBhcmFtIHtTdHJpbmd9IHR5cGUgVHlwZSBvZiBwYW5uZXIgdG8gY3JlYXRlOiAnc3RlcmVvJyBvciAnc3BhdGlhbCcuXG4gICAqL1xuICB2YXIgc2V0dXBQYW5uZXIgPSBmdW5jdGlvbihzb3VuZCwgdHlwZSkge1xuICAgIHR5cGUgPSB0eXBlIHx8ICdzcGF0aWFsJztcblxuICAgIC8vIENyZWF0ZSB0aGUgbmV3IHBhbm5lciBub2RlLlxuICAgIGlmICh0eXBlID09PSAnc3BhdGlhbCcpIHtcbiAgICAgIHNvdW5kLl9wYW5uZXIgPSBIb3dsZXIuY3R4LmNyZWF0ZVBhbm5lcigpO1xuICAgICAgc291bmQuX3Bhbm5lci5jb25lSW5uZXJBbmdsZSA9IHNvdW5kLl9wYW5uZXJBdHRyLmNvbmVJbm5lckFuZ2xlO1xuICAgICAgc291bmQuX3Bhbm5lci5jb25lT3V0ZXJBbmdsZSA9IHNvdW5kLl9wYW5uZXJBdHRyLmNvbmVPdXRlckFuZ2xlO1xuICAgICAgc291bmQuX3Bhbm5lci5jb25lT3V0ZXJHYWluID0gc291bmQuX3Bhbm5lckF0dHIuY29uZU91dGVyR2FpbjtcbiAgICAgIHNvdW5kLl9wYW5uZXIuZGlzdGFuY2VNb2RlbCA9IHNvdW5kLl9wYW5uZXJBdHRyLmRpc3RhbmNlTW9kZWw7XG4gICAgICBzb3VuZC5fcGFubmVyLm1heERpc3RhbmNlID0gc291bmQuX3Bhbm5lckF0dHIubWF4RGlzdGFuY2U7XG4gICAgICBzb3VuZC5fcGFubmVyLnJlZkRpc3RhbmNlID0gc291bmQuX3Bhbm5lckF0dHIucmVmRGlzdGFuY2U7XG4gICAgICBzb3VuZC5fcGFubmVyLnJvbGxvZmZGYWN0b3IgPSBzb3VuZC5fcGFubmVyQXR0ci5yb2xsb2ZmRmFjdG9yO1xuICAgICAgc291bmQuX3Bhbm5lci5wYW5uaW5nTW9kZWwgPSBzb3VuZC5fcGFubmVyQXR0ci5wYW5uaW5nTW9kZWw7XG5cbiAgICAgIGlmICh0eXBlb2Ygc291bmQuX3Bhbm5lci5wb3NpdGlvblggIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHNvdW5kLl9wYW5uZXIucG9zaXRpb25YLnNldFZhbHVlQXRUaW1lKHNvdW5kLl9wb3NbMF0sIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xuICAgICAgICBzb3VuZC5fcGFubmVyLnBvc2l0aW9uWS5zZXRWYWx1ZUF0VGltZShzb3VuZC5fcG9zWzFdLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcbiAgICAgICAgc291bmQuX3Bhbm5lci5wb3NpdGlvblouc2V0VmFsdWVBdFRpbWUoc291bmQuX3Bvc1syXSwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzb3VuZC5fcGFubmVyLnNldFBvc2l0aW9uKHNvdW5kLl9wb3NbMF0sIHNvdW5kLl9wb3NbMV0sIHNvdW5kLl9wb3NbMl0pO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIHNvdW5kLl9wYW5uZXIub3JpZW50YXRpb25YICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBzb3VuZC5fcGFubmVyLm9yaWVudGF0aW9uWC5zZXRWYWx1ZUF0VGltZShzb3VuZC5fb3JpZW50YXRpb25bMF0sIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xuICAgICAgICBzb3VuZC5fcGFubmVyLm9yaWVudGF0aW9uWS5zZXRWYWx1ZUF0VGltZShzb3VuZC5fb3JpZW50YXRpb25bMV0sIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xuICAgICAgICBzb3VuZC5fcGFubmVyLm9yaWVudGF0aW9uWi5zZXRWYWx1ZUF0VGltZShzb3VuZC5fb3JpZW50YXRpb25bMl0sIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc291bmQuX3Bhbm5lci5zZXRPcmllbnRhdGlvbihzb3VuZC5fb3JpZW50YXRpb25bMF0sIHNvdW5kLl9vcmllbnRhdGlvblsxXSwgc291bmQuX29yaWVudGF0aW9uWzJdKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc291bmQuX3Bhbm5lciA9IEhvd2xlci5jdHguY3JlYXRlU3RlcmVvUGFubmVyKCk7XG4gICAgICBzb3VuZC5fcGFubmVyLnBhbi5zZXRWYWx1ZUF0VGltZShzb3VuZC5fc3RlcmVvLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcbiAgICB9XG5cbiAgICBzb3VuZC5fcGFubmVyLmNvbm5lY3Qoc291bmQuX25vZGUpO1xuXG4gICAgLy8gVXBkYXRlIHRoZSBjb25uZWN0aW9ucy5cbiAgICBpZiAoIXNvdW5kLl9wYXVzZWQpIHtcbiAgICAgIHNvdW5kLl9wYXJlbnQucGF1c2Uoc291bmQuX2lkLCB0cnVlKS5wbGF5KHNvdW5kLl9pZCwgdHJ1ZSk7XG4gICAgfVxuICB9O1xufSkoKTtcbiIsIiFmdW5jdGlvbih0LGUpe1wib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlP21vZHVsZS5leHBvcnRzPWUoKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFwiTWFya292TlwiLFtdLGUpOlwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP2V4cG9ydHMuTWFya292Tj1lKCk6dC5NYXJrb3ZOPWUoKX0oXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjp0aGlzLGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBlPXt9O2Z1bmN0aW9uIG4ocil7aWYoZVtyXSlyZXR1cm4gZVtyXS5leHBvcnRzO3ZhciBvPWVbcl09e2k6cixsOiExLGV4cG9ydHM6e319O3JldHVybiB0W3JdLmNhbGwoby5leHBvcnRzLG8sby5leHBvcnRzLG4pLG8ubD0hMCxvLmV4cG9ydHN9cmV0dXJuIG4ubT10LG4uYz1lLG4uZD1mdW5jdGlvbih0LGUscil7bi5vKHQsZSl8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUse2VudW1lcmFibGU6ITAsZ2V0OnJ9KX0sbi5yPWZ1bmN0aW9uKHQpe1widW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC50b1N0cmluZ1RhZyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZTpcIk1vZHVsZVwifSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSl9LG4udD1mdW5jdGlvbih0LGUpe2lmKDEmZSYmKHQ9bih0KSksOCZlKXJldHVybiB0O2lmKDQmZSYmXCJvYmplY3RcIj09dHlwZW9mIHQmJnQmJnQuX19lc01vZHVsZSlyZXR1cm4gdDt2YXIgcj1PYmplY3QuY3JlYXRlKG51bGwpO2lmKG4ucihyKSxPYmplY3QuZGVmaW5lUHJvcGVydHkocixcImRlZmF1bHRcIix7ZW51bWVyYWJsZTohMCx2YWx1ZTp0fSksMiZlJiZcInN0cmluZ1wiIT10eXBlb2YgdClmb3IodmFyIG8gaW4gdCluLmQocixvLGZ1bmN0aW9uKGUpe3JldHVybiB0W2VdfS5iaW5kKG51bGwsbykpO3JldHVybiByfSxuLm49ZnVuY3Rpb24odCl7dmFyIGU9dCYmdC5fX2VzTW9kdWxlP2Z1bmN0aW9uKCl7cmV0dXJuIHQuZGVmYXVsdH06ZnVuY3Rpb24oKXtyZXR1cm4gdH07cmV0dXJuIG4uZChlLFwiYVwiLGUpLGV9LG4ubz1mdW5jdGlvbih0LGUpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxlKX0sbi5wPVwiXCIsbihuLnM9MCl9KFtmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7bi5yKGUpO2NvbnN0IHI9dD0+e2xldCBlPXQucmVkdWNlKCh0LGUpPT50K2UpLG49TWF0aC5yYW5kb20oKSplLHI9MDtmb3IobGV0IGU9MDtlPHQubGVuZ3RoO2UrKylpZihuPD0ocj0rKHIrPXRbZV0pLnRvRml4ZWQoMikpKXJldHVybiBlfSxvPXQ9PntsZXQgZT10LnJlZHVjZSgodCxlKT0+dCtlKTtyZXR1cm4gZT4wP3QubWFwKHQ9PnQvZSk6dC5tYXAoKCk9PjApfSxpPSh0LGUpPT57dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModCkscj1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhlKTtpZihuLmxlbmd0aCE9ci5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciBvPTA7bzxuLmxlbmd0aDtvKyspe3ZhciBpPW5bb107aWYodFtpXSE9PWVbaV0pcmV0dXJuITF9cmV0dXJuITB9LHM9KHQsZSk9Pih0JWUrZSklZTtuLmQoZSxcImdldEFsbFRyYW5zaXRpb25zXCIsZnVuY3Rpb24oKXtyZXR1cm4gYX0pLG4uZChlLFwiTWFya292TlwiLGZ1bmN0aW9uKCl7cmV0dXJuIGx9KTtjb25zdCBhPSh0LGUpPT50LnJlZHVjZSgobixyLG8pPT57Y29uc3QgaT1bXTtmb3IobGV0IG49ZTtuPj0wO24tLSlpLnB1c2godFtzKG8tbix0Lmxlbmd0aCldKTtyZXR1cm4gbi5wdXNoKGkpLG59LFtdKSx1PSh0LGUpPT57Y29uc3Qgbj1bLi4udF07cmV0dXJuIG4uc2hpZnQoKSxuLnB1c2goZSksbn07Y2xhc3MgbHtjb25zdHJ1Y3Rvcih0LGUpe3RoaXMuZGljdGlvbmFyeT1bXSx0aGlzLmNvbWJpbmF0aW9ucz1bXSx0aGlzLmxhc3RTdGF0ZT1bXTtmb3IobGV0IG49MDtuPGU7bisrKXRoaXMubGFzdFN0YXRlLnB1c2godFtuXSk7dGhpcy50cmFuc2l0aW9uTWF0cml4PXRoaXMuY3JlYXRlVHJhbnNpdGlvbk1hdHJpeCh0LGUpfWNyZWF0ZVRyYW5zaXRpb25NYXRyaXgodCxlKXt0aGlzLmRpY3Rpb25hcnk9QXJyYXkuZnJvbShuZXcgU2V0KHQpKSx0aGlzLmNvbWJpbmF0aW9ucz1hKHQsZSk7bGV0IG49W107Zm9yKGxldCB0PTA7dDx0aGlzLmNvbWJpbmF0aW9ucy5sZW5ndGg7dCsrKXtsZXQgdD1bXTtmb3IobGV0IGU9MDtlPHRoaXMuZGljdGlvbmFyeS5sZW5ndGg7ZSsrKXQucHVzaCgwKTtuLnB1c2godCl9Zm9yKGxldCByPTA7cjx0Lmxlbmd0aDtyKyspe2xldCBvPVtdO2ZvcihsZXQgbj1lO24+PTA7bi0tKW8ucHVzaCh0W3Moci1uLHQubGVuZ3RoKV0pO2xldCBhPXRoaXMuY29tYmluYXRpb25zLmZpbmRJbmRleCh0PT5pKG8sdCkpLHU9dFsocisxKSV0Lmxlbmd0aF0sbD10aGlzLmRpY3Rpb25hcnkuaW5kZXhPZih1KTtuW2FdW2xdKyt9cmV0dXJuIG49bi5tYXAobyl9Z2V0TmV4dFN0YXRlKHQpe2NvbnN0IGU9dGhpcy50cmFuc2l0aW9uTWF0cml4W3RoaXMuY29tYmluYXRpb25zLmZpbmRJbmRleChlPT5pKHQsZSkpXSxuPXIoZSk7cmV0dXJuIHRoaXMuZGljdGlvbmFyeVtuXX0qYXNQYXR0ZXJuKHQpe2Zvcih0aGlzLmxhc3RTdGF0ZT10Ozspe2xldCB0PXRoaXMuZ2V0TmV4dFN0YXRlKHRoaXMubGFzdFN0YXRlKTt0aGlzLmxhc3RTdGF0ZT11KHRoaXMubGFzdFN0YXRlLHQpLHlpZWxkIHR9fX1lLmRlZmF1bHQ9bH1dKX0pOyIsInZhciBnO1xuXG4vLyBUaGlzIHdvcmtzIGluIG5vbi1zdHJpY3QgbW9kZVxuZyA9IChmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXM7XG59KSgpO1xuXG50cnkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIGV2YWwgaXMgYWxsb3dlZCAoc2VlIENTUClcblx0ZyA9IGcgfHwgbmV3IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKTtcbn0gY2F0Y2ggKGUpIHtcblx0Ly8gVGhpcyB3b3JrcyBpZiB0aGUgd2luZG93IHJlZmVyZW5jZSBpcyBhdmFpbGFibGVcblx0aWYgKHR5cGVvZiB3aW5kb3cgPT09IFwib2JqZWN0XCIpIGcgPSB3aW5kb3c7XG59XG5cbi8vIGcgY2FuIHN0aWxsIGJlIHVuZGVmaW5lZCwgYnV0IG5vdGhpbmcgdG8gZG8gYWJvdXQgaXQuLi5cbi8vIFdlIHJldHVybiB1bmRlZmluZWQsIGluc3RlYWQgb2Ygbm90aGluZyBoZXJlLCBzbyBpdCdzXG4vLyBlYXNpZXIgdG8gaGFuZGxlIHRoaXMgY2FzZS4gaWYoIWdsb2JhbCkgeyAuLi59XG5cbm1vZHVsZS5leHBvcnRzID0gZztcbiIsIlxuZXhwb3J0IGNvbnN0IG10b2YgPSAobm90ZTogbnVtYmVyKTogbnVtYmVyID0+IE1hdGgucG93KDIsIChub3RlKS8xMikgKiA0NDA7XG5cbmV4cG9ydCBjb25zdCBmdG9tID0gKG5vdGU6IG51bWJlcik6IG51bWJlciA9PiBNYXRoLnNxcnQobm90ZS80NDApLzEyO1xuXG5leHBvcnQgY29uc3QgY2hvb3NlID0gKGFycmF5OiBBcnJheTxhbnk+KTogYW55ID0+IHtcbiAgICByZXR1cm4gYXJyYXlbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogYXJyYXkubGVuZ3RoKV07XG4gIH07XG5cbmV4cG9ydCBjb25zdCBnZXRSYXRlRnJvbUZyZXF1ZW5jaWVzID0gKGZyZXEsIGJhc2VGcmVxKTogbnVtYmVyID0+IHtcbiAgcmV0dXJuIGZyZXEvYmFzZUZyZXE7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0Q2xvc2VzdE1lbWJlciA9IChzdWJqZWN0LCBzZXQpID0+IHtcbiAgcmV0dXJuIHNldC5yZWR1Y2UoIChhY2N1bSwgbWVtYmVyKSA9PiB7XG4gICAgY29uc3QgcHJldkRpc3RhbmNlID0gYWNjdW0gLSBzdWJqZWN0O1xuICAgIGNvbnN0IGN1cnJlbnREaXN0YW5jZSA9IG1lbWJlciAtIHN1YmplY3Q7XG5cbiAgICByZXR1cm4gTWF0aC5hYnMoIGN1cnJlbnREaXN0YW5jZSApIDwgTWF0aC5hYnMoIHByZXZEaXN0YW5jZSApID8gbWVtYmVyIDogYWNjdW07XG4gIH0sIHNldFswXSk7XG59O1xuXG5leHBvcnQgY29uc3QgZmluZEluQ29sbGVjdGlvbiA9IChjb2xsZWN0aW9uLCBwcmVkaWNhdGVGdW5jdGlvbikgPT4ge1xuICByZXR1cm4gY29sbGVjdGlvbi5yZWR1Y2UoIChhY2N1bSwgbWVtYmVyKSA9PiBwcmVkaWNhdGVGdW5jdGlvbihtZW1iZXIpID8gbWVtYmVyIDogYWNjdW0gKTtcbn07XG5cbmV4cG9ydCBjb25zdCBtYXBUb0RvbWFpbiA9IChzZXQsIGRvbWFpbikgPT4ge1xuICBjb25zdCBzZXRPZmZzZXQgPSBNYXRoLm1pbiguLi5kb21haW4pIC0gTWF0aC5taW4oLi4uc2V0KTtcbiAgY29uc3QgZG9tYWluUmFuZ2UgPSAoIE1hdGgubWF4KC4uLmRvbWFpbikgLSBNYXRoLm1pbiguLi5kb21haW4pICk7XG4gIGNvbnN0IHNldFJhbmdlID0gKCBNYXRoLm1heCguLi5zZXQpIC0gTWF0aC5taW4oLi4uc2V0KSApO1xuXG4gIHJldHVybiBzZXQubWFwKCBtZW1iZXIgPT4gZ2V0Q2xvc2VzdE1lbWJlciggKCggKG1lbWJlciAtIE1hdGgubWluKC4uLnNldCkpIC8gc2V0UmFuZ2UpICogZG9tYWluUmFuZ2UgKSArIHNldE9mZnNldCwgZG9tYWluKSk7XG59O1xuXG4gIC8vIFRPRE86IEkgZGlkIHRoZSB0cnVlL2ZhbHNlIGJhY2t3YXJkcyBvbiB0aGlzIGJ1dCBldmVyeXRoaW5nIHVzZXMgaXQgdGhpcyB3YXkuXG5leHBvcnQgY29uc3QgZmxpcENvaW4gPSAocHJvYmFiaWxpdHk9MC41KTogYm9vbGVhbiA9PiAoTWF0aC5yYW5kb20oKSA8IHByb2JhYmlsaXR5KSA/IGZhbHNlIDogdHJ1ZTtcblxuZXhwb3J0IGNvbnN0IG1ha2VGdW5jdGlvbiA9ICh2YWx1ZSk6IEZ1bmN0aW9uID0+IHtcbiAgaWYodHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbiAgZWxzZSB7XG4gICAgcmV0dXJuICgpID0+IHZhbHVlO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3Qgd2luZGV4ID0gKHdlaWdodHM6IEFycmF5PG51bWJlcj4pOiBudW1iZXIgPT4ge1xuICBsZXQgc3VtT2ZXZWlnaHRzID0gd2VpZ2h0cy5yZWR1Y2UoIChwcmV2LCBjdXJyKSA9PiBwcmV2ICsgY3Vycik7XG5cbiAgbGV0IHJhbmROdW0gPSBNYXRoLnJhbmRvbSgpICogc3VtT2ZXZWlnaHRzO1xuICBsZXQgd2VpZ2h0U3VtID0gMDtcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IHdlaWdodHMubGVuZ3RoOyBpKyspIHtcbiAgICB3ZWlnaHRTdW0gKz0gd2VpZ2h0c1tpXTtcbiAgICB3ZWlnaHRTdW0gPSArd2VpZ2h0U3VtLnRvRml4ZWQoMik7XG5cbiAgICBpZiAocmFuZE51bSA8PSB3ZWlnaHRTdW0pIHtcbiAgICAgIHJldHVybiBpO1xuICAgIH1cbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IG5vcm1hbGl6ZSA9IChjb2xsOiBudW1iZXJbXSk6IG51bWJlcltdID0+IHtcbiAgbGV0IGNvbGxTdW0gPSBjb2xsLnJlZHVjZSgoYSxiKSA9PiBhK2IpO1xuICByZXR1cm4gY29sbFN1bSA+IDAgPyBjb2xsLm1hcCggKHdlaWdodCkgPT4gd2VpZ2h0IC8gY29sbFN1bSkgOiBjb2xsLm1hcCgoKSA9PiAwKTtcbn07XG5cbmV4cG9ydCBjb25zdCBpc0VxdWl2YWxlbnQgPSAoYSwgYik6IGJvb2xlYW4gPT4ge1xuICAvLyBDcmVhdGUgYXJyYXlzIG9mIHByb3BlcnR5IG5hbWVzXG4gIHZhciBhUHJvcHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhhKTtcbiAgdmFyIGJQcm9wcyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGIpO1xuXG4gIC8vIElmIG51bWJlciBvZiBwcm9wZXJ0aWVzIGlzIGRpZmZlcmVudCxcbiAgLy8gb2JqZWN0cyBhcmUgbm90IGVxdWl2YWxlbnRcbiAgaWYgKGFQcm9wcy5sZW5ndGggIT0gYlByb3BzLmxlbmd0aCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYVByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHByb3BOYW1lID0gYVByb3BzW2ldO1xuXG4gICAgLy8gSWYgdmFsdWVzIG9mIHNhbWUgcHJvcGVydHkgYXJlIG5vdCBlcXVhbCxcbiAgICAvLyBvYmplY3RzIGFyZSBub3QgZXF1aXZhbGVudFxuICAgIGlmIChhW3Byb3BOYW1lXSAhPT0gYltwcm9wTmFtZV0pIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICAvLyBJZiB3ZSBtYWRlIGl0IHRoaXMgZmFyLCBvYmplY3RzXG4gIC8vIGFyZSBjb25zaWRlcmVkIGVxdWl2YWxlbnRcbiAgcmV0dXJuIHRydWU7XG59O1xuXG5leHBvcnQgY29uc3QgbW9kID0gKG51bSwgbW9kdWxvKSA9PiAobnVtICUgbW9kdWxvICsgbW9kdWxvKSAlIG1vZHVsbztcblxuZXhwb3J0IGNvbnN0IGdldFNlcXVlbnRpYWxSYW5kb21JbmRleCA9ICggbGFzdEluZGV4OiBudW1iZXIsIGxlbmd0aDogbnVtYmVyICk6IG51bWJlciA9PiB7XG4gIGNvbnN0IHBvc3NpYmxlSW5kZXhlcyA9IEFycmF5KGxlbmd0aCkuZmlsbCgwKS5tYXAoIChpdGVtLGkpID0+IGkpLmZpbHRlcihpdGVtID0+IGl0ZW0gIT09IGxhc3RJbmRleCk7XG5cbiAgcmV0dXJuIGNob29zZShwb3NzaWJsZUluZGV4ZXMpO1xufTtcbiIsIlxuaW1wb3J0IHsgZmxpcENvaW4gfSBmcm9tIFwiLi91dGlsc1wiO1xuXG5cbmNsYXNzIEdlbmV0aWMge1xuICBwdWJsaWMgcG9wdWxhdGlvbjogbnVtYmVyW11bXTtcbiAgcHJpdmF0ZSBnb2FsOiBudW1iZXJbXTtcbiAgcHJpdmF0ZSBzY29yZXM6IG51bWJlcltdO1xuICBwcml2YXRlIGxhc3RTdGF0ZTogbnVtYmVyW107XG5cbiAgY29uc3RydWN0b3IoaW5wdXRQb3B1bGF0aW9uOiBudW1iZXJbXVtdLCBnb2FsOiBudW1iZXJbXSkge1xuICAgIHRoaXMucG9wdWxhdGlvbiA9IGlucHV0UG9wdWxhdGlvbjtcbiAgICB0aGlzLnNjb3JlcyA9IEFycmF5KGlucHV0UG9wdWxhdGlvbi5sZW5ndGgpLmZpbGwoMCk7XG4gICAgdGhpcy5nb2FsID0gZ29hbDtcbiAgICB0aGlzLmxhc3RTdGF0ZSA9IGlucHV0UG9wdWxhdGlvbltNYXRoLmZsb29yKCBNYXRoLnJhbmRvbSgpICogKGlucHV0UG9wdWxhdGlvbi5sZW5ndGgtMSkpIF07XG4gIH1cblxuXG4gIC8vIEFjY3VtdWxhdGUgYW5kIHJldHVybiB0aGUgc2NvcmUgZm9yIGEgc2luZ2xlIGNvbGxlY3Rpb25cbiAgZ2V0VG90YWxGaXRuZXNzUmF0aW5nKGNvbGxlY3Rpb246IG51bWJlcltdLCBnb2FsOiBudW1iZXJbXSkge1xuICAgIGxldCBzY29yZTogbnVtYmVyID0gMDsgLy8gbG93ZXIgaXMgYmV0dGVyXG4gICAgbGV0IG5vcm1hbGl6ZWRDb2xsZWN0aW9uID0gY29sbGVjdGlvbi5tYXAoKG51bTogbnVtYmVyKSA9PiBudW0gLSBNYXRoLm1pbi5hcHBseShudWxsLCBjb2xsZWN0aW9uKSApO1xuXG4gICAgZm9yKGxldCBpPW5vcm1hbGl6ZWRDb2xsZWN0aW9uLmxlbmd0aC0xOyBpID49IDA7IGktLSkge1xuICAgICAgc2NvcmUgKz0gdGhpcy5nZXREaXN0YW5jZShub3JtYWxpemVkQ29sbGVjdGlvbltpXSwgZ29hbFtpXSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHNjb3JlO1xuICB9XG5cbiAgLy8gVE9ETzogdGVzdFxuICAvLyBVc2luZyB0aGUgZ2l2ZW4gc2NvcmVzLCBnZXQgdGhlIG1vc3QgXCJmaXRcIiB0d28gZ2VuZXJhdGlvbnMgb3V0IG9mIHRoZSBwb3B1bGF0aW9uXG4gIGdldFRvcFR3b0dlbmVyYXRpb25zKHNjb3JlczogbnVtYmVyW10sIHBvcHVsYXRpb246IG51bWJlcltdW10pOiBudW1iZXJbXVtdIHtcblxuICAgIGxldCBpbmRleE9mSGlnaGVzdFNjb3JlID0gMDtcblxuICAgIGZvcihsZXQgaT1zY29yZXMubGVuZ3RoLTE7IGk+PTA7IGktLSkge1xuICAgICAgaWYoc2NvcmVzW2luZGV4T2ZIaWdoZXN0U2NvcmVdIDwgc2NvcmVzW2ldKSB7XG4gICAgICAgIGluZGV4T2ZIaWdoZXN0U2NvcmUgPSBpO1xuICAgICAgfVxuXG4gICAgICAvLyBJZiB0aGVyZSBhcmUgdHdvIG9mIHRoZSBzYW1lIHNjb3JlcywgY2hvb3NlIG9uZSByYW5kb21seVxuICAgICAgaWYoc2NvcmVzW2luZGV4T2ZIaWdoZXN0U2NvcmVdID09PSBzY29yZXNbaV0pIHtcbiAgICAgICAgY29uc3QgY29pbkZsaXAgPSBNYXRoLnJhbmRvbSgpO1xuXG4gICAgICAgIGluZGV4T2ZIaWdoZXN0U2NvcmUgPSAoY29pbkZsaXAgPiAwLjUpID8gaW5kZXhPZkhpZ2hlc3RTY29yZSA6IGk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbGV0IGluZGV4T2ZOZXh0SGlnaGVzdFNjb3JlOiBudW1iZXIgPSAwO1xuICAgIGNvbnN0IHRvcEdlbmVyYXRpb25TY29yZTogbnVtYmVyID0gc2NvcmVzW2luZGV4T2ZIaWdoZXN0U2NvcmVdO1xuXG5cbiAgICBjb25zdCBjb2luRmxpcEZvck11dGF0ZSA9IGZsaXBDb2luKDAuMjUpO1xuXG4gICAgaWYoY29pbkZsaXBGb3JNdXRhdGUpIHtcbiAgICAgIGluZGV4T2ZOZXh0SGlnaGVzdFNjb3JlID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogc2NvcmVzLmxlbmd0aCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgZm9yKGxldCBpPXNjb3Jlcy5sZW5ndGgtMTsgaT49MDsgaS0tKSB7XG4gICAgICAgIC8vIElnbm9yZSBhbnkgc2NvcmVzIHRoYXQgYXJlIGFscmVhZHkgdGhlIGhpZ2hlc3Qgc2NvcmVcbiAgICAgICAgaWYoc2NvcmVzW2ldICE9PSB0b3BHZW5lcmF0aW9uU2NvcmUpIHtcblxuICAgICAgICAgIGlmKHNjb3Jlc1tpbmRleE9mTmV4dEhpZ2hlc3RTY29yZV0gPCBzY29yZXNbaV0pIHtcbiAgICAgICAgICAgIGluZGV4T2ZOZXh0SGlnaGVzdFNjb3JlID0gaTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBJZiB0aGVyZSBhcmUgdHdvIG9mIHRoZSBzYW1lIHNjb3JlcywgY2hvb3NlIG9uZSByYW5kb21seVxuICAgICAgICAgIGlmKHNjb3Jlc1tpbmRleE9mTmV4dEhpZ2hlc3RTY29yZV0gPT09IHNjb3Jlc1tpXSkge1xuICAgICAgICAgICAgY29uc3QgY29pbkZsaXAgPSBNYXRoLnJhbmRvbSgpO1xuXG4gICAgICAgICAgICBpbmRleE9mTmV4dEhpZ2hlc3RTY29yZSA9IChjb2luRmxpcCA+IDAuNSkgPyBpbmRleE9mTmV4dEhpZ2hlc3RTY29yZSA6IGk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIFtwb3B1bGF0aW9uW2luZGV4T2ZIaWdoZXN0U2NvcmVdLCBwb3B1bGF0aW9uW2luZGV4T2ZOZXh0SGlnaGVzdFNjb3JlXSBdO1xuICB9XG5cbiAgLy8gVE9ETzogTWFrZSBtb3JlIHRoYW4gb25lIHR5cGUgb2YgbWF0aW5nXG4gIC8vIFRha2UgaW4gdHdvIGFycmF5cyAocGFyZW50cykgYW5kIG1hdGUgdGhlbSBpbiBhIG51bWJlciBvZiBkaWZmZXJlbnQgd2F5cyB0byBwcm9kdWNlIG11bHRpcGxlIG9mZnNwcmluZ1xuICBtYXRlR2VuZXJhdGlvbnMocGFyZW50czogbnVtYmVyW11bXSk6IG51bWJlcltdW10ge1xuXG4gICAgY29uc3Qgc3BsaWNlZE9mZnNwcmluZyA9IHRoaXMuZ2V0U3BsaWNlZE9mZnNwcmluZyhwYXJlbnRzWzBdLCBwYXJlbnRzWzFdKTtcbiAgICBjb25zdCBpbnRlcmxhY2VkT2Zmc3ByaW5nID0gdGhpcy5nZXRJbnRlcmxhY2VkT2Zmc3ByaW5nKHBhcmVudHNbMF0sIHBhcmVudHNbMV0pO1xuXG4gICAgLy8gR2VuZXJhdGUgbW9yZSB0aGFuIG9uZSBvZmZzcHJpbmdcbiAgICByZXR1cm4gW3NwbGljZWRPZmZzcHJpbmcsIGludGVybGFjZWRPZmZzcHJpbmddO1xuICB9XG5cbiAgLy8gU3BsaWNlIHR3byBlcXVhbC1sZW5ndGggYXJyYXlzIHRvZ2V0aGVyIGFuZCByZXR1cm4gdGhlIHJlc3VsdFxuICBnZXRJbnRlcmxhY2VkT2Zmc3ByaW5nKHBhcmVudE9uZTogbnVtYmVyW10sIHBhcmVudFR3bzogbnVtYmVyW10pOiBudW1iZXJbXSB7XG4gICAgY29uc3QgaW50ZXJsYWNlZE9mZnNwcmluZyA9IEFycmF5KHBhcmVudE9uZS5sZW5ndGgpO1xuXG4gICAgZm9yKGxldCBpPWludGVybGFjZWRPZmZzcHJpbmcubGVuZ3RoLTE7IGk+PTA7IGktLSkge1xuICAgICAgaW50ZXJsYWNlZE9mZnNwcmluZ1tpXSA9IChpJTIpID09PSAwID8gcGFyZW50T25lW2ldIDogcGFyZW50VHdvW2ldO1xuICAgIH1cblxuICAgIHJldHVybiBpbnRlcmxhY2VkT2Zmc3ByaW5nO1xuICB9XG5cbiAgZ2V0U3BsaWNlZE9mZnNwcmluZyhwYXJlbnRPbmU6IG51bWJlcltdLCBwYXJlbnRUd286IG51bWJlcltdKTogbnVtYmVyW10ge1xuICAgIGNvbnN0IGNvaW5GbGlwOiBudW1iZXIgPSBNYXRoLnJhbmRvbSgpID4gMC41ID8gMSA6IDA7XG4gICAgY29uc3QgcGFyZW50cyA9IGNvaW5GbGlwID09IDAgPyBbcGFyZW50T25lLCBwYXJlbnRUd29dIDogW3BhcmVudFR3bywgcGFyZW50T25lXTtcbiAgICBjb25zdCBzcGxpdFBvaW50OiBudW1iZXIgPSBNYXRoLmZsb29yKHBhcmVudE9uZS5sZW5ndGggLyAyKTtcblxuICAgIGNvbnN0IHNwbGljZWRPZmZzcHJpbmcgPSBbLi4uKHBhcmVudHNbMF0uc2xpY2UoMCwgc3BsaXRQb2ludCkpLCAuLi4ocGFyZW50c1sxXS5zbGljZShzcGxpdFBvaW50LTEsIHBhcmVudHNbMV0ubGVuZ3RoLTEpKSBdO1xuXG4gICAgcmV0dXJuIHNwbGljZWRPZmZzcHJpbmc7XG4gIH1cblxuICAvLyBSZXR1cm5zIGEgbnVtZXJpY2FsIGRpc3RhbmNlIGJldHdlZW4gYW4gaW5wdXQgYW5kIGEgZ29hbFxuICBnZXREaXN0YW5jZShpbnB1dDogbnVtYmVyLCBnb2FsOiBudW1iZXIpIHtcbiAgICBsZXQgcmF0aW5nOiBudW1iZXIgPSBnb2FsIC0gaW5wdXQ7XG5cbiAgICByZXR1cm4gcmF0aW5nO1xuICB9XG5cblxuXG5cblxuICAvLyBDYWxjdWxhdGUgYW5kIHJldHVybiB0aGUgc2NvcmVzIGZvciBhbGwgY3VycmVudCBjb2xsZWN0aW9uc1xuICBnZXRQb3B1bGF0aW9uU2NvcmVzKHBvcHVsYXRpb246IG51bWJlcltdW10sIGdvYWw6IG51bWJlcltdKTogbnVtYmVyW10ge1xuICAgIGxldCBzY29yZXMgPSBBcnJheShwb3B1bGF0aW9uLmxlbmd0aCkuZmlsbCgwKTtcblxuICAgIGZvcihsZXQgaT0ocG9wdWxhdGlvbi5sZW5ndGgtMSk7IGk+PTA7IGktLSkge1xuICAgICAgc2NvcmVzW2ldID0gdGhpcy5nZXRUb3RhbEZpdG5lc3NSYXRpbmcocG9wdWxhdGlvbltpXSwgZ29hbCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHNjb3JlcztcbiAgfVxuXG4gIGdldE5leHRHZW5lcmF0aW9uKHBvcHVsYXRpb246IG51bWJlcltdW10sIGdvYWw6IG51bWJlcltdKSB7XG4gICAgY29uc3QgcG9wdWxhdGlvblNjb3JlczpudW1iZXJbXSA9IHRoaXMuZ2V0UG9wdWxhdGlvblNjb3Jlcyhwb3B1bGF0aW9uLCBnb2FsKTtcbiAgICBjb25zdCB0b3BUd29HZW5lcmF0aW9uczpudW1iZXJbXVtdID0gdGhpcy5nZXRUb3BUd29HZW5lcmF0aW9ucyhwb3B1bGF0aW9uU2NvcmVzLCBwb3B1bGF0aW9uKTtcbiAgICBjb25zdCBuZXdHZW5lcmF0aW9uczpudW1iZXJbXVtdID0gdGhpcy5tYXRlR2VuZXJhdGlvbnModG9wVHdvR2VuZXJhdGlvbnMpO1xuXG4gICAgZm9yKGxldCBpPTA7IGkgPCAobmV3R2VuZXJhdGlvbnMubGVuZ3RoLTEpOyBpKyspIHtcbiAgICAgIHRoaXMucG9wdWxhdGlvbi5zcGxpY2UoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKHRoaXMucG9wdWxhdGlvbi5sZW5ndGgtMSkpLCAxKTtcbiAgICB9XG4gICAgdGhpcy5wb3B1bGF0aW9uID0gWy4uLnRoaXMucG9wdWxhdGlvbiwgLi4ubmV3R2VuZXJhdGlvbnNdO1xuICAgIC8vIEZvciBub3cgcmFuZG9tbHkgc2VsZWN0IG9uZSBvZiB0aGUgYmVzdCBnZW5lcmF0aW9uc1xuICAgIGNvbnN0IGJlc3RGaXRHZW5lcmF0aW9uID0gbmV3R2VuZXJhdGlvbnNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG5ld0dlbmVyYXRpb25zLmxlbmd0aCAqIDAuOTk5KSldO1xuXG4gICAgcmV0dXJuIGJlc3RGaXRHZW5lcmF0aW9uO1xuICB9XG5cbiAgZ2V0TmV4dFN0YXRlKHN0YXRlOiBudW1iZXJbXSkge1xuICAgIC8vIFRPRE86IFVzZSBzdGF0ZSB0byBhZGQgaW50byB0aGUgcG9wdWxhdGlvblxuXG4gICAgY29uc3QgbmV4dFN0YXRlOiBudW1iZXJbXSA9IHRoaXMuZ2V0TmV4dEdlbmVyYXRpb24odGhpcy5wb3B1bGF0aW9uLCB0aGlzLmdvYWwpO1xuXG4gICAgcmV0dXJuIG5leHRTdGF0ZTtcbiAgfVxuXG4gIGFzUGF0dGVybigpIHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcblxuICAgIHJldHVybiBmdW5jdGlvbiogYXNQYXR0ZXJuKGluaXRpYWxTdGF0ZTogbnVtYmVyW10pIHtcbiAgICAgIHNlbGYubGFzdFN0YXRlID0gaW5pdGlhbFN0YXRlO1xuXG4gICAgICB3aGlsZSh0cnVlKSB7XG4gICAgICAgIGNvbnN0IG5leHRTdGF0ZSA9IHNlbGYuZ2V0TmV4dFN0YXRlKHNlbGYubGFzdFN0YXRlKTtcbiAgICAgICAgc2VsZi5sYXN0U3RhdGUgPSBuZXh0U3RhdGU7XG5cbiAgICAgICAgeWllbGQgbmV4dFN0YXRlO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxufTtcblxuZXhwb3J0IHsgR2VuZXRpYyB9O1xuXG4iLCIvKlxuICogQmFzaWMgUGF0dGVybnMgaW1wbGVtZW50YXRpb25cbiAqL1xuXG5jb25zdCBNYXJrb3YgPSByZXF1aXJlKFwibWFya292blwiKS5kZWZhdWx0O1xuaW1wb3J0IHsgR2VuZXRpYyB9IGZyb20gXCIuL0dlbmV0aWNcIjtcblxuZXhwb3J0IGNvbnN0IFBhdHRlcm4gPSAocGF0dGVybikgPT4gWygpID0+IHBhdHRlcm4ubmV4dCgpLnZhbHVlXTtcblxuZXhwb3J0IGNvbnN0IFBzZXEgPSBmdW5jdGlvbiogUHNlcSh2YWx1ZXM6IEFycmF5PGFueT4sIHJlcGV0aXRpb25zOiBudW1iZXIpe1xuICB2YXIgaW5kZXg6IG51bWJlciA9IDA7XG4gIHZhciByZXN1bHQgPSAoKTogYW55ID0+IHZhbHVlc1tpbmRleCsrICUgdmFsdWVzLmxlbmd0aF07XG5cbiAgaWYocmVwZXRpdGlvbnMgPT0gdW5kZWZpbmVkKSB7XG4gICAgd2hpbGUodHJ1ZSkge1xuICAgICAgeWllbGQgcmVzdWx0KCk7XG4gICAgfVxuICB9XG4gIGVsc2Uge1xuICAgIGZvcih2YXIgaT0wOyBpPHJlcGV0aXRpb25zOyBpKyspIHtcbiAgICAgIHlpZWxkIHJlc3VsdCgpO1xuICAgIH1cbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IFByYW5kID0gZnVuY3Rpb24qIFByYW5kKHZhbHVlczogQXJyYXk8YW55PiwgcmVwZXRpdGlvbnM6IG51bWJlcil7XG5cbiAgdmFyIHJlc3VsdCA9ICgpOiBhbnkgPT4gdmFsdWVzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHZhbHVlcy5sZW5ndGgpXTtcblxuICBpZihyZXBldGl0aW9ucyA9PSB1bmRlZmluZWQpIHtcbiAgICB3aGlsZSh0cnVlKSB7XG4gICAgICB5aWVsZCByZXN1bHQoKTtcbiAgICB9XG4gIH1cbiAgZWxzZSB7XG4gICAgZm9yKHZhciBpPTA7IGk8cmVwZXRpdGlvbnM7IGkrKykge1xuICAgICAgeWllbGQgcmVzdWx0KCk7XG4gICAgfVxuICB9XG59O1xuXG5leHBvcnQgY29uc3QgUG1hcmtvdiA9IGZ1bmN0aW9uIFBtYXJrb3Yoc2VlZDogYW55W10sIG9yZGVyOiBudW1iZXIsIGluaXRpYWxTdGF0ZTogYW55W10pIHtcbiAgY29uc3QgbWFya292Q2hhaW4gPSBuZXcgTWFya292KHNlZWQsIG9yZGVyKTtcblxuICByZXR1cm4gbWFya292Q2hhaW4uYXNQYXR0ZXJuKGluaXRpYWxTdGF0ZSk7XG59O1xuXG5leHBvcnQgY29uc3QgUGdlbmV0aWMgPSBmdW5jdGlvbiogUGdlbmV0aWMoaW5wdXRQb3B1bGF0aW9uOiBudW1iZXJbXVtdLCBnb2FsOiBudW1iZXJbXSkge1xuICBsZXQgZ2VuZXRpYzogR2VuZXRpYyA9IG5ldyBHZW5ldGljKGlucHV0UG9wdWxhdGlvbiwgZ29hbCk7XG5cbiAgbGV0IGxhc3RTdGF0ZTogbnVtYmVyW10gPSBnb2FsO1xuXG4gIHdoaWxlKHRydWUpIHtcbiAgICBsZXQgbmV4dFN0YXRlOiBhbnkgPSBnZW5ldGljLmdldE5leHRTdGF0ZShsYXN0U3RhdGUpO1xuXG4gICAgbGFzdFN0YXRlID0gW2xhc3RTdGF0ZVtsYXN0U3RhdGUubGVuZ3RoLTFdLCBuZXh0U3RhdGVdO1xuXG4gICAgeWllbGQgbmV4dFN0YXRlO1xuICB9XG59O1xuXG4iLCJpbXBvcnQgU3ludGggZnJvbSAnLi9TeW50aCc7XG5pbXBvcnQgeyBQbWFya292LCBQZ2VuZXRpYyB9IGZyb20gJy4vcGF0dGVybnMnO1xuaW1wb3J0IHsgSVNvdW5kUGxheWVyIH0gZnJvbSAnLi9Tb3VuZFBsYXllcic7XG5pbXBvcnQgeyBJRnJlcUJpbiB9IGZyb20gJy4uL3Rvb2xzL3NwZWN0cnVtUGVha1BhcnNlcic7XG5pbXBvcnQgeyBtb2QsIG1ha2VGdW5jdGlvbiwgbWFwVG9Eb21haW4sIGZsaXBDb2luLCBjaG9vc2UgfSBmcm9tICcuL3V0aWxzJztcblxuZXhwb3J0IGludGVyZmFjZSBJU3BlY3RydW1Db25maWcge1xuICBhdWRpb0ZpbGU6IHN0cmluZyxcbiAgc3BlY3RydW06IElGcmVxQmluW10sXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVNjZW5lQ29uZmlnIHtcbiAgcG9wdWxhdGlvblNpemU6IG51bWJlcixcbiAgaW5pdGlhbFBvcHVsYXRpb246IGFueVtdW10sXG4gIHRhcmdldDogYW55W10sIC8vIEluIEZyZXF1ZW5jeVxuICBtYXhHZW5lcmF0aW9uczogbnVtYmVyO1xuICB0aW1lQmV0d2VlbkV2ZW50czogYW55IHxudW1iZXIgfCBGdW5jdGlvbixcbiAgZ2FwQmV0d2VlbkV2ZW50czogYW55IHwgbnVtYmVyIHwgRnVuY3Rpb24sXG4gIG1lbG9keU9zY2lsbGF0b3JzOiBJU291bmRQbGF5ZXJbXSxcbiAgY2hvcmRPc2NpbGxhdG9yczogSVNvdW5kUGxheWVyW10sXG4gIG9uRmluaXNoOiBGdW5jdGlvbixcbn1cblxuZXhwb3J0IGNsYXNzIFNjZW5lIHtcbiAgbm90ZXM6IEl0ZXJhYmxlSXRlcmF0b3I8YW55PjtcbiAgY3VycmVudEdlbmVyYXRpb246IG51bWJlcjtcbiAgY29uZmlnOiBJU2NlbmVDb25maWc7XG4gIG9uRmluaXNoOiBGdW5jdGlvbjtcblxuICBwdWJsaWMgY29uc3RydWN0b3IoY29uZmlnOiBJU2NlbmVDb25maWcpIHtcbiAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcblxuICAgIHRoaXMuY29uZmlnLnRpbWVCZXR3ZWVuRXZlbnRzID0gbWFrZUZ1bmN0aW9uKHRoaXMuY29uZmlnLnRpbWVCZXR3ZWVuRXZlbnRzKTtcbiAgICB0aGlzLmNvbmZpZy5nYXBCZXR3ZWVuRXZlbnRzID0gbWFrZUZ1bmN0aW9uKHRoaXMuY29uZmlnLmdhcEJldHdlZW5FdmVudHMpO1xuICAgIHRoaXMubm90ZXMgPSBQZ2VuZXRpYyhjb25maWcuaW5pdGlhbFBvcHVsYXRpb24sIGNvbmZpZy50YXJnZXQpO1xuICAgIHRoaXMuY29uZmlnLm1heEdlbmVyYXRpb25zID0gY29uZmlnLm1heEdlbmVyYXRpb25zO1xuICAgIHRoaXMuY3VycmVudEdlbmVyYXRpb24gPSAwO1xuXG4gICAgdGhpcy5jb25maWcub25GaW5pc2ggPSBjb25maWcub25GaW5pc2g7XG4gIH1cblxuICBwdWJsaWMgcGxheSgpOiBTY2VuZSB7XG4gICAgY29uc3QgbmV4dEdlbjogbnVtYmVyW10gPSB0aGlzLm5vdGVzLm5leHQoKS52YWx1ZTtcbiAgICBjb25zdCBuZXdOb3RlczogbnVtYmVyW10gPSBuZXh0R2VuO1xuXG4gICAgbGV0IGkgPSAwO1xuICAgIGxldCBrID0gKE1hdGgucmFuZG9tKCkgPiAwLjUpID8gMCA6IDE7XG4gICAgdGhpcy5jb25maWcuY2hvcmRPc2NpbGxhdG9ycy5tYXAoKG9zYykgPT4ge1xuICAgICAgY29uc3Qgb2N0YXZlID0gTWF0aC5jZWlsKE1hdGgucmFuZG9tKCkgKiA1KTtcbiAgICAgIG9zYy5wbGF5KHtmcmVxOiBuZXdOb3Rlc1tpXS9vY3RhdmUsIHRpbWU6IHRoaXMuY29uZmlnLnRpbWVCZXR3ZWVuRXZlbnRzKCksIHBhbjogKChrJTIpKjIpIC0gMSwgdm9sOiAwLjQ1fSk7IGkrKzsgaysrO1xuICAgIH0pO1xuXG4gICAgdGhpcy5wbGF5TWVsb2R5KG5ld05vdGVzLCB0aGlzLmN1cnJlbnRHZW5lcmF0aW9uKTtcblxuICAgIGlmKHRoaXMuY3VycmVudEdlbmVyYXRpb24gPD0gKHRoaXMuY29uZmlnLm1heEdlbmVyYXRpb25zLTEpICkge1xuICAgICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0aGlzLmN1cnJlbnRHZW5lcmF0aW9uKys7XG4gICAgICAgIHRoaXMucGxheSgpO1xuICAgICAgfSwgKHRoaXMuY29uZmlnLnRpbWVCZXR3ZWVuRXZlbnRzKCkgKyB0aGlzLmNvbmZpZy5nYXBCZXR3ZWVuRXZlbnRzKCkpICogMTAwMCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5jdXJyZW50R2VuZXJhdGlvbisrO1xuICAgICAgdGhpcy5lbmRPZlNjZW5lKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBwcml2YXRlIHBsYXlNZWxvZHkoIG5vdGVzLCBnZW5lcmF0aW9uICk6IHZvaWQge1xuICAgIGNvbnN0IG9yZGVyID0gMztcbiAgICBjb25zdCBuZXdOb3RlcyA9IG5vdGVzO1xuXG4gICAgLy8gVGFrZW4gZnJvbSB0aGUgc2VxdWVuY2Ugb2YgcGl0Y2hlcyBpbiBcIkZvcmV2ZXIgaW4gQmx1ZSBKZWFuc1wiIGJ5IE5laWwgRGlhbW9uZFxuICAgIGNvbnN0IGlkZWFsTWVsb2R5ID0gbWFwVG9Eb21haW4oWzAsNCwyLDAsNyw0LDIsNyw3LDQsMiwyLDQsNCwyLDBdLCBuZXdOb3Rlcyk7XG4gICAgY29uc3Qgcmh5dGhtTWFwcGluZ3MgPSBbMC41LCAwLjUsIDAuNSwgMC41LCAwLjUsIDEsIDIsIDAuMjUsIDAuNSwgMSwgMSwgMC41LCAwLjUsIDAuNSwgMC4yNSwgMiBdXG4gICAgICAubWFwKCAoIHJoeXRobSwgaSApID0+IFtpZGVhbE1lbG9keVtpXSwgcmh5dGhtXSk7XG4gICAgY29uc3QgcmFuZG9tU2hpZnRBbW91bnQgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoaWRlYWxNZWxvZHkubGVuZ3RoKSk7XG5cbiAgICBjb25zdCBpbml0aWFsU3RhdGUgPSBbXTtcbiAgICBmb3IobGV0IG9mZnNldCA9IG9yZGVyOyBvZmZzZXQgPj0gMDsgb2Zmc2V0LS0pIHtcbiAgICAgIGluaXRpYWxTdGF0ZS5wdXNoKCBpZGVhbE1lbG9keVttb2QocmFuZG9tU2hpZnRBbW91bnQtb2Zmc2V0LCBpZGVhbE1lbG9keS5sZW5ndGgpXSk7XG4gICAgfVxuXG4gICAgY29uc3QgbWFya292TWVsb2R5ID0gUG1hcmtvdihpZGVhbE1lbG9keSwgb3JkZXIsIGluaXRpYWxTdGF0ZSApO1xuXG4gICAgbGV0IGkgPSAwO1xuICAgIGNvbnN0IHBsYXlOZXh0Tm90ZSA9IChnZW5lcmF0aW9uKSA9PiB7XG4gICAgICBjb25zdCBvY3RhdmUgPSBNYXRoLmNlaWwoTWF0aC5yYW5kb20oKSAqIDMpICsgTWF0aC5jZWlsKE1hdGgucmFuZG9tKCkgKiAzICkgKyAyO1xuICAgICAgY29uc3QgbmV4dE5vdGUgPSBtYXJrb3ZNZWxvZHkubmV4dCgpLnZhbHVlO1xuICAgICAgY29uc3QgbmV4dFJoeXRobSA9IHJoeXRobU1hcHBpbmdzLmZpbHRlciggbm90ZVJoeXRobSA9PiBub3RlUmh5dGhtWzBdID09PSBuZXh0Tm90ZSk7XG5cbiAgICAgIGlmKG5leHROb3RlICE9PSB1bmRlZmluZWQgJiYgZmxpcENvaW4oMC41NSkgKSB7IC8vIFNvbWV0aW1lcyBwcm9iYWJsaXRpZXMgYXJlIHplcm8sIHNvIHdlJ2xsIGdldCBhbiB1bmRlZmluZWQgbmV4dCBzdGF0ZVxuICAgICAgICB0aGlzLmNvbmZpZy5tZWxvZHlPc2NpbGxhdG9yc1tpICUgdGhpcy5jb25maWcubWVsb2R5T3NjaWxsYXRvcnMubGVuZ3RoXS5wbGF5KHtcbiAgICAgICAgICBmcmVxOiBuZXh0Tm90ZS9vY3RhdmUsXG4gICAgICAgICAgdGltZTogMSArIChNYXRoLnJhbmRvbSgpICogNiksXG4gICAgICAgICAgcGFuOiAoTWF0aC5yYW5kb20oKSAqIDEpIC0gMC41LFxuICAgICAgICAgIHZvbDogMC4zNVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGkrKztcblxuICAgICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBpZihnZW5lcmF0aW9uID09PSB0aGlzLmN1cnJlbnRHZW5lcmF0aW9uICYmIHRoaXMuY3VycmVudEdlbmVyYXRpb24gPD0gdGhpcy5jb25maWcubWF4R2VuZXJhdGlvbnMpIHtcbiAgICAgICAgICBwbGF5TmV4dE5vdGUoZ2VuZXJhdGlvbik7XG4gICAgICAgIH1cbiAgICAgIC8vIH0sICgoTWF0aC5yYW5kb20oKSAqIDIpICsgMC41KSAqIDEwMDApO1xuICAgICAgfSwgKChjaG9vc2UobmV4dFJoeXRobSlbMV0gKiAyKSArIDAuNSkgKiAxMDAwKTtcbiAgICB9XG5cbiAgICBwbGF5TmV4dE5vdGUoZ2VuZXJhdGlvbik7XG5cbiAgfVxuXG4gIHByaXZhdGUgZW5kT2ZTY2VuZSgpIHtcbiAgICBjb25zdCBvbkZpbmlzaENhbGxiYWNrID0gdGhpcy5jb25maWcub25GaW5pc2g7XG5cbiAgICB0aGlzLmNvbmZpZy5jaG9yZE9zY2lsbGF0b3JzLm1hcCggc3ludGggPT4gc3ludGguc3RvcCgxKSApO1xuXG4gICAgd2luZG93LnNldFRpbWVvdXQob25GaW5pc2hDYWxsYmFjaywgMTAwMCk7XG4gIH1cbn1cblxuIiwiLy8gQmFzaWMgY3VydmUgZnJvbSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvV2F2ZVNoYXBlck5vZGVcbmNvbnN0IG1ha2VEaXN0b3J0aW9uQ3VydmUgPSBhbW91bnQgPT4ge1xuICB2YXIgayA9IHR5cGVvZiBhbW91bnQgPT09ICdudW1iZXInID8gYW1vdW50IDogNTAsXG4gICAgbl9zYW1wbGVzID0gNDQxMDAsXG4gICAgY3VydmUgPSBuZXcgRmxvYXQzMkFycmF5KG5fc2FtcGxlcyksXG4gICAgZGVnID0gTWF0aC5QSSAvIDE4MCxcbiAgICBpID0gMCxcbiAgICB4O1xuICBmb3IgKCA7IGkgPCBuX3NhbXBsZXM7ICsraSApIHtcbiAgICB4ID0gaSAqIDIgLyBuX3NhbXBsZXMgLSAxO1xuICAgIGN1cnZlW2ldID0gKCAzICsgayApICogeCAqIDIwICogZGVnIC8gKCBNYXRoLlBJICsgayAqIE1hdGguYWJzKHgpICk7XG4gIH1cbiAgcmV0dXJuIGN1cnZlO1xufTtcblxuXG5pbXBvcnQge0lTb3VuZFBsYXllciwgSVBsYXlPcHRpb25zfSBmcm9tICcuL1NvdW5kUGxheWVyJztcbmltcG9ydCB7IGZsaXBDb2luIH0gZnJvbSAnLi91dGlscyc7XG5cbmludGVyZmFjZSBJU3ludGhPcHRpb25zIHtcbiAgLy8gd2F2ZWZvcm1UeXBlPzogc3RyaW5nLFxuICB3YXZlZm9ybVR5cGU/OiBPc2NpbGxhdG9yVHlwZSxcbn1cbmludGVyZmFjZSBJU3ludGhOb2RlcyB7XG4gIG9zY2lsbGF0b3I6IGFueTtcbiAgZ2Fpbk5vZGU6IGFueTtcbiAgd2F2ZVNoYXBlcjogYW55O1xuICBwYW5uZXI6IFN0ZXJlb1Bhbm5lck5vZGU7XG59XG5cbmNsYXNzIFN5bnRoIGltcGxlbWVudHMgSVNvdW5kUGxheWVyIHtcbiAgcHJpdmF0ZSBzeW50aE5vZGVzOiBJU3ludGhOb2RlcztcbiAgcHJpdmF0ZSBjb25maWc6IElTeW50aE9wdGlvbnM7XG4gIHByaXZhdGUgY29udGV4dDogQXVkaW9Db250ZXh0O1xuXG4gIGNvbnN0cnVjdG9yKGNvbnRleHQsIGNvbmZpZz86IElTeW50aE9wdGlvbnMpIHtcbiAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgIHRoaXMuY29uZmlnID0gY29uZmlnID8gY29uZmlnIDoge307XG4gIH1cblxuICBwcml2YXRlIGluaXQoKSB7XG4gICAgY29uc3QgY29udGV4dCA9IHRoaXMuY29udGV4dDtcblxuICAgIGNvbnN0IG9zY2lsbGF0b3IgPSBjb250ZXh0LmNyZWF0ZU9zY2lsbGF0b3IoKTtcbiAgICB0aGlzLmNvbmZpZy53YXZlZm9ybVR5cGUgJiYgKG9zY2lsbGF0b3IudHlwZSA9IHRoaXMuY29uZmlnLndhdmVmb3JtVHlwZSk7XG5cbiAgICBjb25zdCBnYWluTm9kZSA9IGNvbnRleHQuY3JlYXRlR2FpbigpO1xuICAgIGNvbnN0IHBhbm5lciA9IGNvbnRleHQuY3JlYXRlU3RlcmVvUGFubmVyKCk7XG4gICAgY29uc3Qgd2F2ZVNoYXBlciA9IGNvbnRleHQuY3JlYXRlV2F2ZVNoYXBlcigpO1xuICAgIHdhdmVTaGFwZXIuY3VydmUgPSBtYWtlRGlzdG9ydGlvbkN1cnZlKDgwMCk7XG4gICAgd2F2ZVNoYXBlci5vdmVyc2FtcGxlID0gJzR4JztcblxuICAgIG9zY2lsbGF0b3IuY29ubmVjdChnYWluTm9kZSk7XG4gICAgZ2Fpbk5vZGUuY29ubmVjdChwYW5uZXIpO1xuICAgIHBhbm5lci5jb25uZWN0KHdhdmVTaGFwZXIpO1xuICAgIHdhdmVTaGFwZXIuY29ubmVjdChjb250ZXh0LmRlc3RpbmF0aW9uKTtcblxuICAgIG9zY2lsbGF0b3IudHlwZSA9IHRoaXMuY29uZmlnLndhdmVmb3JtVHlwZSA/IHRoaXMuY29uZmlnLndhdmVmb3JtVHlwZSA6IGZsaXBDb2luKCkgPyAndHJpYW5nbGUnIDogJ3NpbmUnO1xuICAgIGdhaW5Ob2RlLmdhaW4udmFsdWUgPSAwO1xuXG4gICAgdGhpcy5zeW50aE5vZGVzID0ge1xuICAgICAgb3NjaWxsYXRvcixcbiAgICAgIGdhaW5Ob2RlLFxuICAgICAgd2F2ZVNoYXBlcixcbiAgICAgIHBhbm5lcixcbiAgICB9O1xuICB9XG5cbiAgcHVibGljIHBsYXkob3B0OiBJUGxheU9wdGlvbnMpIHtcbiAgICBjb25zdCB7ZnJlcT0yMjAsIHRpbWU9MSwgcGFuPTAsIHZvbD0xfSA9IG9wdDtcbiAgICB0aGlzLmluaXQoKTtcblxuICAgIGNvbnN0IHtcbiAgICAgIG9zY2lsbGF0b3IsXG4gICAgICBnYWluTm9kZSxcbiAgICAgIHdhdmVTaGFwZXIsXG4gICAgICBwYW5uZXIsXG4gICAgfSA9IHRoaXMuc3ludGhOb2RlcztcblxuXG4gICAgbGV0IGdhaW4gPSAwLjAxO1xuICAgIG9zY2lsbGF0b3IuZnJlcXVlbmN5LnZhbHVlID0gZnJlcTtcblxuICAgIG9wdC5kaXN0b3J0aW9uICYmICh3YXZlU2hhcGVyLmN1cnZlID0gbWFrZURpc3RvcnRpb25DdXJ2ZShvcHQuZGlzdG9ydGlvbikgKTtcbiAgICAvLyBzb21lIHN0dXBpZCBiYXNpYyBwc3ljaG9hY291c3RpYyBzaGFwaW5nXG4gICAgaWYoZnJlcSA+IDIwMCkgZ2FpbiA9IGdhaW4qMC4xMjtcbiAgICBpZihmcmVxID4gNjAwMCkgZ2FpbiA9IGdhaW4qMC4wODtcbiAgICBwYW5uZXIucGFuLnZhbHVlID0gcGFuO1xuICAgIG9zY2lsbGF0b3Iuc3RhcnQoMCk7XG4gICAgZ2Fpbk5vZGUuZ2Fpbi5zZXRUYXJnZXRBdFRpbWUodm9sICogZ2FpbiAqICgwLjU1IC0gKE1hdGgucmFuZG9tKCkgKiAwLjAxKSksIHRoaXMuY29udGV4dC5jdXJyZW50VGltZSwgdGltZSAqIDAuODUgKTtcblxuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgIHNlbGYuc3RvcCh0aW1lICogMC4yNSk7XG4gICAgfSwgKHRpbWUgLSAodGltZSowLjI1KSkgKiAxMDAwKTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgcHVibGljIHN0b3AodGltZSkge1xuICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLmNvbnRleHQ7XG4gICAgY29uc3Qge1xuICAgICAgb3NjaWxsYXRvcixcbiAgICAgIGdhaW5Ob2RlLFxuICAgIH0gPSB0aGlzLnN5bnRoTm9kZXM7XG5cbiAgICBnYWluTm9kZS5nYWluLnNldFRhcmdldEF0VGltZSgwLCBjb250ZXh0LmN1cnJlbnRUaW1lLCB0aW1lKjAuOSApO1xuICAgIG9zY2lsbGF0b3Iuc3RvcChjb250ZXh0LmN1cnJlbnRUaW1lICsgKCB0aW1lICogNCApKTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFN5bnRoO1xuIiwiLy8gQmFzaWMgY3VydmUgZnJvbSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvV2F2ZVNoYXBlck5vZGVcbmNvbnN0IG1ha2VEaXN0b3J0aW9uQ3VydmUgPSBhbW91bnQgPT4ge1xuICB2YXIgayA9IHR5cGVvZiBhbW91bnQgPT09ICdudW1iZXInID8gYW1vdW50IDogNTAsXG4gICAgbl9zYW1wbGVzID0gNDQxMDAsXG4gICAgY3VydmUgPSBuZXcgRmxvYXQzMkFycmF5KG5fc2FtcGxlcyksXG4gICAgZGVnID0gTWF0aC5QSSAvIDE4MCxcbiAgICBpID0gMCxcbiAgICB4O1xuICBmb3IgKCA7IGkgPCBuX3NhbXBsZXM7ICsraSApIHtcbiAgICB4ID0gaSAqIDIgLyBuX3NhbXBsZXMgLSAxO1xuICAgIGN1cnZlW2ldID0gKCAzICsgayApICogeCAqIDIwICogZGVnIC8gKCBNYXRoLlBJICsgayAqIE1hdGguYWJzKHgpICk7XG4gIH1cbiAgcmV0dXJuIGN1cnZlO1xufTtcblxuXG5pbXBvcnQge0lTb3VuZFBsYXllciwgSVBsYXlPcHRpb25zfSBmcm9tICcuL1NvdW5kUGxheWVyJztcblxuaW50ZXJmYWNlIElTeW50aE9wdGlvbnMge1xuICB3YXZlZm9ybVR5cGU/OiBzdHJpbmcsXG59XG5cbmNvbnN0IGJ1ZmZlclNpemUgPSA0MDk2O1xuY29uc3QgY3JlYXRlQnJvd25Ob2lzZSA9IGF1ZGlvQ29udGV4dCA9PiB7XG4gICAgdmFyIGxhc3RPdXQgPSAwLjA7XG4gICAgdmFyIG5vZGUgPSBhdWRpb0NvbnRleHQuY3JlYXRlU2NyaXB0UHJvY2Vzc29yKGJ1ZmZlclNpemUsIDEsIDEpO1xuICAgIG5vZGUub25hdWRpb3Byb2Nlc3MgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIHZhciBvdXRwdXQgPSBlLm91dHB1dEJ1ZmZlci5nZXRDaGFubmVsRGF0YSgwKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBidWZmZXJTaXplOyBpKyspIHtcbiAgICAgICAgICAgIHZhciB3aGl0ZSA9IE1hdGgucmFuZG9tKCkgKiAyIC0gMTtcbiAgICAgICAgICAgIG91dHB1dFtpXSA9IChsYXN0T3V0ICsgKDAuMDIgKiB3aGl0ZSkpIC8gMS4wMjtcbiAgICAgICAgICAgIGxhc3RPdXQgPSBvdXRwdXRbaV07XG4gICAgICAgICAgICBvdXRwdXRbaV0gKj0gMy41OyAvLyAocm91Z2hseSkgY29tcGVuc2F0ZSBmb3IgZ2FpblxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBub2RlO1xufTtcblxuY2xhc3MgTm9pc2UgaW1wbGVtZW50cyBJU291bmRQbGF5ZXIge1xuICBvc2NpbGxhdG9yOiBhbnk7XG4gIGNvbnRleHQ6IEF1ZGlvQ29udGV4dDtcbiAgZ2Fpbk5vZGU7XG4gIHdhdmVTaGFwZXI7XG4gIHBhbm5lcjogU3RlcmVvUGFubmVyTm9kZTtcbiAgZmlsdGVyO1xuICBmaWx0ZXIyO1xuICBjb25maWc6IElTeW50aE9wdGlvbnM7XG5cbiAgY29uc3RydWN0b3IoY29udGV4dCwgY29uZmlnPzogSVN5bnRoT3B0aW9ucykge1xuICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG5cbiAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZyA/IGNvbmZpZyA6IHt9O1xuICB9XG5cbiAgcHJpdmF0ZSBpbml0KCkge1xuICAgIHRoaXMub3NjaWxsYXRvciA9IGNyZWF0ZUJyb3duTm9pc2UodGhpcy5jb250ZXh0KTtcbiAgICAvL3RoaXMuY29uZmlnLndhdmVmb3JtVHlwZSAmJiAodGhpcy5vc2NpbGxhdG9yLnR5cGUgPSB0aGlzLmNvbmZpZy53YXZlZm9ybVR5cGUpO1xuXG4gICAgdGhpcy5nYWluTm9kZSA9IHRoaXMuY29udGV4dC5jcmVhdGVHYWluKCk7XG4gICAgdGhpcy5wYW5uZXIgPSB0aGlzLmNvbnRleHQuY3JlYXRlU3RlcmVvUGFubmVyKCk7XG4gICAgdGhpcy5maWx0ZXIgPSB0aGlzLmNvbnRleHQuY3JlYXRlQmlxdWFkRmlsdGVyKCk7XG4gICAgdGhpcy5maWx0ZXIudHlwZSA9ICdwZWFraW5nJztcbiAgICB0aGlzLmZpbHRlcjIgPSB0aGlzLmNvbnRleHQuY3JlYXRlQmlxdWFkRmlsdGVyKCk7XG4gICAgdGhpcy5maWx0ZXIyLnR5cGUgPSAnYmFuZHBhc3MnO1xuXG4gICAgdGhpcy53YXZlU2hhcGVyID0gdGhpcy5jb250ZXh0LmNyZWF0ZVdhdmVTaGFwZXIoKTtcbiAgICB0aGlzLndhdmVTaGFwZXIuY3VydmUgPSBtYWtlRGlzdG9ydGlvbkN1cnZlKDgwKTtcbiAgICB0aGlzLndhdmVTaGFwZXIub3ZlcnNhbXBsZSA9ICc0eCc7XG5cbiAgICB0aGlzLm9zY2lsbGF0b3IuY29ubmVjdCh0aGlzLndhdmVTaGFwZXIpO1xuICAgIHRoaXMud2F2ZVNoYXBlci5jb25uZWN0KHRoaXMuZmlsdGVyKTtcbiAgICB0aGlzLmZpbHRlci5jb25uZWN0KHRoaXMuZmlsdGVyMik7XG4gICAgdGhpcy5maWx0ZXIyLmNvbm5lY3QodGhpcy5wYW5uZXIpO1xuICAgIHRoaXMucGFubmVyLmNvbm5lY3QodGhpcy5nYWluTm9kZSk7XG4gICAgdGhpcy5nYWluTm9kZS5jb25uZWN0KHRoaXMuY29udGV4dC5kZXN0aW5hdGlvbik7XG5cbiAgICAvL3RoaXMub3NjaWxsYXRvci50eXBlID0gdGhpcy5jb25maWcud2F2ZWZvcm1UeXBlID8gdGhpcy5jb25maWcud2F2ZWZvcm1UeXBlIDogdXRpbHMuZmxpcENvaW4oKSA/ICd0cmlhbmdsZScgOiAnc2luZSc7XG4gICAgdGhpcy5nYWluTm9kZS5nYWluLnZhbHVlID0gMDtcbiAgfVxuXG4gIHB1YmxpYyBwbGF5KG9wdDogSVBsYXlPcHRpb25zKSB7XG4gICAgY29uc3Qge2ZyZXE9MjIwLCB0aW1lPTEsIHBhbj0wLCB2b2w9MX0gPSBvcHQ7XG4gICAgdGhpcy5pbml0KCk7XG5cbiAgICBsZXQgZ2FpbiA9IDEuMDtcbiAgICAvL3RoaXMub3NjaWxsYXRvci5mcmVxdWVuY3kudmFsdWUgPSBmcmVxO1xuICAgIHRoaXMuZmlsdGVyLmZyZXF1ZW5jeS52YWx1ZSA9IGZyZXE7XG4gICAgdGhpcy5maWx0ZXIuUS52YWx1ZSA9IDUwLjkwMTtcbiAgICB0aGlzLmZpbHRlci5nYWluLnZhbHVlID0gMjA7XG5cbiAgICB0aGlzLmZpbHRlcjIuZnJlcXVlbmN5LnZhbHVlID0gZnJlcTtcbiAgICB0aGlzLmZpbHRlcjIuUS52YWx1ZSA9IDE1LjkwMTtcbiAgICB0aGlzLmZpbHRlcjIuZ2Fpbi52YWx1ZSA9IDYwO1xuXG4gICAgb3B0LmRpc3RvcnRpb24gJiYgKHRoaXMud2F2ZVNoYXBlci5jdXJ2ZSA9IG1ha2VEaXN0b3J0aW9uQ3VydmUob3B0LmRpc3RvcnRpb24pICk7XG4gICAgLy8gc29tZSBzdHVwaWQgYmFzaWMgcHlzY2hvYWNvdXN0aWMgc2hhcGluZ1xuICAgIGlmKGZyZXEgPiAyMDApIGdhaW4gPSBnYWluKjAuMTI7XG4gICAgdGhpcy5wYW5uZXIucGFuLnZhbHVlID0gcGFuO1xuICAgIHRoaXMuZ2Fpbk5vZGUuZ2Fpbi52YWx1ZSA9IDAuMDAxO1xuICAgIHRoaXMuZ2Fpbk5vZGUuZ2Fpbi5leHBvbmVudGlhbFJhbXBUb1ZhbHVlQXRUaW1lKHZvbCAqIGdhaW4sIHRoaXMuY29udGV4dC5jdXJyZW50VGltZSArIHRpbWUpO1xuXG5cbiAgICBzZXRUaW1lb3V0KHRoaXMuc3RvcC5iaW5kKHRoaXMpLCAodGltZSsxKSAqIDEwMDApO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBwdWJsaWMgc3RvcCgpIHtcbiAgICB0aGlzLmdhaW5Ob2RlLmdhaW4uc2V0VGFyZ2V0QXRUaW1lKDAsIHRoaXMuY29udGV4dC5jdXJyZW50VGltZSwgMC4wMSApO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbn1cblxuZXhwb3J0IHsgTm9pc2UgfTtcbiIsImltcG9ydCB7SG93bCwgSG93bGVyfSBmcm9tICdob3dsZXInO1xuaW1wb3J0IHsgZ2V0UmF0ZUZyb21GcmVxdWVuY2llcywgZ2V0Q2xvc2VzdE1lbWJlciwgZmluZEluQ29sbGVjdGlvbiB9IGZyb20gJy4vdXRpbHMnO1xuaW1wb3J0IHtJU291bmRQbGF5ZXIsIElQbGF5T3B0aW9ucywgSVNhbXBsZX0gZnJvbSAnLi9Tb3VuZFBsYXllcic7XG5cbmludGVyZmFjZSBJUGxheWVyIHtcbiAgcGxheWVyOiBIb3dsLFxuICBiYXNlRnJlcTogbnVtYmVyLFxufVxuXG5jbGFzcyBNdWx0aVNhbXBsZXIgaW1wbGVtZW50cyBJU291bmRQbGF5ZXIge1xuICBwbGF5ZXJzOiBJUGxheWVyW107XG4gIGNvbnRleHQ6IEF1ZGlvQ29udGV4dDtcbiAgZ2Fpbk5vZGU7XG4gIHBhbm5lcjogU3RlcmVvUGFubmVyTm9kZTtcblxuICBjb25zdHJ1Y3Rvcihjb250ZXh0LCBvcHQ6IHsgc2FtcGxlczogSVNhbXBsZVtdIH0gKSB7XG4gICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICB0aGlzLnBsYXllcnMgPSBvcHQuc2FtcGxlcy5tYXAoIHNhbXBsZUNvbmZpZyA9PiAoe3BsYXllcjogbmV3IEhvd2woe3NyYzogc2FtcGxlQ29uZmlnLmZpbGVzfSksIGJhc2VGcmVxOiBzYW1wbGVDb25maWcuZnJlcX0pICk7XG4gIH1cblxuICBwdWJsaWMgcGxheShvcHQ6IElQbGF5T3B0aW9ucykge1xuICAgIGNvbnN0IHtmcmVxPTIyMCwgdGltZT0xLCBwYW49MCwgdm9sPTF9ID0gb3B0O1xuXG4gICAgbGV0IGdhaW4gPSAxO1xuICAgIGNvbnN0IHNhbXBsZVBsYXllciA9IHRoaXMuZmluZENsb3Nlc3RTYW1wbGVQbGF5ZXIoIGZyZXEgKTtcbiAgICBjb25zdCBjdXJyZW50bHlQbGF5aW5nU2FtcGxlSUQgPSBzYW1wbGVQbGF5ZXIucGxheWVyLnBsYXkoKTtcbiAgICBzYW1wbGVQbGF5ZXIucGxheWVyLmxvb3AoIGZhbHNlLCBjdXJyZW50bHlQbGF5aW5nU2FtcGxlSUQgKTtcbiAgICBzYW1wbGVQbGF5ZXIucGxheWVyLnJhdGUoIGdldFJhdGVGcm9tRnJlcXVlbmNpZXMoIGZyZXEsIHNhbXBsZVBsYXllci5iYXNlRnJlcSApLCBjdXJyZW50bHlQbGF5aW5nU2FtcGxlSUQgKTtcbiAgICAvLyBzb21lIHN0dXBpZCBiYXNpYyBweXNjaG9hY291c3RpYyBzaGFwaW5nXG4gICAgaWYoZnJlcSA+IDIwMCkgZ2FpbiA9IGdhaW4qMC4yO1xuICAgIHNhbXBsZVBsYXllci5wbGF5ZXIuZmFkZSggMCwgZ2FpbiAqIHZvbCwgMjAwLCBjdXJyZW50bHlQbGF5aW5nU2FtcGxlSUQgKTtcbiAgICBzYW1wbGVQbGF5ZXIucGxheWVyLnN0ZXJlbyggcGFuLCBjdXJyZW50bHlQbGF5aW5nU2FtcGxlSUQgKTtcblxuXG4gICAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICBzYW1wbGVQbGF5ZXIucGxheWVyLmZhZGUoIGdhaW4gKiB2b2wsIDAsIDIwMCwgY3VycmVudGx5UGxheWluZ1NhbXBsZUlEICk7XG4gICAgICB0aGlzLnN0b3AodGltZSwgc2FtcGxlUGxheWVyLCBjdXJyZW50bHlQbGF5aW5nU2FtcGxlSUQgKTtcbiAgICB9LmJpbmQodGhpcyksICggdGltZSAqIDEwMDAgKSArIDIwMCk7IC8vIGFkZGluZyBhIDEwMCBtcyBidWZmZXIgdG8gYXZvaWQgYW55IGlzc3Vlc1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBwdWJsaWMgc3RvcCh0aW1lLCBzYW1wbGVQbGF5ZXIsIGN1cnJlbnRseVBsYXlpbmdTYW1wbGVJRCkge1xuICAgIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgc2FtcGxlUGxheWVyLnBsYXllci5zdG9wKCk7XG4gICAgfS5iaW5kKHRoaXMpLCAzMDApOyAvLyBhZGRpbmcgYSAxMDAgbXMgYnVmZmVyIHRvIGF2b2lkIGFueSBpc3N1ZXNcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgcHJpdmF0ZSBmaW5kQ2xvc2VzdFNhbXBsZVBsYXllciggZnJlcTpudW1iZXIgKTogSVBsYXllciB7XG4gICAgLy8gQ2FuIG9ubHkgZ2V0IHRoZSBjbG9zZXN0IGZyZXF1ZW5jeSBpbiB0aGUgc2V0IG9mIFBsYXllcnMnIGZyZXF1ZW5jaWVzIHNvIGdldCB0aGF0IGZyZXF1ZW5jeSwgdGhlbiBmaWx0ZXIgdGhlIHBsYXllcnNcbiAgICBjb25zdCBjbG9zZXN0UGxheWVyRnJlcXVlbmN5ID0gZ2V0Q2xvc2VzdE1lbWJlcihmcmVxLCB0aGlzLnBsYXllcnMubWFwKCBwbGF5ZXIgPT4gcGxheWVyLmJhc2VGcmVxKSApO1xuICAgIHJldHVybiBmaW5kSW5Db2xsZWN0aW9uKCB0aGlzLnBsYXllcnMsIG1lbWJlciA9PiBtZW1iZXIgPT09IGNsb3Nlc3RQbGF5ZXJGcmVxdWVuY3kgKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBNdWx0aVNhbXBsZXI7XG4iLCJpbXBvcnQgeyBTY2VuZSwgSVNjZW5lQ29uZmlnIH0gZnJvbSAnLi9TY2VuZSc7XG5pbXBvcnQgU3ludGggZnJvbSAnLi9TeW50aCc7XG5pbXBvcnQgeyBOb2lzZSB9IGZyb20gJy4vTm9pc2UnO1xuaW1wb3J0IE11bHRpU2FtcGxlciBmcm9tICcuL011bHRpU2FtcGxlcic7XG5pbXBvcnQgeyBJRnJlcUJpbiB9IGZyb20gJy4uL3Rvb2xzL3NwZWN0cnVtUGVha1BhcnNlcic7XG5pbXBvcnQgeyBnZXRTZXF1ZW50aWFsUmFuZG9tSW5kZXgsIGZsaXBDb2luLCBjaG9vc2UgfSBmcm9tICcuL3V0aWxzJztcbi8vIGltcG9ydCB7IEF1ZGlvQ29udGV4dCB9IGZyb20gJ3N0YW5kYXJkaXplZC1hdWRpby1jb250ZXh0JzsgLy8gTm90IHlldCB3b3JraW5nIGR1ZSB0byBteSB1c2Ugb2YgY3JlYXRlU2NyaXB0UHJvY2Vzc29yKCkgaW4gTm9pc2UudHNcblxuaW1wb3J0IHNwZWN0cmFsRGF0YSBmcm9tICcuL3NwZWN0cmFsRGF0YS5qc29uJztcblxuZXhwb3J0IGludGVyZmFjZSBJV05TQ29uZmlnIHtcbiAgc2FtcGxlUGF0aDogc3RyaW5nXG59O1xuXG5jb25zdCBkZWZhdWx0Q29uZmlnOiBJV05TQ29uZmlnID0ge1xuICBzYW1wbGVQYXRoOiBcInNhbXBsZXMvXCIsXG59O1xuXG5jb25zdCBXTlMgPSAoY29uZmlnPzogSVdOU0NvbmZpZykgPT4ge1xuICBjb25maWcgPSBjb25maWcgPyB7Li4uZGVmYXVsdENvbmZpZywgLi4uY29uZmlnfSA6IGRlZmF1bHRDb25maWc7XG5cbiAgY29uc3QgYmFja2dyb3VuZFNhbXBsZXMgPSA8YW55PnNwZWN0cmFsRGF0YTtcblxuICAvLyBTZXR1cFxuICBjb25zdCBwb3B1bGF0aW9uU2l6ZSA9IDE2O1xuICBjb25zdCBjb250ZXh0ID0gbmV3IEF1ZGlvQ29udGV4dCgpO1xuXG4gIGNvbnN0IGNob3JkT3NjaWxsYXRvcnMgPSBBcnJheShwb3B1bGF0aW9uU2l6ZSkuZmlsbCgwKS5tYXAoKCkgPT5cbiAgICBuZXcgU3ludGgoY29udGV4dClcbiAgKTtcblxuICBjb25zdCBtdWx0aVNhbXBsZXJPcHRzID0ge1xuICAgIHNhbXBsZXM6IFtcbiAgICAgIC8veyBmaWxlczogWyBjb25maWcuc2FtcGxlUGF0aCArIFwicGlwZUcubXAzXCIgXSwgZnJlcTogMTk5IH0sXG4gICAgICAvL3sgZmlsZXM6IFsgY29uZmlnLnNhbXBsZVBhdGggKyBcInBpcGVELm1wM1wiIF0sIGZyZXE6IDMwNiB9LFxuICAgICAgeyBmaWxlczogWyBjb25maWcuc2FtcGxlUGF0aCArIFwicGlwZUEubXAzXCIgXSwgZnJlcTogNDQ1IH0sXG4gICAgICB7IGZpbGVzOiBbIGNvbmZpZy5zYW1wbGVQYXRoICsgXCJwaXBlRS5tcDNcIiBdLCBmcmVxOiA2NjYgfSxcbiAgICAgIHsgZmlsZXM6IFsgY29uZmlnLnNhbXBsZVBhdGggKyBcInBpYW5vMi0zMjQubXAzXCIgXSwgZnJlcTogMzI0IH0sXG4gICAgICB7IGZpbGVzOiBbIGNvbmZpZy5zYW1wbGVQYXRoICsgXCJwaWFubzMtODE0Lm1wM1wiIF0sIGZyZXE6IDgxNCB9LFxuICAgIF0sXG4gIH07XG4gIGNvbnN0IG1lbG9keU9zY2lsbGF0b3JzID0gQXJyYXkocG9wdWxhdGlvblNpemUpLmZpbGwoMCkubWFwKCgpID0+IGZsaXBDb2luKCkgPyBuZXcgTXVsdGlTYW1wbGVyKCBjb250ZXh0LCBtdWx0aVNhbXBsZXJPcHRzICkgOiBuZXcgU3ludGgoY29udGV4dCkpO1xuICBjb25zdCBzb3VyY2VTYW1wbGVzID0gYmFja2dyb3VuZFNhbXBsZXMubWFwKCBzYW1wbGVEYXRhID0+IG5ldyBNdWx0aVNhbXBsZXIoY29udGV4dCwge1xuICAgIHNhbXBsZXM6IFtcbiAgICAgIHsgZmlsZXM6IFsgY29uZmlnLnNhbXBsZVBhdGggKyBzYW1wbGVEYXRhLmF1ZGlvRmlsZSBdLCBmcmVxOiAxIH0sXG4gICAgXSxcbiAgfSkpO1xuICBjb25zdCBsb3dEcm9uZVBsYXllciA9IG5ldyBNdWx0aVNhbXBsZXIoY29udGV4dCwge1xuICAgIHNhbXBsZXM6IFtcbiAgICAgIHsgZmlsZXM6IFsgY29uZmlnLnNhbXBsZVBhdGggKyBcImxvd0Ryb25lLm1wM1wiIF0sIGZyZXE6IDEgfSxcbiAgICBdLFxuICB9KTtcblxuICBjb25zdCBiZWxscyA9IEFycmF5KDIpLmZpbGwoMCkubWFwKCAoKSA9PlxuICAgIG5ldyBOb2lzZShjb250ZXh0KVxuICApO1xuXG4gIGNvbnN0IGdldFByb21pbmVudEZyZXF1ZW5jaWVzID0gc3BlY3RydW0gPT4gc3BlY3RydW1cbiAgICAucmVkdWNlKCAoYWNjdW06IElGcmVxQmluW10sIGJpbjogSUZyZXFCaW4pID0+IGFjY3VtWzBdLm1hZ25pdHVkZSA8IGJpbi5tYWduaXR1ZGUgPyBbIGJpbiBdIDogYWNjdW0sIFt7ZnJlcTogMCwgbWFnbml0dWRlOiAtMTAwfV0pXG4gICAgLm1hcCggYmluID0+IGJpbi5mcmVxKVxuICAgIC5tYXAoICggc3Ryb25nZXN0RnJlcTogbnVtYmVyICkgPT4gQXJyYXkoc3BlY3RydW0ubGVuZ3RoKS5maWxsKDApLm1hcCggKGl0ZW0sIGkpID0+IHtcbiAgICAgIGNvbnN0IGhhcm1vbmljID0gc3Ryb25nZXN0RnJlcSAqIChpKzEpO1xuICAgICAgY29uc3QgaGlnaGVzdEZyZXEgPSA3MDAwO1xuICAgICAgaWYgKGhhcm1vbmljID4gaGlnaGVzdEZyZXEpIHtcbiAgICAgICAgY29uc3QgZGl2aXNvciA9IE1hdGguY2VpbChoYXJtb25pYyAvIGhpZ2hlc3RGcmVxKTtcbiAgICAgICAgcmV0dXJuIGhhcm1vbmljIC8gZGl2aXNvcjtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gaGFybW9uaWM7XG4gICAgICB9XG4gICAgfSlcbiAgICApWzBdO1xuXG4gIGNvbnN0IHBsYXlCZWxscyA9ICgpID0+IHtcbiAgICBjb25zdCBkdXJhdGlvbiA9IDQ1O1xuICAgIGJlbGxzLmZvckVhY2goIChiZWxsLCBpKSA9PiB7XG4gICAgICBjb25zdCByYW5kb21NdWwgPSAoTWF0aC5yYW5kb20oKSAqIDAuMjUpICsgMTtcbiAgICAgIGNvbnN0IGZyZXFzID0gWzIwOTAsIDIzOTNdO1xuICAgICAgYmVsbC5wbGF5KHtcbiAgICAgICAgcGFuOiAoaSAqIDIpIC0gMSxcbiAgICAgICAgZnJlcTogZnJlcXNbaV0gKiByYW5kb21NdWwsXG4gICAgICAgIHZvbDogNy44LFxuICAgICAgICB0aW1lOiBkdXJhdGlvbixcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgc2V0VGltZW91dChwbGF5TmV3U2NlbmUsIChkdXJhdGlvbiArIDEyKSAqIDEwMDApOyAvLyBUaW1pbmcgaXMgd2VpcmQgaW4gdGhlIHBsYXllci4gVGhpcyByZXN1bHRzIGluIGEgZ2FwIHdoaWNoIGlzIHdoYXQgSSB3YW50XG4gIH07XG5cbiAgY29uc3QgcGxheURyb25lID0gKCkgPT4ge1xuICAgIGxvd0Ryb25lSXNQbGF5aW5nID0gdHJ1ZTtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHsgbG93RHJvbmVJc1BsYXlpbmcgPSBmYWxzZTsgfSwgMzMwICogMTAwMCk7IC8vIExvdyBEcm9uZSBsYXN0cyAzMDAqMTAwMCBtaWxsaXNlY29uZHMsIGFkZCBhbiBleHRyYSAzMCBzZWNvbmRzIGFmdGVyIHRvIGRlY3JlYXNlIHJlcGV0aXRpb25cbiAgICBsb3dEcm9uZVBsYXllci5wbGF5KHtmcmVxOiAxLCB0aW1lOiAzMDAgKiAxMDAwLCB2b2w6IDEuMH0pO1xuICB9O1xuXG4gIGxldCBzYW1wbGVJbmRleCA9IDA7XG5cbiAgbGV0IGludGVybHVkZUp1c3RQbGF5ZWQgPSBmYWxzZTtcbiAgbGV0IGxvd0Ryb25lSXNQbGF5aW5nID0gZmFsc2U7XG4gIGNvbnN0IHBsYXlOZXdTY2VuZSA9ICgpID0+IHtcbiAgICAvLyBPY2Nhc2lvbmFsbHkgd2Ugd2FudCB0byBwYXVzZSBmb3IgYSBtb21lbnQgdG8gcGxheSBhbiBpbnRlcmx1ZGUgaW4gc2lsZW5jZVxuICAgIGNvbnN0IHBsYXlJbnRlcmx1ZGUgPSBmbGlwQ29pbigwLjgwKTtcbiAgICBjb25zdCBwbGF5TG93RHJvbmUgPSBmbGlwQ29pbigwLjg1KTtcblxuICAgIGlmKHBsYXlJbnRlcmx1ZGUgJiYgIWludGVybHVkZUp1c3RQbGF5ZWQpIHtcbiAgICAgIGludGVybHVkZUp1c3RQbGF5ZWQgPSB0cnVlO1xuICAgICAgcGxheUJlbGxzKCk7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+XG4gICAgICAgIHtcbiAgICAgICAgICBzb3VyY2VTYW1wbGVzLmZvckVhY2goIHNhbXBsZVBsYXllciA9PiBzYW1wbGVQbGF5ZXIuc3RvcCgwLCBzYW1wbGVQbGF5ZXIucGxheWVyc1swXSkgKTtcbiAgICAgICAgICBjaG9yZE9zY2lsbGF0b3JzLmZvckVhY2goIHN5bnRoID0+IHN5bnRoLnN0b3AoMCkgKTtcbiAgICAgICAgfSxcbiAgICAgICAgMTUgKiAxMDAwXG4gICAgICApO1xuXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYocGxheUxvd0Ryb25lICYmICFsb3dEcm9uZUlzUGxheWluZykge1xuICAgICAgcGxheURyb25lKCk7XG4gICAgfVxuXG4gICAgaW50ZXJsdWRlSnVzdFBsYXllZCA9IGZhbHNlO1xuICAgIHNhbXBsZUluZGV4ID0gZ2V0U2VxdWVudGlhbFJhbmRvbUluZGV4KHNhbXBsZUluZGV4LCBiYWNrZ3JvdW5kU2FtcGxlcy5sZW5ndGgpO1xuICAgIC8vY29uc3QgdGFyZ2V0ID0gWzE5MywgNDIzLCAxNjY4LCAyMzMzLCAyNjY1LCAzMDc4LCA0MDM4LCA2MzE5LCAxOTMrMSwgNDIzKzEsIDE2NjgrMSwgMjMzMysxLCAyNjY1KzEsIDMwNzgrMSwgNDAzOCsxLCA2MzE5KzEgXTsgLy8gaW4gZnJlcXVlbmN5XG4gICAgY29uc3QgYmFja2dyb3VuZFNhbXBsZSA9IGJhY2tncm91bmRTYW1wbGVzW3NhbXBsZUluZGV4XTtcbiAgICBjb25zdCBpbml0aWFsUG9wdWxhdGlvbiA9IEFycmF5KDgwKS5maWxsKCBiYWNrZ3JvdW5kU2FtcGxlLnNwZWN0cnVtLm1hcCggYmluID0+IGJpbi5mcmVxKSApO1xuICAgIGNvbnN0IHRhcmdldCA9IGdldFByb21pbmVudEZyZXF1ZW5jaWVzKGJhY2tncm91bmRTYW1wbGUuc3BlY3RydW0pOyAvLyBUYXJnZXQgaXMgdGhlIG92ZXJ0b25lcyBvZiB0aGUgbW9zdCBwcm9taW5lbnQgZnJlcXVlbmN5IGluIHRoZSBzcGVjdHJ1bVxuXG4gICAgY29uc3Qgc2NlbmVDb25maWc6IElTY2VuZUNvbmZpZyA9IHtcbiAgICAgIGluaXRpYWxQb3B1bGF0aW9uOiBpbml0aWFsUG9wdWxhdGlvbi5tYXAoXG4gICAgICAgIGl0ZW0gPT4gaXRlbS5tYXAoXG4gICAgICAgICAgaXRlbTIgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIChNYXRoLnJhbmRvbSgpICogKHRhcmdldFt0YXJnZXQubGVuZ3RoLTFdIC0gdGFyZ2V0WzBdKSkgKyAodGFyZ2V0WzBdLTIwKVxuICAgICAgICAgIH1cbiAgICAgICAgKVxuICAgICAgKSxcbiAgICAgIHBvcHVsYXRpb25TaXplOiAxNixcbiAgICAgIG1heEdlbmVyYXRpb25zOiAyLFxuICAgICAgdGFyZ2V0LCAvLyBpbiBmcmVxdWVuY3lcbiAgICAgIHRpbWVCZXR3ZWVuRXZlbnRzOiAoKSA9PiAoTWF0aC5yYW5kb20oKSAqIDE1KSArIDEwLFxuICAgICAgZ2FwQmV0d2VlbkV2ZW50czogKCkgPT4gY2hvb3NlKFsyNSwxMF0pLFxuICAgICAgbWVsb2R5T3NjaWxsYXRvcnMsXG4gICAgICBjaG9yZE9zY2lsbGF0b3JzLFxuICAgICAgb25GaW5pc2g6IHBsYXlOZXdTY2VuZVxuICAgIH07XG5cbiAgICBzb3VyY2VTYW1wbGVzW3NhbXBsZUluZGV4XS5wbGF5KHtmcmVxOiAxLCB0aW1lOiA2MCAqIDMgKiAxMDAwLCB2b2w6IDAuMjh9KTtcblxuICAgIC8vIFN0YXJ0IHRoZSBzY2VuZVxuICAgIG5ldyBTY2VuZShzY2VuZUNvbmZpZykucGxheSgpO1xuICB9O1xuXG4gIC8vIHBsYXlOZXdTY2VuZSgpO1xuICBwbGF5QmVsbHMoKTtcbiAgLy8gcGxheURyb25lKCk7XG5cbn07XG5cbmV4cG9ydCBkZWZhdWx0IFdOUztcbmV4cG9ydCB7IFdOUyB9O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==